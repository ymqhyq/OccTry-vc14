<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open CASCADE Technology: Draw Test Harness</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="occ_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.4.0.beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('occt_user_guides__test_harness.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title"><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> Test Harness </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#occt_draw_1">Introduction</a><ul><li class="level2"><a href="#occt_draw_1_1">Overview</a></li>
<li class="level2"><a href="#occt_draw_1_2">Contents of this documentation</a></li>
<li class="level2"><a href="#occt_draw_1_3">Getting started</a><ul><li class="level3"><a href="#occt_draw_1_3_1">Launching DRAW Test Harness</a></li>
<li class="level3"><a href="#occt_draw_1_3_2">Plug-in resource file</a></li>
<li class="level3"><a href="#occt_draw_1_3_3">Activation of commands implemented in the plug-in</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_2">The Command Language</a><ul><li class="level2"><a href="#occt_draw_2_1">Overview</a></li>
<li class="level2"><a href="#occt_draw_2_2">Syntax of TCL</a></li>
<li class="level2"><a href="#occt_draw_2_3">Accessing variables in TCL and Draw</a><ul><li class="level3"><a href="#occt_draw_2_3_1">set, unset</a></li>
<li class="level3"><a href="#occt_draw_2_3_2">dset, dval</a></li>
<li class="level3"><a href="#occt_draw_2_3_3">del, dall</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_2_4">lists</a><ul><li class="level3"><a href="#occt_draw_2_5">Control Structures</a></li>
<li class="level3"><a href="#occt_draw_2_5_1">if</a></li>
<li class="level3"><a href="#occt_draw_2_5_2">while, for, foreach</a></li>
<li class="level3"><a href="#occt_draw_2_5_3">break, continue</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_2_6">Procedures</a><ul><li class="level3"><a href="#occt_draw_2_6_1">proc</a></li>
<li class="level3"><a href="#occt_draw_2_6_2">global, upvar</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_3">Basic Commands</a><ul><li class="level2"><a href="#occt_draw_3_1">General commands</a><ul><li class="level3"><a href="#occt_draw_3_1_1">help</a></li>
<li class="level3"><a href="#occt_draw_3_1_2">source</a></li>
<li class="level3"><a href="#occt_draw_3_1_3">spy</a></li>
<li class="level3"><a href="#occt_draw_3_1_4">cpulimit</a></li>
<li class="level3"><a href="#occt_draw_3_1_5">wait</a></li>
<li class="level3"><a href="#occt_draw_3_1_6">chrono</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_3_2">Variable management commands</a><ul><li class="level3"><a href="#occt_draw_3_2_1">isdraw, directory</a></li>
<li class="level3"><a href="#occt_draw_3_2_2">whatis, dump</a></li>
<li class="level3"><a href="#occt_draw_3_2_3">renamevar, copy</a></li>
<li class="level3"><a href="#occt_draw_3_2_4">datadir, save, restore</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_3_3">User defined commands</a><ul><li class="level3"><a href="#occt_draw_3_3_1">set</a></li>
<li class="level3"><a href="#occt_draw_3_3_2">get</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_4">Graphic Commands</a><ul><li class="level2"><a href="#occt_draw_4_1">Axonometric viewer</a><ul><li class="level3"><a href="#occt_draw_4_1_1">view, delete</a></li>
<li class="level3"><a href="#occt_draw_4_1_2">axo, pers, top, ...</a></li>
<li class="level3"><a href="#occt_draw_4_1_3">mu, md, 2dmu, 2dmd, zoom, 2dzoom</a></li>
<li class="level3"><a href="#occt_draw_4_14">pu, pd, pl, pr, 2dpu, 2dpd, 2dpl, 2dpr</a></li>
<li class="level3"><a href="#occt_draw_4_1_5">fit, 2dfit</a></li>
<li class="level3"><a href="#occt_draw_4_1_6">u, d, l, r</a></li>
<li class="level3"><a href="#occt_draw_4_1_7">focal, fu, fd</a></li>
<li class="level3"><a href="#occt_draw_4_1_8">color</a></li>
<li class="level3"><a href="#occt_draw_4_1_9">dtext</a></li>
<li class="level3"><a href="#occt_draw_4_1_10">hardcopy, hcolor, xwd</a></li>
<li class="level3"><a href="#occt_draw_4_1_11">wclick, pick</a></li>
<li class="level3"><a href="#occt_draw_4_1_12">autodisplay</a></li>
<li class="level3"><a href="#occt_draw_4_1_13">display, donly</a></li>
<li class="level3"><a href="#occt_draw_4_1_14">erase, clear, 2dclear</a></li>
<li class="level3"><a href="#occt_draw_4_1_14_1">disp, don, era</a></li>
<li class="level3"><a href="#occt_draw_4_1_15">repaint, dflush</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_4_2">AIS viewer -- view commands</a><ul><li class="level3"><a href="#occt_draw_4_2_1">vinit</a></li>
<li class="level3"><a href="#occt_draw_4_2_2">vhelp</a></li>
<li class="level3"><a href="#occt_draw_4_2_3">vtop</a></li>
<li class="level3"><a href="#occt_draw_4_2_4">vaxo</a></li>
<li class="level3"><a href="#occt_draw_4_2_5">vsetbg</a></li>
<li class="level3"><a href="#occt_draw_4_2_6">vclear</a></li>
<li class="level3"><a href="#occt_draw_4_2_7">vrepaint</a></li>
<li class="level3"><a href="#occt_draw_4_2_8">vfit</a></li>
<li class="level3"><a href="#occt_draw_4_2_9">vzfit</a></li>
<li class="level3"><a href="#occt_draw_4_2_10">vreadpixel</a></li>
<li class="level3"><a href="#occt_draw_4_2_11">vselect</a></li>
<li class="level3"><a href="#occt_draw_4_2_12">vmoveto</a></li>
<li class="level3"><a href="#occt_draw_4_2_13">vviewparams</a></li>
<li class="level3"><a href="#occt_draw_4_2_14">vchangeselected</a></li>
<li class="level3"><a href="#occt_draw_4_2_15">vzclipping</a></li>
<li class="level3"><a href="#occt_draw_4_2_16">vnbselected</a></li>
<li class="level3"><a href="#occt_draw_4_2_18">vpurgedisplay</a></li>
<li class="level3"><a href="#occt_draw_4_2_19">vhlr</a></li>
<li class="level3"><a href="#occt_draw_4_2_20">vhlrtype</a></li>
<li class="level3"><a href="#occt_draw_4_2_21">vcamera</a></li>
<li class="level3"><a href="#occt_draw_4_2_22">vstereo</a></li>
<li class="level3"><a href="#occt_draw_4_2_23">vfrustumculling</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_4_3">AIS viewer -- display commands</a><ul><li class="level3"><a href="#occt_draw_4_3_1">vdisplay</a></li>
<li class="level3"><a href="#occt_draw_4_3_2">vdonly</a></li>
<li class="level3"><a href="#occt_draw_4_3_3">vdisplayall</a></li>
<li class="level3"><a href="#occt_draw_4_3_4">verase</a></li>
<li class="level3"><a href="#occt_draw_4_3_5">veraseall</a></li>
<li class="level3"><a href="#occt_draw_4_3_6">vsetdispmode</a></li>
<li class="level3"><a href="#occt_draw_4_3_7">vdisplaytype</a></li>
<li class="level3"><a href="#occt_draw_4_3_8">verasetype</a></li>
<li class="level3"><a href="#occt_draw_4_3_9">vtypes</a></li>
<li class="level3"><a href="#occt_draw_4_3_10">vaspects</a></li>
<li class="level3"><a href="#occt_draw_4_3_11">vsetshading</a></li>
<li class="level3"><a href="#occt_draw_4_3_12">vunsetshading</a></li>
<li class="level3"><a href="#occt_draw_4_3_13">vsetam</a></li>
<li class="level3"><a href="#occt_draw_4_3_14">vunsetam</a></li>
<li class="level3"><a href="#occt_draw_4_3_15">vdump</a></li>
<li class="level3"><a href="#occt_draw_4_3_16">vdir</a></li>
<li class="level3"><a href="#occt_draw_4_3_17">vsub</a></li>
<li class="level3"><a href="#occt_draw_4_3_20">vsensdis</a></li>
<li class="level3"><a href="#occt_draw_4_3_21">vsensera</a></li>
<li class="level3"><a href="#occt_draw_4_3_23">vr</a></li>
<li class="level3"><a href="#occt_draw_4_3_24">vstate</a></li>
<li class="level3"><a href="#occt_draw_4_3_25">vraytrace</a></li>
<li class="level3"><a href="#occt_draw_4_3_26">vrenderparams</a></li>
<li class="level3"><a href="#occt_draw_4_3_27">vshaderprog</a></li>
<li class="level3"><a href="#occt_draw_4_3_28">vsetcolorbg</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_4_4">AIS viewer -- object commands</a><ul><li class="level3"><a href="#occt_draw_4_4_1">vtrihedron</a></li>
<li class="level3"><a href="#occt_draw_4_4_2">vplanetri</a></li>
<li class="level3"><a href="#occt_draw_4_4_3">vsize</a></li>
<li class="level3"><a href="#occt_draw_4_4_4">vaxis</a></li>
<li class="level3"><a href="#occt_draw_4_4_5">vaxispara</a></li>
<li class="level3"><a href="#occt_draw_4_4_6">vaxisortho</a></li>
<li class="level3"><a href="#occt_draw_4_4_7">vpoint</a></li>
<li class="level3"><a href="#occt_draw_4_4_8">vplane</a></li>
<li class="level3"><a href="#occt_draw_4_4_9">vplanepara</a></li>
<li class="level3"><a href="#occt_draw_4_4_10">vplaneortho</a></li>
<li class="level3"><a href="#occt_draw_4_4_11">vline</a></li>
<li class="level3"><a href="#occt_draw_4_4_12">vcircle</a></li>
<li class="level3"><a href="#occt_draw_4_4_13">vtri2d</a></li>
<li class="level3"><a href="#occt_draw_4_4_14">vselmode</a></li>
<li class="level3"><a href="#occt_draw_4_4_15">vconnect</a></li>
<li class="level3"><a href="#occt_draw_4_4_16">vtriangle</a></li>
<li class="level3"><a href="#occt_draw_4_4_17">vsegment</a></li>
<li class="level3"><a href="#occt_draw_4_4_18">vpointcloud</a></li>
<li class="level3"><a href="#occt_draw_4_4_19">vclipplane</a></li>
<li class="level3"><a href="#occt_draw_4_4_20">vdimension</a></li>
<li class="level3"><a href="#occt_draw_4_4_21">vdimparam</a></li>
<li class="level3"><a href="#occt_draw_4_4_22">vangleparam</a></li>
<li class="level3"><a href="#occt_draw_4_4_23">vlengthparam</a></li>
<li class="level3"><a href="#occt_draw_4_4_24">vmovedim</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_4_5">AIS viewer -- Mesh Visualization Service</a><ul><li class="level3"><a href="#occt_draw_4_5_1">meshfromstl</a></li>
<li class="level3"><a href="#occt_draw_4_5_2">meshdispmode</a></li>
<li class="level3"><a href="#occt_draw_4_5_3">meshselmode</a></li>
<li class="level3"><a href="#occt_draw_4_5_4">meshshadcolor</a></li>
<li class="level3"><a href="#occt_draw_4_5_5">meshlinkcolor</a></li>
<li class="level3"><a href="#occt_draw_4_5_6">meshmat</a></li>
<li class="level3"><a href="#occt_draw_4_5_7">meshshrcoef</a></li>
<li class="level3"><a href="#occt_draw_4_5_8">meshshow</a></li>
<li class="level3"><a href="#occt_draw_4_5_9">meshhide</a></li>
<li class="level3"><a href="#occt_draw_4_5_10">meshhidesel</a></li>
<li class="level3"><a href="#occt_draw_4_5_11">meshshowsel</a></li>
<li class="level3"><a href="#occt_draw_4_5_12">meshshowall</a></li>
<li class="level3"><a href="#occt_draw_4_5_13">meshdelete</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_4_6">VIS Viewer commands</a><ul><li class="level3"><a href="#occt_draw_4_6_1">ivtkinit</a></li>
<li class="level3"><a href="#occt_draw_4_6_2">ivtkdisplay</a></li>
<li class="level3"><a href="#occt_draw_4_6_3">ivtkerase</a></li>
<li class="level3"><a href="#occt_draw_4_6_4">ivtkfit</a></li>
<li class="level3"><a href="#occt_draw_4_6_5">ivtkdispmode</a></li>
<li class="level3"><a href="#occt_draw_4_6_6">ivtksetselmode</a></li>
<li class="level3"><a href="#occt_draw_4_6_7">ivtkmoveto</a></li>
<li class="level3"><a href="#occt_draw_4_6_8">ivtkselect</a></li>
<li class="level3"><a href="#occt_draw_4_6_9">ivtkdump</a></li>
<li class="level3"><a href="#occt_draw_4_6_10">ivtkbgcolor</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_5">OCAF commands</a><ul><li class="level2"><a href="#occt_draw_5_1">Application commands</a><ul><li class="level3"><a href="#occt_draw_5_1_1">NewDocument</a></li>
<li class="level3"><a href="#occt_draw_5_1_2">IsInSession</a></li>
<li class="level3"><a href="#occt_draw_5_1_3">ListDocuments</a></li>
<li class="level3"><a href="#occt_draw_5_1_4">Open</a></li>
<li class="level3"><a href="#occt_draw_5_1_5">Close</a></li>
<li class="level3"><a href="#occt_draw_5_1_6">Save</a></li>
<li class="level3"><a href="#occt_draw_5_1_7">SaveAs</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_5_2">Basic commands</a><ul><li class="level3"><a href="#occt_draw_5_2_1">Label</a></li>
<li class="level3"><a href="#occt_draw_5_2_2">NewChild</a></li>
<li class="level3"><a href="#occt_draw_5_2_3">Children</a></li>
<li class="level3"><a href="#occt_draw_5_2_4">ForgetAll</a></li>
<li class="level3"><a href="#occt_draw_5_3">Application commands</a></li>
<li class="level3"><a href="#occt_draw_5_3_1">Main</a></li>
<li class="level3"><a href="#occt_draw_5_3_2">UndoLimit</a></li>
<li class="level3"><a href="#occt_draw_5_3_3">Undo</a></li>
<li class="level3"><a href="#occt_draw_5_3_4">Redo</a></li>
<li class="level3"><a href="#occt_draw_5_3_5">OpenCommand</a></li>
<li class="level3"><a href="#occt_draw_5_3_6">CommitCommand</a></li>
<li class="level3"><a href="#occt_draw_5_3_7">NewCommand</a></li>
<li class="level3"><a href="#occt_draw_5_3_8">AbortCommand</a></li>
<li class="level3"><a href="#occt_draw_5_3_9">Copy</a></li>
<li class="level3"><a href="#occt_draw_5_3_10">UpdateLink</a></li>
<li class="level3"><a href="#occt_draw_5_3_11">CopyWithLink</a></li>
<li class="level3"><a href="#occt_draw_5_3_12">UpdateXLinks</a></li>
<li class="level3"><a href="#occt_draw_5_3_13">DumpDocument</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_5_4">Data Framework commands</a><ul><li class="level3"><a href="#occt_draw_5_4_1">MakeDF</a></li>
<li class="level3"><a href="#occt_draw_5_4_2">ClearDF</a></li>
<li class="level3"><a href="#occt_draw_5_4_3">CopyDF</a></li>
<li class="level3"><a href="#occt_draw_5_4_4">CopyLabel</a></li>
<li class="level3"><a href="#occt_draw_5_4_5">MiniDumpDF</a></li>
<li class="level3"><a href="#occt_draw_5_4_6">XDumpDF</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_5_5">General attributes commands</a><ul><li class="level3"><a href="#occt_draw_5_5_1">SetInteger</a></li>
<li class="level3"><a href="#occt_draw_5_5_2">GetInteger</a></li>
<li class="level3"><a href="#occt_draw_5_5_3">SetReal</a></li>
<li class="level3"><a href="#occt_draw_5_5_4">GetReal</a></li>
<li class="level3"><a href="#occt_draw_5_5_5">SetIntArray</a></li>
<li class="level3"><a href="#occt_draw_5_5_6">GetIntArray</a></li>
<li class="level3"><a href="#occt_draw_5_5_7">SetRealArray</a></li>
<li class="level3"><a href="#occt_draw_5_5_8">GetRealArray</a></li>
<li class="level3"><a href="#occt_draw_5_5_9">SetComment</a></li>
<li class="level3"><a href="#occt_draw_5_5_10">GetComment</a></li>
<li class="level3"><a href="#occt_draw_5_5_11">SetExtStringArray</a></li>
<li class="level3"><a href="#occt_draw_5_5_12">GetExtStringArray</a></li>
<li class="level3"><a href="#occt_draw_5_5_13">SetName</a></li>
<li class="level3"><a href="#occt_draw_5_5_14">GetName</a></li>
<li class="level3"><a href="#occt_draw_5_5_15">SetReference</a></li>
<li class="level3"><a href="#occt_draw_5_5_16">GetReference</a></li>
<li class="level3"><a href="#occt_draw_5_5_17">SetUAttribute</a></li>
<li class="level3"><a href="#occt_draw_5_5_18">GetUAttribute</a></li>
<li class="level3"><a href="#occt_draw_5_5_19">SetFunction</a></li>
<li class="level3"><a href="#occt_draw_5_5_20">GetFunction</a></li>
<li class="level3"><a href="#occt_draw_5_5_21">NewShape</a></li>
<li class="level3"><a href="#occt_draw_5_5_22">SetShape</a></li>
<li class="level3"><a href="#occt_draw_5_5_23">GetShape</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_5_6">Geometric attributes commands</a><ul><li class="level3"><a href="#occt_draw_5_6_1">SetPoint</a></li>
<li class="level3"><a href="#occt_draw_5_6_2">GetPoint</a></li>
<li class="level3"><a href="#occt_draw_5_6_3">SetAxis</a></li>
<li class="level3"><a href="#occt_draw_5_6_4">GetAxis</a></li>
<li class="level3"><a href="#occt_draw_5_6_5">SetPlane</a></li>
<li class="level3"><a href="#occt_draw_5_6_6">GetPlane</a></li>
<li class="level3"><a href="#occt_draw_5_6_7">SetGeometry</a></li>
<li class="level3"><a href="#occt_draw_5_6_8">GetGeometryType</a></li>
<li class="level3"><a href="#occt_draw_5_6_9">SetConstraint</a></li>
<li class="level3"><a href="#occt_draw_5_6_10">GetConstraint</a></li>
<li class="level3"><a href="#occt_draw_5_6_11">SetVariable</a></li>
<li class="level3"><a href="#occt_draw_5_6_12">GetVariable</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_5_7">Tree attributes commands</a><ul><li class="level3"><a href="#occt_draw_5_7_1">RootNode</a></li>
<li class="level3"><a href="#occt_draw_5_7_2">SetNode</a></li>
<li class="level3"><a href="#occt_draw_5_7_3">AppendNode</a></li>
<li class="level3"><a href="#occt_draw_5_7_4">PrependNode</a></li>
<li class="level3"><a href="#occt_draw_5_7_5">InsertNodeBefore</a></li>
<li class="level3"><a href="#occt_draw_5_7_6">InsertNodeAfter</a></li>
<li class="level3"><a href="#occt_draw_5_7_7">DetachNode</a></li>
<li class="level3"><a href="#occt_draw_5_7_8">ChildNodeIterate</a></li>
<li class="level3"><a href="#occt_draw_5_7_9">InitChildNodeIterator</a></li>
<li class="level3"><a href="#occt_draw_5_7_10">ChildNodeMore</a></li>
<li class="level3"><a href="#occt_draw_5_7_11">ChildNodeNext</a></li>
<li class="level3"><a href="#occt_draw_5_7_12">ChildNodeValue</a></li>
<li class="level3"><a href="#occt_draw_5_7_13">ChildNodeNextBrother</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_5_8">Standard presentation commands</a><ul><li class="level3"><a href="#occt_draw_5_8_1">AISInitViewer</a></li>
<li class="level3"><a href="#occt_draw_5_8_2">AISRepaint</a></li>
<li class="level3"><a href="#occt_draw_5_8_3">AISDisplay</a></li>
<li class="level3"><a href="#occt_draw_5_8_4">AISUpdate</a></li>
<li class="level3"><a href="#occt_draw_5_8_5">AISErase</a></li>
<li class="level3"><a href="#occt_draw_5_8_6">AISRemove</a></li>
<li class="level3"><a href="#occt_draw_5_8_7">AISSet</a></li>
<li class="level3"><a href="#occt_draw_5_8_8">AISDriver</a></li>
<li class="level3"><a href="#occt_draw_5_8_9">AISUnset</a></li>
<li class="level3"><a href="#occt_draw_5_8_10">AISTransparency</a></li>
<li class="level3"><a href="#occt_draw_5_8_11">AISHasOwnTransparency</a></li>
<li class="level3"><a href="#occt_draw_5_8_12">AISMaterial</a></li>
<li class="level3"><a href="#occt_draw_5_8_13">AISHasOwnMaterial</a></li>
<li class="level3"><a href="#occt_draw_5_8_14">AISColor</a></li>
<li class="level3"><a href="#occt_draw_5_8_15">AISHasOwnColor</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_6">Geometry commands</a><ul><li class="level2"><a href="#occt_draw_6_1">Overview</a></li>
<li class="level2"><a href="#occt_draw_6_2">Curve creation</a><ul><li class="level3"><a href="#occt_draw_6_2_1">point</a></li>
<li class="level3"><a href="#occt_draw_6_2_2">line</a></li>
<li class="level3"><a href="#occt_draw_6_2_3">circle</a></li>
<li class="level3"><a href="#occt_draw_6_2_4">ellipse</a></li>
<li class="level3"><a href="#occt_draw_6_2_5">hyperbola</a></li>
<li class="level3"><a href="#occt_draw_6_2_6">parabola</a></li>
<li class="level3"><a href="#occt_draw_6_2_7">beziercurve, 2dbeziercurve</a></li>
<li class="level3"><a href="#occt_draw_6_2_8">bsplinecurve, 2dbsplinecurve, pbsplinecurve, 2dpbsplinecurve</a></li>
<li class="level3"><a href="#occt_draw_6_2_9">uiso, viso</a></li>
<li class="level3"><a href="#occt_draw_6_2_10">to3d, to2d</a></li>
<li class="level3"><a href="#occt_draw_6_2_11">project</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_3">Surface creation</a><ul><li class="level3"><a href="#occt_draw_6_3_1">plane</a></li>
<li class="level3"><a href="#occt_draw_6_3_2">cylinder</a></li>
<li class="level3"><a href="#occt_draw_6_3_3">cone</a></li>
<li class="level3"><a href="#occt_draw_6_3_4">sphere</a></li>
<li class="level3"><a href="#occt_draw_6_3_5">torus</a></li>
<li class="level3"><a href="#occt_draw_6_3_6">beziersurf</a></li>
<li class="level3"><a href="#occt_draw_6_3_7">bsplinesurf, upbsplinesurf, vpbsplinesurf, uvpbsplinesurf</a></li>
<li class="level3"><a href="#occt_draw_6_3_8">trim, trimu, trimv</a></li>
<li class="level3"><a href="#occt_draw_6_3_9">offset</a></li>
<li class="level3"><a href="#occt_draw_6_3_10">revsurf</a></li>
<li class="level3"><a href="#occt_draw_6_3_11">extsurf</a></li>
<li class="level3"><a href="#occt_draw_6_3_12">convert</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_4">Curve and surface modifications</a><ul><li class="level3"><a href="#occt_draw_6_4_1">reverse, ureverse, vreverse</a></li>
<li class="level3"><a href="#occt_draw_6_4_2">exchuv</a></li>
<li class="level3"><a href="#occt_draw_6_4_3">segment, segsur</a></li>
<li class="level3"><a href="#occt_draw_6_4_4">iincudeg, incvdeg</a></li>
<li class="level3"><a href="#occt_draw_6_4_5">cmovep, movep, movecolp, moverowp</a></li>
<li class="level3"><a href="#occt_draw_6_4_6">insertpole, rempole, remcolpole, remrowpole</a></li>
<li class="level3"><a href="#occt_draw_6_4_7">insertknot, insertuknot, insertvknot</a></li>
<li class="level3"><a href="#occt_draw_6_4_8">remknot, remuknot, remvknot</a></li>
<li class="level3"><a href="#occt_draw_6_4_9">setperiodic, setnotperiodic, setuperiodic, setunotperiodic, setvperiodic, setvnotperiodic</a></li>
<li class="level3"><a href="#occt_draw_6_4_10">setorigin, setuorigin, setvorigin</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_5">Transformations</a><ul><li class="level3"><a href="#occt_draw_6_5_1">translate, dtranslate</a></li>
<li class="level3"><a href="#occt_draw_6_5_2">rotate, 2drotate</a></li>
<li class="level3"><a href="#occt_draw_6_5_3">pmirror, lmirror, smirror, dpmirror, dlmirror</a></li>
<li class="level3"><a href="#occt_draw_6_5_4">pscale, dpscale</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_6">Curve and surface analysis</a><ul><li class="level3"><a href="#occt_draw_6_6_1">coord</a></li>
<li class="level3"><a href="#occt_draw_6_6_2">cvalue, 2dcvalue</a></li>
<li class="level3"><a href="#occt_draw_6_6_3">svalue</a></li>
<li class="level3"><a href="#occt_draw_6_6_4">localprop, minmaxcurandinf</a></li>
<li class="level3"><a href="#occt_draw_6_6_5">parameters</a></li>
<li class="level3"><a href="#occt_draw_6_6_6">proj, 2dproj</a></li>
<li class="level3"><a href="#occt_draw_6_6_7">surface_radius</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_7">Intersections</a><ul><li class="level3"><a href="#occt_draw_6_7_1">intersect</a></li>
<li class="level3"><a href="#occt_draw_6_7_2">2dintersect</a></li>
<li class="level3"><a href="#occt_draw_6_7_3">intconcon</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_8">Approximations</a><ul><li class="level3"><a href="#occt_draw_6_8_1">appro, dapprox</a></li>
<li class="level3"><a href="#occt_draw_6_8_2">surfapp, grilapp, surfint</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_9">Projections</a><ul><li class="level3"><a href="#occt_draw_6_9_1">projponf</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_10">Constraints</a><ul><li class="level3"><a href="#occt_draw_6_10_1">cirtang</a></li>
<li class="level3"><a href="#occt_draw_6_10_2">lintan</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_6_11">Display</a><ul><li class="level3"><a href="#occt_draw_6_11_1">dmod, discr, defle</a></li>
<li class="level3"><a href="#occt_draw_6_11_2">nbiso</a></li>
<li class="level3"><a href="#occt_draw_6_11_3">clpoles, shpoles</a></li>
<li class="level3"><a href="#occt_draw_6_11_4">clknots, shknots</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_7">Topology commands</a><ul><li class="level2"><a href="#occt_draw_7_1">Basic topology</a><ul><li class="level3"><a href="#occt_draw_7_1_1">isos, discretisation</a></li>
<li class="level3"><a href="#occt_draw_7_1_2">orientation, complement, invert, normals, range</a></li>
<li class="level3"><a href="#occt_draw_7_1_3">explode, exwire, nbshapes</a></li>
<li class="level3"><a href="#occt_draw_7_1_4">emptycopy, add, compound</a></li>
<li class="level3"><a href="#occt_draw_7_1_5">compare</a></li>
<li class="level3"><a href="#occt_draw_7_1_6">issubshape</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_2">Curve and surface topology</a><ul><li class="level3"><a href="#occt_draw_7_2_1">vertex</a></li>
<li class="level3"><a href="#occt_draw_7_2_1a">mkpoint</a></li>
<li class="level3"><a href="#occt_draw_7_2_2">edge, mkedge, uisoedge, visoedge</a></li>
<li class="level3"><a href="#occt_draw_7_2_3">wire, polyline, polyvertex</a></li>
<li class="level3"><a href="#occt_draw_7_2_4">profile</a></li>
<li class="level3"><a href="#occt_draw_7_2_5">bsplineprof</a></li>
<li class="level3"><a href="#occt_draw_7_2_6">mkoffset</a></li>
<li class="level3"><a href="#occt_draw_7_2_7">mkplane, mkface</a></li>
<li class="level3"><a href="#occt_draw_7_2_8">mkcurve, mksurface</a></li>
<li class="level3"><a href="#occt_draw_7_2_9">pcurve</a></li>
<li class="level3"><a href="#occt_draw_7_2_10">chfi2d</a></li>
<li class="level3"><a href="#occt_draw_7_2_11">nproject</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_3">Primitives</a><ul><li class="level3"><a href="#occt_draw_7_3_1">box, wedge</a></li>
<li class="level3"><a href="#occt_draw_7_3_2">pcylinder, pcone, psphere, ptorus</a></li>
<li class="level3"><a href="#occt_draw_7_3_3">halfspace</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_4">Sweeping</a><ul><li class="level3"><a href="#occt_draw_7_4_1">prism</a></li>
<li class="level3"><a href="#occt_draw_7_4_2">revol</a></li>
<li class="level3"><a href="#occt_draw_7_4_3">pipe</a></li>
<li class="level3"><a href="#occt_draw_7_4_4">mksweep, addsweep, setsweep, deletesweep, buildsweep, simulsweep</a></li>
<li class="level3"><a href="#occt_draw_7_4_5">thrusections</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_5">Topological transformation</a><ul><li class="level3"><a href="#occt_draw_7_5_1">tcopy</a></li>
<li class="level3"><a href="#occt_draw_7_5_2">tmove, treset</a></li>
<li class="level3"><a href="#occt_draw_7_5_3">ttranslate, trotate</a></li>
<li class="level3"><a href="#occt_draw_7_5_4">tmirror, tscale</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_6">Old Topological operations</a><ul><li class="level3"><a href="#occt_draw_7_6_1">fuse, cut, common</a></li>
<li class="level3"><a href="#occt_draw_7_6_2">section, psection</a></li>
<li class="level3"><a href="#occt_draw_7_6_3">sewing</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_7">New Topological operations</a></li>
<li class="level2"><a href="#occt_draw_7_8">Drafting and blending</a><ul><li class="level3"><a href="#occt_draw_7_8_1">depouille</a></li>
<li class="level3"><a href="#occt_draw_7_8_2">chamf</a></li>
<li class="level3"><a href="#occt_draw_7_8_3">blend</a></li>
<li class="level3"><a href="#occt_draw_7_8_4">bfuseblend</a></li>
<li class="level3"><a href="#occt_draw_7_8_4a">bcutblend</a></li>
<li class="level3"><a href="#occt_draw_7_8_5">mkevol, updatevol, buildevol</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_defeaturing">Defeaturing</a></li>
<li class="level2"><a href="#occt_draw_makeperiodic">3D Model Periodicity</a><ul><li class="level3"><a href="#occt_draw_makeperiodic_makeperiodic">makeperiodic</a></li>
<li class="level3"><a href="#occt_draw_makeperiodic_repeatshape">repeatshape</a></li>
<li class="level3"><a href="#occt_draw_makeperiodic_periodictwins">periodictwins</a></li>
<li class="level3"><a href="#occt_draw_makeperiodic_clearrepetitions">clearrepetitions</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_makeconnected">Making the touching shapes connected</a><ul><li class="level3"><a href="#occt_draw_makeconnected_makeconnected">makeconnected</a></li>
<li class="level3"><a href="#occt_draw_makeconnected_cmaterialson">cmaterialson</a></li>
<li class="level3"><a href="#occt_draw_makeconnected_cmakeperiodic">cmakeperiodic</a></li>
<li class="level3"><a href="#occt_draw_makeconnected_crepeatshape">crepeatshape</a></li>
<li class="level3"><a href="#occt_draw_makeconnected_cperiodictwins">cperiodictwins</a></li>
<li class="level3"><a href="#occt_draw_makeconnected_cclearrepetitions">cclearrepetitions</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_9">Analysis of topology and geometry</a><ul><li class="level3"><a href="#occt_draw_7_9_1">lprops, sprops, vprops</a></li>
<li class="level3"><a href="#occt_draw_7_9_2">bounding</a></li>
<li class="level3"><a href="#occt_draw_7_9_2a">isbbinterf</a></li>
<li class="level3"><a href="#occt_draw_7_9_3">distmini</a></li>
<li class="level3"><a href="#occt_draw_7_9_4">xdistef, xdistcs, xdistcc, xdistc2dc2dss, xdistcc2ds</a></li>
<li class="level3"><a href="#occt_draw_7_9_5">checkshape</a></li>
<li class="level3"><a href="#occt_draw_7_9_6">tolsphere</a></li>
<li class="level3"><a href="#occt_draw_7_9_7">validrange</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_10">Surface creation</a><ul><li class="level3"><a href="#occt_draw_7_10_1">gplate,</a></li>
<li class="level3"><a href="#occt_draw_7_10_2">filling, fillingparam</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_11">Complex Topology</a><ul><li class="level3"><a href="#occt_draw_7_11_1">offsetshape, offsetcompshape</a></li>
<li class="level3"><a href="#occt_draw_7_11_2">featprism, featdprism, featrevol, featlf, featrf</a></li>
<li class="level3"><a href="#occt_draw_7_11_3">draft</a></li>
<li class="level3"><a href="#occt_draw_7_11_4">deform</a></li>
<li class="level3"><a href="#occt_draw_7_11_5">nurbsconvert</a></li>
<li class="level3"><a href="#occt_draw_7_11_6">edgestofaces</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_hist">History commands</a><ul><li class="level3"><a href="#occt_draw_hist_set">setfillhistory</a></li>
<li class="level3"><a href="#occt_draw_hist_save">savehistory</a></li>
<li class="level3"><a href="#occt_draw_hist_isdel">isdeleted</a></li>
<li class="level3"><a href="#occt_draw_hist_mod">modified</a></li>
<li class="level3"><a href="#occt_draw_hist_gen">generated</a></li>
<li class="level3"><a href="#occt_draw_hist_extension">Enabling Draw history support for the algorithms</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_7_12">Texture Mapping to a Shape</a><ul><li class="level3"><a href="#occt_draw_7_12_1">vtexture</a></li>
<li class="level3"><a href="#occt_draw_7_12_2">vtexscale</a></li>
<li class="level3"><a href="#occt_draw_7_12_3">vtexorigin</a></li>
<li class="level3"><a href="#occt_draw_7_12_4">vtexrepeat</a></li>
<li class="level3"><a href="#occt_draw_7_12_5">vtexdefault</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_bop">Boolean Operations Commands</a><ul><li class="level2"><a href="#occt_draw_bop_two">Boolean Operations on two operands</a><ul><li class="level3"><a href="#occt_draw_bop_two_bop">bop, bopfuse, bopcut, boptuc, bopcommon, bopsection</a></li>
<li class="level3"><a href="#occt_draw_bop_two_bapi">bfuse, bcut, btuc, bcommon, bsection</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_bop_multi">Boolean Operations on multiple arguments</a></li>
<li class="level2"><a href="#occt_draw_bop_general_com">General commands for working with multiple arguments</a><ul><li class="level3"><a href="#occt_draw_bop_general_com_add">Adding arguments of operation</a></li>
<li class="level3"><a href="#occt_draw_bop_general_com_fill">Intersection of the arguments</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_bop_build">Building the result of operations</a><ul><li class="level3"><a href="#occt_draw_bop_build_BOP">Boolean operation</a></li>
<li class="level3"><a href="#occt_draw_bop_build_GF">General Fuse operation</a></li>
<li class="level3"><a href="#occt_draw_bop_build_Split">Split operation</a></li>
<li class="level3"><a href="#occt_draw_bop_build_BOP_opensolids">Alternative command for BOP</a></li>
<li class="level3"><a href="#occt_draw_bop_build_CB">Cells Builder</a></li>
<li class="level3"><a href="#occt_draw_bop_build_API">Building result through API</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_bop_options">Setting options for the operation</a><ul><li class="level3"><a href="#occt_draw_bop_options_par">Parallel processing mode</a></li>
<li class="level3"><a href="#occt_draw_bop_options_safe">Safe processing mode</a></li>
<li class="level3"><a href="#occt_draw_bop_options_fuzzy">Fuzzy option</a></li>
<li class="level3"><a href="#occt_draw_bop_options_glue">Gluing option</a></li>
<li class="level3"><a href="#occt_draw_bop_options_checkinv">Check inversion of input solids</a></li>
<li class="level3"><a href="#occt_draw_bop_options_obb">OBB usage</a></li>
<li class="level3"><a href="#occt_draw_bop_options_simplify">Result simplification</a></li>
<li class="level3"><a href="#occt_draw_bop_options_warn">Drawing warning shapes</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_bop_check">Check commands</a><ul><li class="level3"><a href="#occt_draw_bop_check_1">bopcheck</a></li>
<li class="level3"><a href="#occt_draw_bop_check_2">bopargcheck</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_bop_debug">Debug commands</a><ul><li class="level3"><a href="#occt_draw_bop_debug_int">Intersection Part commands</a></li>
<li class="level3"><a href="#occt_draw_bop_debug_build">Building Part commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_8">Data Exchange commands</a><ul><li class="level2"><a href="#occt_draw_8_1">IGES commands</a><ul><li class="level3"><a href="#occt_draw_8_1_1">igesread</a></li>
<li class="level3"><a href="#occt_draw_8_1_2">tplosttrim</a></li>
<li class="level3"><a href="#occt_draw_8_1_3">brepiges</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_2">STEP commands</a><ul><li class="level3"><a href="#occt_draw_8_2_1">stepread</a></li>
<li class="level3"><a href="#occt_draw_8_2_2">stepwrite</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_3">General commands</a><ul><li class="level3"><a href="#occt_draw_8_3_1">count</a></li>
<li class="level3"><a href="#occt_draw_8_3_2">data</a></li>
<li class="level3"><a href="#occt_draw_8_3_3">elabel</a></li>
<li class="level3"><a href="#occt_draw_8_3_4">entity</a></li>
<li class="level3"><a href="#occt_draw_8_3_5">enum</a></li>
<li class="level3"><a href="#occt_draw_8_3_6">estatus</a></li>
<li class="level3"><a href="#occt_draw_8_3_7">fromshape</a></li>
<li class="level3"><a href="#occt_draw_8_3_8">givecount</a></li>
<li class="level3"><a href="#occt_draw_8_3_9">givelist</a></li>
<li class="level3"><a href="#occt_draw_8_3_10">listcount</a></li>
<li class="level3"><a href="#occt_draw_8_3_11">listitems</a></li>
<li class="level3"><a href="#occt_draw_8_3_12">listtypes</a></li>
<li class="level3"><a href="#occt_draw_8_3_13">newmodel</a></li>
<li class="level3"><a href="#occt_draw_8_3_14">param</a></li>
<li class="level3"><a href="#occt_draw_8_3_15">sumcount</a></li>
<li class="level3"><a href="#occt_draw_8_3_16">tpclear</a></li>
<li class="level3"><a href="#occt_draw_8_3_17">tpdraw</a></li>
<li class="level3"><a href="#occt_draw_8_3_18">tpent</a></li>
<li class="level3"><a href="#occt_draw_8_3_19">tpstat</a></li>
<li class="level3"><a href="#occt_draw_8_3_20">xload</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_4">Overview of XDE commands</a><ul><li class="level3"><a href="#occt_draw_8_4_1">ReadIges</a></li>
<li class="level3"><a href="#occt_draw_8_4_2">ReadStep</a></li>
<li class="level3"><a href="#occt_draw_8_4_3">WriteIges</a></li>
<li class="level3"><a href="#occt_draw_8_4_4">WriteStep</a></li>
<li class="level3"><a href="#occt_draw_8_4_5">XFileCur</a></li>
<li class="level3"><a href="#occt_draw_8_4_6">XFileList</a></li>
<li class="level3"><a href="#occt_draw_8_4_7">XFileSet</a></li>
<li class="level3"><a href="#occt_draw_8_4_8">XFromShape</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_5">XDE general commands</a><ul><li class="level3"><a href="#occt_draw_8_5_1">XNewDoc</a></li>
<li class="level3"><a href="#occt_draw_8_5_2">XShow</a></li>
<li class="level3"><a href="#occt_draw_8_5_3">XStat</a></li>
<li class="level3"><a href="#occt_draw_8_5_4">XWdump</a></li>
<li class="level3"><a href="#occt_draw_8_5_5">Xdump</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_6">XDE shape commands</a><ul><li class="level3"><a href="#occt_draw_8_6_1">XAddComponent</a></li>
<li class="level3"><a href="#occt_draw_8_6_2">XAddShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_3">XFindComponent</a></li>
<li class="level3"><a href="#occt_draw_8_6_4">XFindShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_5">XGetFreeShapes</a></li>
<li class="level3"><a href="#occt_draw_8_6_6">XGetOneShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_7">XGetReferredShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_8">XGetShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_9">XGetTopLevelShapes</a></li>
<li class="level3"><a href="#occt_draw_8_6_10">XLabelInfo</a></li>
<li class="level3"><a href="#occt_draw_8_6_11">XNewShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_12">XRemoveComponent</a></li>
<li class="level3"><a href="#occt_draw_8_6_13">XRemoveShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_14">XSetShape</a></li>
<li class="level3"><a href="#occt_draw_8_6_15">XUpdateAssemblies</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_7_">XDE color commands</a><ul><li class="level3"><a href="#occt_draw_8_7_1">XAddColor</a></li>
<li class="level3"><a href="#occt_draw_8_7_2">XFindColor</a></li>
<li class="level3"><a href="#occt_draw_8_7_3">XGetAllColors</a></li>
<li class="level3"><a href="#occt_draw_8_7_4">XGetColor</a></li>
<li class="level3"><a href="#occt_draw_8_7_5">XGetObjVisibility</a></li>
<li class="level3"><a href="#occt_draw_8_7_6">XGetShapeColor</a></li>
<li class="level3"><a href="#occt_draw_8_7_7">XRemoveColor</a></li>
<li class="level3"><a href="#occt_draw_8_7_8">XSetColor</a></li>
<li class="level3"><a href="#occt_draw_8_7_9">XSetObjVisibility</a></li>
<li class="level3"><a href="#occt_draw_8_7_10">XUnsetColor</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_8_">XDE layer commands</a><ul><li class="level3"><a href="#occt_draw_8_8_1">XAddLayer</a></li>
<li class="level3"><a href="#occt_draw_8_8_2">XFindLayer</a></li>
<li class="level3"><a href="#occt_draw_8_8_3">XGetAllLayers</a></li>
<li class="level3"><a href="#occt_draw_8_8_4">XGetLayers</a></li>
<li class="level3"><a href="#occt_draw_8_8_5">XGetOneLayer</a></li>
<li class="level3"><a href="#occt_draw_8_8_6">XIsVisible</a></li>
<li class="level3"><a href="#occt_draw_8_8_7">XRemoveAllLayers</a></li>
<li class="level3"><a href="#occt_draw_8_8_8">XRemoveLayer</a></li>
<li class="level3"><a href="#occt_draw_8_8_9">XSetLayer</a></li>
<li class="level3"><a href="#occt_draw_8_8_10">XSetVisibility</a></li>
<li class="level3"><a href="#occt_draw_8_8_11">XUnSetAllLayers</a></li>
<li class="level3"><a href="#occt_draw_8_8_12">XUnSetLayer</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_8_9">XDE property commands</a><ul><li class="level3"><a href="#occt_draw_8_9_1">XCheckProps</a></li>
<li class="level3"><a href="#occt_draw_8_9_2">XGetArea</a></li>
<li class="level3"><a href="#occt_draw_8_9_3">XGetCentroid</a></li>
<li class="level3"><a href="#occt_draw_8_9_4">XGetVolume</a></li>
<li class="level3"><a href="#occt_draw_8_9_5">XSetArea</a></li>
<li class="level3"><a href="#occt_draw_8_9_6">XSetCentroid</a></li>
<li class="level3"><a href="#occt_draw_8_9_7">XSetMaterial</a></li>
<li class="level3"><a href="#occt_draw_8_9_8">XSetVolume</a></li>
<li class="level3"><a href="#occt_draw_8_9_9">XShapeMassProps</a></li>
<li class="level3"><a href="#occt_draw_8_9_10">XShapeVolume</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_9">Shape Healing commands</a><ul><li class="level2"><a href="#occt_draw_9_1">General commands</a><ul><li class="level3"><a href="#occt_draw_9_1_1">bsplres</a></li>
<li class="level3"><a href="#occt_draw_9_1_2">checkfclass2d</a></li>
<li class="level3"><a href="#occt_draw_9_1_3">checkoverlapedges</a></li>
<li class="level3"><a href="#occt_draw_9_1_4">comtol</a></li>
<li class="level3"><a href="#occt_draw_9_1_5">convtorevol</a></li>
<li class="level3"><a href="#occt_draw_9_1_6">directfaces</a></li>
<li class="level3"><a href="#occt_draw_9_1_7">expshape</a></li>
<li class="level3"><a href="#occt_draw_9_1_8">fixsmall</a></li>
<li class="level3"><a href="#occt_draw_9_1_9">fixsmalledges</a></li>
<li class="level3"><a href="#occt_draw_9_1_10">fixshape</a></li>
<li class="level3"><a href="#occt_draw_9_1_11">fixwgaps</a></li>
<li class="level3"><a href="#occt_draw_9_1_12">offsetcurve, offset2dcurve</a></li>
<li class="level3"><a href="#occt_draw_9_1_13">projcurve</a></li>
<li class="level3"><a href="#occt_draw_9_1_14">projpcurve</a></li>
<li class="level3"><a href="#occt_draw_9_1_15">projface</a></li>
<li class="level3"><a href="#occt_draw_9_1_16">scaleshape</a></li>
<li class="level3"><a href="#occt_draw_9_1_17">settolerance</a></li>
<li class="level3"><a href="#occt_draw_9_1_18">splitface</a></li>
<li class="level3"><a href="#occt_draw_9_1_19">statshape</a></li>
<li class="level3"><a href="#occt_draw_9_1_20">tolerance</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_9_2">Conversion commands</a><ul><li class="level3"><a href="#occt_draw_9_2_1">DT_ClosedSplit</a></li>
<li class="level3"><a href="#occt_draw_9_2_2">DT_ShapeConvert, DT_ShapeConvertRev</a></li>
<li class="level3"><a href="#occt_draw_9_2_3">DT_ShapeDivide</a></li>
<li class="level3"><a href="#occt_draw_9_2_4">DT_SplitAngle</a></li>
<li class="level3"><a href="#occt_draw_9_2_5">DT_SplitCurve</a></li>
<li class="level3"><a href="#occt_draw_9_2_6">DT_SplitCurve2d</a></li>
<li class="level3"><a href="#occt_draw_9_2_7">DT_SplitSurface</a></li>
<li class="level3"><a href="#occt_draw_9_2_8">DT_ToBspl</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_10">Performance evaluation commands</a><ul><li class="level2"><a href="#occt_draw_10_1">VDrawSphere</a></li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_12">Simple vector algebra and measurements</a><ul><li class="level2"><a href="#occt_draw_12_1">Vector algebra commands</a><ul><li class="level3"><a href="#occt_draw_12_1_1">vec</a></li>
<li class="level3"><a href="#occt_draw_12_1_2">2dvec</a></li>
<li class="level3"><a href="#occt_draw_12_1_3">pln</a></li>
<li class="level3"><a href="#occt_draw_12_1_4">module</a></li>
<li class="level3"><a href="#occt_draw_12_1_5">2dmodule</a></li>
<li class="level3"><a href="#occt_draw_12_1_6">norm</a></li>
<li class="level3"><a href="#occt_draw_12_1_7">2dnorm</a></li>
<li class="level3"><a href="#occt_draw_12_1_8">inverse</a></li>
<li class="level3"><a href="#occt_draw_12_1_9">2dinverse</a></li>
<li class="level3"><a href="#occt_draw_12_1_10">2dort</a></li>
<li class="level3"><a href="#occt_draw_12_1_11">distpp</a></li>
<li class="level3"><a href="#occt_draw_12_1_12">2ddistpp</a></li>
<li class="level3"><a href="#occt_draw_12_1_13">distplp</a></li>
<li class="level3"><a href="#occt_draw_12_1_14">distlp</a></li>
<li class="level3"><a href="#occt_draw_12_1_15">2ddistlp</a></li>
<li class="level3"><a href="#occt_draw_12_1_16">distppp</a></li>
<li class="level3"><a href="#occt_draw_12_1_17">2ddistppp</a></li>
<li class="level3"><a href="#occt_draw_12_1_18">barycen</a></li>
<li class="level3"><a href="#occt_draw_12_1_19">2dbarycen</a></li>
<li class="level3"><a href="#occt_draw_12_1_20">cross</a></li>
<li class="level3"><a href="#occt_draw_12_1_21">2dcross</a></li>
<li class="level3"><a href="#occt_draw_12_1_22">dot</a></li>
<li class="level3"><a href="#occt_draw_12_1_23">2ddot</a></li>
<li class="level3"><a href="#occt_draw_12_1_24">scale</a></li>
<li class="level3"><a href="#occt_draw_12_1_25">2dscale</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_draw_12_2">Measurements commands</a><ul><li class="level3"><a href="#occt_draw_12_2_1">pnt</a></li>
<li class="level3"><a href="#occt_draw_12_2_2">pntc</a></li>
<li class="level3"><a href="#occt_draw_12_2_3">2dpntc</a></li>
<li class="level3"><a href="#occt_draw_12_2_4">pntsu</a></li>
<li class="level3"><a href="#occt_draw_12_2_5">pntcons</a></li>
<li class="level3"><a href="#occt_draw_12_2_6">drseg</a></li>
<li class="level3"><a href="#occt_draw_12_2_7">2ddrseg</a></li>
<li class="level3"><a href="#occt_draw_12_2_8">mpick</a></li>
<li class="level3"><a href="#occt_draw_12_2_9">mdist</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_13">Inspector commands</a><ul><li class="level2"><a href="#occt_draw_13_1">tinspector</a></li>
</ul>
</li>
<li class="level1"><a href="#occt_draw_11">Extending Test Harness with custom commands</a><ul><li class="level2"><a href="#occt_draw_11_1">Custom command implementation</a></li>
<li class="level2"><a href="#occt_draw_11_2">Registration of commands in Test Harness</a></li>
<li class="level2"><a href="#occt_draw_11_3">Creating a toolkit (library) as a plug-in</a></li>
<li class="level2"><a href="#occt_draw_11_4">Creation of the plug-in resource file</a></li>
<li class="level2"><a href="#occt_draw_11_5">Dynamic loading and activation</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="occt_draw_1"></a>
Introduction</h1>
<p>This manual explains how to use <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>, the test harness for Open CASCADE Technology (<b>OCCT</b>). <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> is a command interpreter based on TCL and a graphical system used to test and demonstrate Open CASCADE Technology modeling libraries.</p>
<h2><a class="anchor" id="occt_draw_1_1"></a>
Overview</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> is a test harness for Open CASCADE Technology. It provides a flexible and easy to use means of testing and demonstrating the OCCT modeling libraries.</p>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> can be used interactively to create, display and modify objects such as curves, surfaces and topological shapes.</p>
<p>Scripts may be written to customize <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> and perform tests. New types of objects and new commands may be added using the C++ programing language.</p>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> consists of:</p>
<ul>
<li>A command interpreter based on the TCL command language.</li>
<li>A 3d graphic viewer based on the X system.</li>
<li>A basic set of commands covering scripts, variables and graphics.</li>
<li>A set of geometric commands allowing the user to create and modify curves and surfaces and to use OCCT geometry algorithms. This set of commands is optional.</li>
<li>A set of topological commands allowing the user to create and modify BRep shapes and to use the OCCT topology algorithms.</li>
</ul>
<p>There is also a set of commands for each delivery unit in the modeling libraries:</p>
<ul>
<li>GEOMETRY,</li>
<li>TOPOLOGY,</li>
<li>ADVALGOS,</li>
<li>GRAPHIC,</li>
<li>PRESENTATION.</li>
</ul>
<h2><a class="anchor" id="occt_draw_1_2"></a>
Contents of this documentation</h2>
<p>This documentation describes:</p>
<ul>
<li>The command language.</li>
<li>The basic set of commands.</li>
<li>The graphical commands.</li>
<li>The Geometry set of commands.</li>
<li>The Topology set of commands.</li>
<li>OCAF commands.</li>
<li>Data Exchange commands</li>
<li>Shape Healing commands</li>
</ul>
<p>This document is a reference manual. It contains a full description of each command. All descriptions have the format illustrated below for the exit command.</p>
<div class="fragment"><div class="line">exit</div></div><!-- fragment --><p>Terminates the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>, TCL session. If the commands are read from a file using the source command, this will terminate the file.</p>
<p><b>Example:</b></p>
<div class="fragment"><div class="line"># this is a very short example </div><div class="line">exit </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_1_3"></a>
Getting started</h2>
<p>Install <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> and launch Emacs. Get a command line in Emacs using <em>Esc x</em> and key in <em>woksh</em>.</p>
<p>All DRAW Test Harness can be activated in the common executable called <b>DRAWEXE</b>. They are grouped in toolkits and can be loaded at run-time thereby implementing dynamically loaded plug-ins. Thus, it is possible to work only with the required commands adding them dynamically without leaving the Test Harness session.</p>
<p>Declaration of available plug-ins is done through the special resource file(s). The <em>pload</em> command loads the plug-in in accordance with the specified resource file and activates the commands implemented in the plug-in.</p>
<h3><a class="anchor" id="occt_draw_1_3_1"></a>
Launching DRAW Test Harness</h3>
<p>Test Harness executable <em>DRAWEXE</em> is located in the <em>$CASROOT/&lt;platform&gt;/bin</em> directory (where &lt;platform&gt; is Win for Windows and Linux for Linux operating systems). Prior to launching it is important to make sure that the environment is correctly setup (usually this is done automatically after the installation process on Windows or after launching specific scripts on Linux).</p>
<h3><a class="anchor" id="occt_draw_1_3_2"></a>
Plug-in resource file</h3>
<p>Open CASCADE Technology is shipped with the DrawPlugin resource file located in the <em>$CASROOT/src/DrawResources</em> directory.</p>
<p>The format of the file is compliant with standard Open CASCADE Technology resource files (see the <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_resource___manager_8hxx.html">Resource_Manager.hxx</a></em> file for details).</p>
<p>Each key defines a sequence of either further (nested) keys or a name of the dynamic library. Keys can be nested down to an arbitrary level. However, cyclic dependencies between the keys are not checked.</p>
<p><b>Example:</b> (excerpt from DrawPlugin): </p><div class="fragment"><div class="line">OCAF               : VISUALIZATION, OCAFKERNEL </div><div class="line">VISUALIZATION      : AISV </div><div class="line">OCAFKERNEL         : DCAF </div><div class="line"></div><div class="line">DCAF               : TKDCAF </div><div class="line">AISV               : TKViewerTest </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_1_3_3"></a>
Activation of commands implemented in the plug-in</h3>
<p>To load a plug-in declared in the resource file and to activate the commands the following command must be used in Test Harness:</p>
<div class="fragment"><div class="line">pload [-PluginFileName] [[Key1] [Key2]...]</div></div><!-- fragment --><p>where:</p>
<ul>
<li><em>-PluginFileName</em> &ndash; defines the name of a plug-in resource file (prefix "-" is mandatory) described above. If this parameter is omitted then the default name <em>DrawPlugin</em> is used.</li>
<li><em>Key</em> &ndash; defines the key(s) enumerating plug-ins to be loaded. If no keys are specified then the key named <em>DEFAULT</em> is used (if there is no such key in the file then no plug-ins are loaded).</li>
</ul>
<p>According to the OCCT resource file management rules, to access the resource file the environment variable <em>CSF_PluginFileNameDefaults</em> (and optionally <em>CSF_PluginFileNameUserDefaults</em>) must be set and point to the directory storing the resource file. If it is omitted then the plug-in resource file will be searched in the <em>$CASROOT/src/DrawResources</em> directory.</p>
<div class="fragment"><div class="line">Draw[]        pload -DrawPlugin OCAF </div></div><!-- fragment --><p> This command will search the resource file <em>DrawPlugin</em> using variable <em>CSF_DrawPluginDefaults</em> (and <em>CSF_DrawPluginUserDefaults</em>) and will start with the OCAF key. Since the <em>DrawPlugin</em> is the file shipped with Open CASCADE Technology it will be found in the <em>$CASROOT/src/DrawResources</em> directory (unless this location is redefined by user's variables). The OCAF key will be recursively extracted into two toolkits/plug-ins: <em>TKDCAF</em> and <em>TKViewerTest</em> (e.g. on Windows they correspond to <em>TKDCAF.dll</em> and <em>TKViewerTest.dll</em>). Thus, commands implemented for Visualization and OCAF will be loaded and activated in Test Harness.</p>
<div class="fragment"><div class="line">Draw[]        pload (equivalent to pload -DrawPlugin DEFAULT). </div></div><!-- fragment --><p> This command will find the default DrawPlugin file and the DEFAULT key. The latter finally maps to the TKTopTest toolkit which implements basic modeling commands.</p>
<h1><a class="anchor" id="occt_draw_2"></a>
The Command Language</h1>
<h2><a class="anchor" id="occt_draw_2_1"></a>
Overview</h2>
<p>The command language used in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> is Tcl. Tcl documentation such as "TCL and the TK Toolkit" by John K. Ousterhout (Addison-Wesley) will prove useful if you intend to use <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> extensively.</p>
<p>This chapter is designed to give you a short outline of both the TCL language and some extensions included in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>. The following topics are covered:</p>
<ul>
<li>Syntax of the TCL language.</li>
<li>Accessing variables in TCL and <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>.</li>
<li>Control structures.</li>
<li>Procedures.</li>
</ul>
<h2><a class="anchor" id="occt_draw_2_2"></a>
Syntax of TCL</h2>
<p>TCL is an interpreted command language, not a structured language like C, Pascal, LISP or Basic. It uses a shell similar to that of csh. TCL is, however, easier to use than csh because control structures and procedures are easier to define. As well, because TCL does not assign a process to each command, it is faster than csh.</p>
<p>The basic program for TCL is a script. A script consists of one or more commands. Commands are separated by new lines or semicolons.</p>
<div class="fragment"><div class="line"><span class="keyword">set</span> a 24 </div><div class="line"><span class="keyword">set</span> b 15 </div><div class="line"><span class="keyword">set</span> a 25; <span class="keyword">set</span> b 15 </div></div><!-- fragment --><p>Each command consists of one or more <em>words</em>; the first word is the name of a command and additional words are arguments to that command.</p>
<p>Words are separated by spaces or tabs. In the preceding example each of the four commands has three words. A command may contain any number of words and each word is a string of arbitrary length.</p>
<p>The evaluation of a command by TCL is done in two steps. In the first step, the command is parsed and broken into words. Some substitutions are also performed. In the second step, the command procedure corresponding to the first word is called and the other words are interpreted as arguments. In the first step, there is only string manipulation, The words only acquire <em>meaning</em> in the second step by the command procedure.</p>
<p>The following substitutions are performed by TCL:</p>
<p>Variable substitution is triggered by the $ character (as with csh), the content of the variable is substitued; { } may be used as in csh to enclose the name of the variable.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># set a variable value </span></div><div class="line"><span class="keyword">set</span> file documentation </div><div class="line">puts $file #to display file contents on the screen </div><div class="line"></div><div class="line"><span class="preprocessor"># a simple substitution, set psfile to documentation.ps </span></div><div class="line"><span class="keyword">set</span> psfile $file.ps </div><div class="line">puts $psfile </div><div class="line"></div><div class="line"><span class="preprocessor"># another substitution, set pfile to documentationPS </span></div><div class="line"><span class="keyword">set</span> pfile ${file}PS </div><div class="line"></div><div class="line"><span class="preprocessor"># a last one, </span></div><div class="line"><span class="preprocessor"># delete files NEWdocumentation and OLDdocumentation </span></div><div class="line"><span class="preprocessor">foreach prefix {NEW OLD} {rm $prefix$file} </span></div></div><!-- fragment --><p>Command substitution is triggered by the [ ] characters. The brackets must enclose a valid script. The script is evaluated and the result is substituted.</p>
<p>Compare command construction in csh.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">set</span> degree 30 </div><div class="line"><span class="keyword">set</span> pi 3.14159265 </div><div class="line"><span class="preprocessor"># expr is a command evaluating a numeric expression </span></div><div class="line"><span class="preprocessor">set radian [expr $pi*$degree/180] </span></div></div><!-- fragment --><p>Backslash substitution is triggered by the backslash character. It is used to insert special characters like $, [ , ] , etc. It is also useful to insert a new line, a backslash terminated line is continued on the following line.</p>
<p>TCL uses two forms of <em>quoting</em> to prevent substitution and word breaking.</p>
<p>Double quote <em>quoting</em> enables the definition of a string with space and tabs as a single word. Substitutions are still performed inside the inverted commas " ".</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># set msg to ;the price is 12.00; </span></div><div class="line"><span class="keyword">set</span> price 12.00 </div><div class="line"><span class="keyword">set</span> msg ;the price is $price; </div></div><!-- fragment --><p>Braces <em>quoting</em> prevents all substitutions. Braces are also nested. The main use of braces is to defer evaluation when defining procedures and control structures. Braces are used for a clearer presentation of TCL scripts on several lines.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">set</span> x 0 </div><div class="line"><span class="preprocessor"># this will loop for ever </span></div><div class="line"><span class="preprocessor"># because while argument is ;0 &lt; 3; </span></div><div class="line">while ;$x &lt; 3; {<span class="keyword">set</span> x [expr $x+1]} </div><div class="line"><span class="preprocessor"># this will terminate as expected because </span></div><div class="line"><span class="preprocessor"># while argument is {$x &lt; 3} </span></div><div class="line"><span class="keywordflow">while</span> {$x &lt; 3} {<span class="keyword">set</span> x [expr $x+1]} </div><div class="line"><span class="preprocessor"># this can be written also </span></div><div class="line"><span class="keywordflow">while</span> {$x &lt; 3} { </div><div class="line"><span class="keyword">set</span> x [expr $x+1] </div><div class="line">} </div><div class="line"><span class="preprocessor"># the following cannot be written </span></div><div class="line"><span class="preprocessor"># because while requires two arguments </span></div><div class="line"><span class="keywordflow">while</span> {$x &lt; 3} </div><div class="line">{ </div><div class="line"><span class="keyword">set</span> x [expr $x+1] </div><div class="line">} </div></div><!-- fragment --><p>Comments start with a # character as the first non-blank character in a command. To add a comment at the end of the line, the comment must be preceded by a semi-colon to end the preceding command.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># This is a comment </span></div><div class="line"><span class="keyword">set</span> a 1 # <span class="keyword">this</span> is not a comment </div><div class="line"><span class="keyword">set</span> b 1; # <span class="keyword">this</span> is a comment </div></div><!-- fragment --><p>The number of words is never changed by substitution when parsing in TCL. For example, the result of a substitution is always a single word. This is different from csh but convenient as the behavior of the parser is more predictable. It may sometimes be necessary to force a second round of parsing. <b>eval</b> accomplishes this: it accepts several arguments, concatenates them and executes the resulting script.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># I want to delete two files </div><div class="line"></div><div class="line">set files ;foo bar; </div><div class="line"></div><div class="line"># this will fail because rm will receive only one argument </div><div class="line"># and complain that ;foo bar; does not exit </div><div class="line"></div><div class="line">exec rm $files </div><div class="line"></div><div class="line"># a second evaluation will do it </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_2_3"></a>
Accessing variables in TCL and Draw</h2>
<p>TCL variables have only string values. Note that even numeric values are stored as string literals, and computations using the <b>expr</b> command start by parsing the strings. <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>, however, requires variables with other kinds of values such as curves, surfaces or topological shapes.</p>
<p>TCL provides a mechanism to link user data to variables. Using this functionality, <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> defines its variables as TCL variables with associated data.</p>
<p>The string value of a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable is meaningless. It is usually set to the name of the variable itself. Consequently, preceding a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable with a <em>$</em> does not change the result of a command. The content of a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable is accessed using appropriate commands.</p>
<p>There are many kinds of <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variables, and new ones may be added with C++. Geometric and topological variables are described below.</p>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> numeric variables can be used within an expression anywhere a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> command requires a numeric value. The <em>expr</em> command is useless in this case as the variables are stored not as strings but as floating point values.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># dset is used for numeric variables </span></div><div class="line"><span class="preprocessor"># pi is a predefined Draw variable </span></div><div class="line">dset angle pi/3 radius 10 </div><div class="line">point p radius*cos(angle) radius*sin(angle) 0 </div></div><!-- fragment --><p> It is recommended that you use TCL variables only for strings and <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> for numerals. That way, you will avoid the <em>expr</em> command. As a rule, Geometry and Topology require numbers but no strings.</p>
<h3><a class="anchor" id="occt_draw_2_3_1"></a>
set, unset</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">set varname [value] </div><div class="line">unset varname [varname varname ...] </div></div><!-- fragment --><p><em>set</em> assigns a string value to a variable. If the variable does not already exist, it is created.</p>
<p>Without a value, <em>set</em> returns the content of the variable.</p>
<p><em>unset</em> deletes variables. It is is also used to delete <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variables.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">set</span> a <span class="stringliteral">&quot;Hello world&quot;</span></div><div class="line"><span class="keyword">set</span> b <span class="stringliteral">&quot;Goodbye&quot;</span> </div><div class="line"><span class="keyword">set</span> a </div><div class="line">== <span class="stringliteral">&quot;Hello world&quot;</span> </div><div class="line">unset a b </div><div class="line"><span class="keyword">set</span> a </div></div><!-- fragment --><p><b>Note</b>, that the <em>set</em> command can set only one variable, unlike the <em>dset</em> command.</p>
<h3><a class="anchor" id="occt_draw_2_3_2"></a>
dset, dval</h3>
<p>Syntax</p>
<div class="fragment"><div class="line">dset var1 value1 vr2 value2 ... </div><div class="line">dval name </div></div><!-- fragment --><p><em>dset</em> assigns values to <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> numeric variables. The argument can be any numeric expression including <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> numeric variables. Since all <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> commands expect a numeric expression, there is no need to use $ or <em>expr</em>. The <em>dset</em> command can assign several variables. If there is an odd number of arguments, the last variable will be assigned a value of 0. If the variable does not exist, it will be created.</p>
<p><em>dval</em> evaluates an expression containing <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> numeric variables and returns the result as a string, even in the case of a single variable. This is not used in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> commands as these usually interpret the expression. It is used for basic TCL commands expecting strings.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># z is set to 0 </span></div><div class="line">dset x 10 y 15 z </div><div class="line">== 0 </div><div class="line"></div><div class="line"><span class="preprocessor"># no $ required for Draw commands </span></div><div class="line">point p x y z </div><div class="line"></div><div class="line"><span class="preprocessor"># &quot;puts&quot; prints a string </span></div><div class="line">puts ;x = [dval x], cos(x/pi) = [dval cos(x/pi)]; </div><div class="line">== x = 10, cos(x/pi) = -0.99913874099467914 </div></div><!-- fragment --><p><b>Note,</b> that in TCL, parentheses are not considered to be special characters. Do not forget to quote an expression if it contains spaces in order to avoid parsing different words. <em>(a + b)</em> is parsed as three words: <em>"(a + b)"</em> or <em>(a+b)</em> are correct.</p>
<h3><a class="anchor" id="occt_draw_2_3_3"></a>
del, dall</h3>
<p>Syntax: </p><div class="fragment"><div class="line">del varname_pattern [varname_pattern ...] </div><div class="line">dall</div></div><!-- fragment --><p><em>del</em> command does the same thing as <em>unset</em>, but it deletes the variables matched by the pattern.</p>
<p><em>dall</em> command deletes all variables in the session.</p>
<h2><a class="anchor" id="occt_draw_2_4"></a>
lists</h2>
<p>TCL uses lists. A list is a string containing elements separated by spaces or tabs. If the string contains braces, the braced part accounts as one element.</p>
<p>This allows you to insert lists within lists.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># a list of 3 strings </span></div><div class="line">;a b c; </div><div class="line"></div><div class="line"><span class="preprocessor"># a list of two strings the first is a list of 2 </span></div><div class="line"><span class="preprocessor">;{a b} c; </span></div></div><!-- fragment --><p>Many TCL commands return lists and <b>foreach</b> is a useful way to create loops on list elements.</p>
<h3><a class="anchor" id="occt_draw_2_5"></a>
Control Structures</h3>
<p>TCL allows looping using control structures. The control structures are implemented by commands and their syntax is very similar to that of their C counterparts (<b>if</b>, <b>while</b>, <b>switch</b>, etc.). In this case, there are two main differences between TCL and C:</p>
<ul>
<li>You use braces instead of parentheses to enclose conditions.</li>
<li>You do not start the script on the next line of your command.</li>
</ul>
<h3><a class="anchor" id="occt_draw_2_5_1"></a>
if</h3>
<p>Syntax</p>
<div class="fragment"><div class="line">if condition script [elseif script .... else script] </div></div><!-- fragment --><p><b>If</b> evaluates the condition and the script to see whether the condition is true.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> {$x &gt; 0} { </div><div class="line">puts ;positive; </div><div class="line">} elseif {$x == 0} { </div><div class="line">puts ;null; </div><div class="line">} <span class="keywordflow">else</span> { </div><div class="line">puts ;negative; </div><div class="line">} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_2_5_2"></a>
while, for, foreach</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">while condition script </div><div class="line">for init condition reinit script </div><div class="line">foreach varname list script </div></div><!-- fragment --><p>The three loop structures are similar to their C or csh equivalent. It is important to use braces to delay evaluation. <b>foreach</b> will assign the elements of the list to the variable before evaluating the script. \</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># while example </span></div><div class="line">dset x 1.1 </div><div class="line"><span class="keywordflow">while</span> {[dval x] &lt; 100} { </div><div class="line">  circle c 0 0 x </div><div class="line">  dset x x*x </div><div class="line">} </div><div class="line"><span class="preprocessor"># for example </span></div><div class="line"><span class="preprocessor"># incr var d, increments a variable of d (default 1) </span></div><div class="line"><span class="keywordflow">for</span> {<span class="keyword">set</span> i 0} {$i &lt; 10} {incr i} { </div><div class="line">  dset angle $i*pi/10 </div><div class="line">  point p$i cos(angle0 sin(angle) 0 </div><div class="line">} </div><div class="line"># <span class="keywordflow">foreach</span> example </div><div class="line"><span class="keywordflow">foreach</span> <span class="keywordtype">object</span> {crapo tomson lucas} {display $object} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_2_5_3"></a>
break, continue</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">break </div><div class="line">continue </div></div><!-- fragment --><p>Within loops, the <b>break</b> and <b>continue</b> commands have the same effect as in C.</p>
<p><b>break</b> interrupts the innermost loop and <b>continue</b> jumps to the next iteration.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># search the index for which t$i has value ;secret; </span></div><div class="line"><span class="keywordflow">for</span> {<span class="keyword">set</span> i 1} {$i &lt;= 100} {incr i} { </div><div class="line">  <span class="keywordflow">if</span> {[<span class="keyword">set</span> t$i] == ;secret;} <span class="keywordflow">break</span>; </div><div class="line">} </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_2_6"></a>
Procedures</h2>
<p>TCL can be extended by defining procedures using the <b>proc</b> command, which sets up a context of local variables, binds arguments and executes a TCL script.</p>
<p>The only problematic aspect of procedures is that variables are strictly local, and as they are implicitly created when used, it may be difficult to detect errors.</p>
<p>There are two means of accessing a variable outside the scope of the current procedures: <b>global</b> declares a global variable (a variable outside all procedures); <b>upvar</b> accesses a variable in the scope of the caller. Since arguments in TCL are always string values, the only way to pass <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variables is by reference, i.e. passing the name of the variable and using the <b>upvar</b> command as in the following examples.</p>
<p>As TCL is not a strongly typed language it is very difficult to detect programming errors and debugging can be tedious. TCL procedures are, of course, not designed for large scale software development but for testing and simple command or interactive writing.</p>
<h3><a class="anchor" id="occt_draw_2_6_1"></a>
proc</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">proc argumentlist script </div></div><!-- fragment --><p><b>proc</b> defines a procedure. An argument may have a default value. It is then a list of the form {argument value}. The script is the body of the procedure.</p>
<p><b>return</b> gives a return value to the procedure.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># simple procedure </span></div><div class="line">proc hello {} { </div><div class="line">  puts ;hello world; </div><div class="line">} </div><div class="line"><span class="preprocessor"># procedure with arguments and default values </span></div><div class="line">proc distance {x1 y1 {x2 0} {y2 0}} { </div><div class="line">  <span class="keyword">set</span> d [expr (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1)] </div><div class="line">  <span class="keywordflow">return</span> [expr sqrt(d)] </div><div class="line">} </div><div class="line">proc fact n { </div><div class="line">  <span class="keywordflow">if</span> {$n == 0} {<span class="keywordflow">return</span> 1} <span class="keywordflow">else</span> { </div><div class="line">    <span class="keywordflow">return</span> [expr n*[fact [expr n -1]]] </div><div class="line">  } </div><div class="line">} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_2_6_2"></a>
global, upvar</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">global varname [varname ...] </div><div class="line">upvar varname localname [varname localname ...] </div></div><!-- fragment --><p><b>global</b> accesses high level variables. Unlike C, global variables are not visible in procedures.</p>
<p><b>upvar</b> gives a local name to a variable in the caller scope. This is useful when an argument is the name of a variable instead of a value. This is a call by reference and is the only way to use <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variables as arguments.</p>
<p><b>Note</b> that in the following examples the $ character is always necessarily used to access the arguments.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># convert degree to radian </span></div><div class="line"><span class="preprocessor"># pi is a global variable </span></div><div class="line">proc deg2rad (degree} { </div><div class="line">  <span class="keywordflow">return</span> [dval pi*$degree/2.] </div><div class="line">} </div><div class="line"><span class="preprocessor"># create line with a point and an angle </span></div><div class="line">proc linang {linename x y angle} { </div><div class="line">  upvar linename l </div><div class="line">  line l $x $y cos($angle) sin($angle) </div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_3"></a>
Basic Commands</h1>
<p>This chapter describes all the commands defined in the basic <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> package. Some are TCL commands, but most of them have been formulated in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>. These commands are found in all <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> applications. The commands are grouped into four sections:</p>
<ul>
<li>General commands, which are used for <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> and TCL management.</li>
<li>Variable commands, which are used to manage <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variables such as storing and dumping.</li>
<li>Graphic commands, which are used to manage the graphic system, and so pertain to views.</li>
<li>Variable display commands, which are used to manage the display of objects within given views.</li>
</ul>
<p>Note that <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> also features a GUI task bar providing an alternative way to give certain general, graphic and display commands</p>
<h2><a class="anchor" id="occt_draw_3_1"></a>
General commands</h2>
<p>This section describes several useful commands:</p>
<ul>
<li><b>help</b> to get information,</li>
<li><b>source</b> to eval a script from a file,</li>
<li><b>spy</b> to capture the commands in a file,</li>
<li><b>cpulimit</b> to limit the process cpu time,</li>
<li><b>wait</b> to waste some time,</li>
<li><b>chrono</b> to time commands.</li>
</ul>
<h3><a class="anchor" id="occt_draw_3_1_1"></a>
help</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">help [command [helpstring group]] </div></div><!-- fragment --><p>Provides help or modifies the help information.</p>
<p><b>help</b> without arguments lists all groups and the commands in each group.</p>
<p>Specifying the command returns its syntax and in some cases, information on the command, The joker * is automatically added at the end so that all completing commands are returned as well.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># Gives help on all commands starting with *a* </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_1_2"></a>
source</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">source filename </div></div><!-- fragment --><p> Executes a file.</p>
<p>The <b>exit</b> command will terminate the file.</p>
<h3><a class="anchor" id="occt_draw_3_1_3"></a>
spy</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">spy [filename] </div></div><!-- fragment --><p>Saves interactive commands in the file. If spying has already been performed, the current file is closed. <b>spy</b> without an argument closes the current file and stops spying. If a file already exists, the file is overwritten. Commands are not appended.</p>
<p>If a command returns an error it is saved with a comment mark.</p>
<p>The file created by <b>spy</b> can be executed with the <b>source</b> command.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># all commands will be saved in the file ;session; </span></div><div class="line">spy session </div><div class="line"><span class="preprocessor"># the file ;session; is closed and commands are not saved </span></div><div class="line"><span class="preprocessor">spy </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_1_4"></a>
cpulimit</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">cpulimit [nbseconds] </div></div><!-- fragment --><p><b>cpulimit**limits a process after the number of seconds specified in nbseconds. It is used in tests to avoid infinite loops. **cpulimit</b> without arguments removes all existing limits.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#limit cpu to one hour </span></div><div class="line"><span class="preprocessor">cpulimit 3600 </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_1_5"></a>
wait</h3>
<p>Syntax: </p><div class="fragment"><div class="line">wait [nbseconds] </div></div><!-- fragment --><p> Suspends execution for the number of seconds specified in <em>nbseconds</em>. The default value is ten (10) seconds. This is a useful command for a slide show.</p>
<div class="fragment"><div class="line"># You have ten seconds ... </div><div class="line">wait </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_1_6"></a>
chrono</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">chrono [ name start/stop/reset/show/restart/[counter text]]</div></div><!-- fragment --><p>Without arguments, <b>chrono</b> activates <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> chronometers. The elapsed time ,cpu system and cpu user times for each command will be printed.</p>
<p>With arguments, <b>chrono</b> is used to manage activated chronometers. You can perform the following actions with a chronometer.</p><ul>
<li>run the chronometer (start).</li>
<li>stop the chronometer (stop).</li>
<li>reset the chronometer to 0 (reset).</li>
<li>restart the chronometer (restart).</li>
<li>display the current time (show).</li>
<li>display the current time with specified text (output example - <em>COUNTER text: N</em>), command <em>testdiff</em> will compare such outputs between two test runs (counter).</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">chrono </div><div class="line">==Chronometers activated. </div><div class="line">ptorus t 20 5 </div><div class="line">==Elapsed time: 0 Hours 0 Minutes 0.0318 Seconds </div><div class="line">==CPU user time: 0.01 seconds </div><div class="line">==CPU system time: 0 seconds </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_3_2"></a>
Variable management commands</h2>
<h3><a class="anchor" id="occt_draw_3_2_1"></a>
isdraw, directory</h3>
<p>Syntax: </p><div class="fragment"><div class="line">isdraw varname </div><div class="line">directory [pattern] </div></div><!-- fragment --><p><b>isdraw</b> tests to see if a variable is a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable. <b>isdraw</b> will return 1 if there is a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> value attached to the variable.</p>
<p>Use <b>directory</b> to return a list of all <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> global variables matching a pattern.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">set</span> a 1 </div><div class="line">isdraw a </div><div class="line">=== 0 </div><div class="line"></div><div class="line">dset a 1 </div><div class="line">isdraw a </div><div class="line">=== 1 </div><div class="line"></div><div class="line">circle c 0 0 1 0 5 </div><div class="line">isdraw c </div><div class="line">=== 1 </div><div class="line"></div><div class="line"><span class="preprocessor"># to destroy all Draw objects with name containing curve </span></div><div class="line"><span class="preprocessor">foreach var [directory *curve*] {unset $var} </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_2_2"></a>
whatis, dump</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">whatis varname [varname ...] </div><div class="line">dump varname [varname ...] </div></div><!-- fragment --><p><b>whatis</b> returns short information about a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable. This is usually the type name.</p>
<p><b>dump</b> returns a brief type description, the coordinates, and if need be, the parameters of a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">circle c 0 0 1 0 5 </div><div class="line">whatis c </div><div class="line">c is a 2d curve </div><div class="line"></div><div class="line">dump c </div><div class="line"></div><div class="line">***** Dump of c ***** </div><div class="line">Circle </div><div class="line">Center :0, 0 </div><div class="line">XAxis :1, 0 </div><div class="line">YAxis :-0, 1 </div><div class="line">Radius :5 </div></div><!-- fragment --><p><b>Note</b> The behavior of <em>whatis</em> on other variables (not <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>) is not excellent.</p>
<h3><a class="anchor" id="occt_draw_3_2_3"></a>
renamevar, copy</h3>
<p>Syntax: </p><div class="fragment"><div class="line">renamevar varname tovarname [varname tovarname ...] </div><div class="line">copy varname tovarname [varname tovarname ...] </div></div><!-- fragment --><ul>
<li><b>renamevar</b> changes the name of a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable. The original variable will no longer exist. Note that the content is not modified. Only the name is changed.</li>
<li><b>copy</b> creates a new variable with a copy of the content of an existing variable. The exact behavior of <b>copy</b> is type dependent; in the case of certain topological variables, the content may still be shared.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">circle c1 0 0 1 0 5 </div><div class="line">renamevar c1 c2 </div><div class="line"></div><div class="line"><span class="preprocessor"># curves are copied, c2 will not be modified </span></div><div class="line"><span class="preprocessor">copy c2 c3 </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_2_4"></a>
datadir, save, restore</h3>
<p>Syntax: </p><div class="fragment"><div class="line">datadir [directory] </div><div class="line">save variable [filename] </div><div class="line">restore filename [variablename] </div></div><!-- fragment --><ul>
<li><b>datadir</b> without arguments prints the path of the current data directory.</li>
<li><b>datadir</b> with an argument sets the data directory path. \</li>
</ul>
<p>If the path starts with a dot (.) only the last directory name will be changed in the path.</p>
<ul>
<li><b>save</b> writes a file in the data directory with the content of a variable. By default the name of the file is the name of the variable. To give a different name use a second argument.</li>
<li><b>restore</b> reads the content of a file in the data directory in a local variable. By default, the name of the variable is the name of the file. To give a different name, use a second argument.</li>
</ul>
<p>The exact content of the file is type-dependent. They are usually ASCII files and so, architecture independent.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># note how TCL accesses shell environment variables </span></div><div class="line"><span class="preprocessor"># using $env() </span></div><div class="line">datadir </div><div class="line">==. </div><div class="line"></div><div class="line">datadir $env(WBCONTAINER)/data/<span class="keywordflow">default</span> </div><div class="line">==/adv_20/BAG/data/<span class="keywordflow">default</span> </div><div class="line"></div><div class="line">box b 10 20 30 </div><div class="line">save b theBox </div><div class="line">==/adv_20/BAG/data/<span class="keywordflow">default</span>/theBox </div><div class="line"></div><div class="line"><span class="preprocessor"># when TCL does not find a command it tries a shell command </span></div><div class="line">ls [datadir] </div><div class="line">== theBox </div><div class="line"></div><div class="line">restore theBox </div><div class="line">== theBox </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_3_3"></a>
User defined commands</h2>
<p><em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw_tr_surf.html">DrawTrSurf</a></em> provides commands to create and display a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> <b>geometric</b> variable from a <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___geometry.html">Geom_Geometry</a></em> object and also get a <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___geometry.html">Geom_Geometry</a></em> object from a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> geometric variable name.</p>
<p><em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_d_b_rep.html">DBRep</a></em> provides commands to create and display a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> <b>topological</b> variable from a <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html">TopoDS_Shape</a></em> object and also get a <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html">TopoDS_Shape</a></em> object from a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> topological variable name.</p>
<h3><a class="anchor" id="occt_draw_3_3_1"></a>
set</h3>
<h4>In <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw_tr_surf.html">DrawTrSurf</a></em> package:</h4>
<div class="fragment"><div class="line">void Set(Standard_CString&amp; Name,const gp_Pnt&amp; G) ; </div><div class="line">void Set(Standard_CString&amp; Name,const gp_Pnt2d&amp; G) ; </div><div class="line">void Set(Standard_CString&amp; Name, </div><div class="line">const Handle(Geom_Geometry)&amp; G) ; </div><div class="line">void Set(Standard_CString&amp; Name, </div><div class="line">const Handle(Geom2d_Curve)&amp; C) ; </div><div class="line">void Set(Standard_CString&amp; Name, </div><div class="line">const Handle(Poly_Triangulation)&amp; T) ; </div><div class="line">void Set(Standard_CString&amp; Name, </div><div class="line">const Handle(Poly_Polygon3D)&amp; P) ; </div><div class="line">void Set(Standard_CString&amp; Name, </div><div class="line">const Handle(Poly_Polygon2D)&amp; P) ; </div></div><!-- fragment --><h4>In <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_d_b_rep.html">DBRep</a></em> package:</h4>
<div class="fragment"><div class="line">void Set(const Standard_CString Name, </div><div class="line">const TopoDS_Shape&amp; S) ; </div></div><!-- fragment --><p>Example of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw_tr_surf.html">DrawTrSurf</a></em></p>
<div class="fragment"><div class="line">Handle(Geom2d_Circle) C1 = new Geom2d_Circle </div><div class="line">(gce_MakeCirc2d (gp_Pnt2d(50,0,) 25)); </div><div class="line">DrawTrSurf::Set(char*, C1); </div></div><!-- fragment --><p>Example of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_d_b_rep.html">DBRep</a></em></p>
<div class="fragment"><div class="line">TopoDS_Solid B; </div><div class="line">B = BRepPrimAPI_MakeBox (10,10,10); </div><div class="line">DBRep::Set(char*,B); </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_3_3_2"></a>
get</h3>
<h4>In <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw_tr_surf.html">DrawTrSurf</a></em> package:</h4>
<div class="fragment"><div class="line">Handle_Geom_Geometry Get(Standard_CString&amp; Name) ; </div></div><!-- fragment --><h4>In <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_d_b_rep.html">DBRep</a></em> package:</h4>
<div class="fragment"><div class="line">TopoDS_Shape Get(Standard_CString&amp; Name, </div><div class="line">const TopAbs_ShapeEnum Typ = TopAbs_SHAPE, </div><div class="line">const Standard_Boolean Complain </div><div class="line">= Standard_True) ; </div></div><!-- fragment --><p>Example of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw_tr_surf.html">DrawTrSurf</a></em></p>
<div class="fragment"><div class="line">Standard_Integer MyCommand </div><div class="line">(Draw_Interpretor&amp; theCommands, </div><div class="line">Standard_Integer argc, char** argv) </div><div class="line">{...... </div><div class="line">// Creation of a Geom_Geometry from a Draw geometric </div><div class="line">// name </div><div class="line">Handle (Geom_Geometry) aGeom= DrawTrSurf::Get(argv[1]); </div><div class="line">} </div></div><!-- fragment --><p>Example of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_d_b_rep.html">DBRep</a></em></p>
<div class="fragment"><div class="line">Standard_Integer MyCommand </div><div class="line">(Draw_Interpretor&amp; theCommands, </div><div class="line">Standard_Integer argc, char** argv) </div><div class="line">{...... </div><div class="line">// Creation of a TopoDS_Shape from a Draw topological </div><div class="line">// name </div><div class="line">TopoDS_Solid B = DBRep::Get(argv[1]); </div><div class="line">} </div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_4"></a>
Graphic Commands</h1>
<p>Graphic commands are used to manage the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> graphic system. <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides a 2d and a 3d viewer with up to 30 views. Views are numbered and the index of the view is displayed in the window’s title. Objects are displayed in all 2d views or in all 3d views, depending on their type. 2d objects can only be viewed in 2d views while 3d objects &ndash; only in 3d views correspondingly.</p>
<h2><a class="anchor" id="occt_draw_4_1"></a>
Axonometric viewer</h2>
<h3><a class="anchor" id="occt_draw_4_1_1"></a>
view, delete</h3>
<p>Syntax: </p><div class="fragment"><div class="line">view index type [X Y W H] </div><div class="line">delete [index] </div></div><!-- fragment --><p><b>view</b> is the basic view creation command: it creates a new view with the given index. If a view with this index already exits, it is deleted. The view is created with default parameters and X Y W H are the position and dimensions of the window on the screen. Default values are 0, 0, 500, 500.</p>
<p>As a rule it is far simpler either to use the procedures <b>axo</b>, <b>top</b>, <b>left</b> or to click on the desired view type in the menu under <em>Views</em> in the task bar..</p>
<p><b>delete</b> deletes a view. If no index is given, all the views are deleted.</p>
<p>Type selects from the following range:</p>
<ul>
<li><em>AXON</em> : Axonometric view</li>
<li><em>PERS</em> : Perspective view</li>
<li><em>+X+Y</em> : View on both axes (i.e. a top view), other codes are <em>-X+Y</em>, <em>+Y-Z</em>, etc.</li>
<li><em>-2D-</em> : 2d view</li>
</ul>
<p>The index, the type, the current zoom are displayed in the window title .</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># this is the content of the mu4 procedure </span></div><div class="line">proc mu4 {} { </div><div class="line"><span class="keyword">delete</span> </div><div class="line">view 1 +X+Z 320 20 400 400 </div><div class="line">view 2 +X+Y 320 450 400 400 </div><div class="line">view 3 +Y+Z 728 20 400 400 </div><div class="line">view 4 AXON 728 450 400 400 </div><div class="line">} </div></div><!-- fragment --><p>See also: <b>axo, pers, top, bottom, left, right, front, back, mu4, v2d, av2d, smallview</b></p>
<h3><a class="anchor" id="occt_draw_4_1_2"></a>
axo, pers, top, ...</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">axo </div><div class="line">pers </div><div class="line">... </div><div class="line">smallview type </div></div><!-- fragment --><p>All these commands are procedures used to define standard screen layout. They delete all existing views and create new ones. The layout usually complies with the European convention, i.e. a top view is under a front view.</p>
<ul>
<li><b>axo</b> creates a large window axonometric view;</li>
<li><b>pers</b> creates a large window perspective view;</li>
<li><b>top</b>, <b>bottom</b>, <b>left</b>, <b>right</b>, <b>front</b>, <b>back</b> create a large window axis view;</li>
<li><b>mu4</b> creates four small window views: front, left, top and axo.</li>
<li><b>v2d</b> creates a large window 2d view.</li>
<li><b>av2d</b> creates two small window views, one 2d and one axo</li>
<li><b>smallview</b> creates a view at the bottom right of the screen of the given type.</li>
</ul>
<p>See also: <b>view</b>, <b>delete</b></p>
<h3><a class="anchor" id="occt_draw_4_1_3"></a>
mu, md, 2dmu, 2dmd, zoom, 2dzoom</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">mu [index] value </div><div class="line">2dmu [index] value </div><div class="line">zoom [index] value </div><div class="line">wzoom </div></div><!-- fragment --><ul>
<li><b>mu</b> (magnify up) increases the zoom in one or several views by a factor of 10%.</li>
<li><b>md</b> (magnify down) decreases the zoom by the inverse factor. <b>2dmu</b> and <b>2dmd</b> perform the same on one or all 2d views.</li>
<li><b>zoom</b> and <b>2dzoom</b> set the zoom factor to a value specified by you. The current zoom factor is always displayed in the window’s title bar. Zoom 20 represents a full screen view in a large window; zoom 10, a full screen view in a small one.</li>
<li><b>wzoom</b> (window zoom) allows you to select the area you want to zoom in on with the mouse. You will be prompted to give two of the corners of the area that you want to magnify and the rectangle so defined will occupy the window of the view.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># set a zoom of 2.5 </span></div><div class="line">zoom 2.5 </div><div class="line"></div><div class="line"><span class="preprocessor"># magnify by 10% </span></div><div class="line">mu 1 </div><div class="line"></div><div class="line"><span class="preprocessor"># magnify by 20% </span></div></div><!-- fragment --><p> See also: <b>fit</b>, <b>2dfit</b></p>
<h3><a class="anchor" id="occt_draw_4_14"></a>
pu, pd, pl, pr, 2dpu, 2dpd, 2dpl, 2dpr</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">pu [index] </div><div class="line">pd [index] </div></div><!-- fragment --><p>The <em>p_</em> commands are used to pan. <b>pu</b> and <b>pd</b> pan up and down respectively; <b>pl</b> and <b>pr</b> pan to the left and to the right respectively. Each time the view is displaced by 40 pixels. When no index is given, all views will pan in the direction specified. </p><div class="fragment"><div class="line"># you have selected one anonometric view</div><div class="line">pu</div><div class="line"># or</div><div class="line">pu 1</div><div class="line"></div><div class="line"># you have selected an mu4 view; the object in the third view will pan up</div><div class="line">pu 3</div></div><!-- fragment --><p> See also: <b>fit</b>, <b>2dfit</b></p>
<h3><a class="anchor" id="occt_draw_4_1_5"></a>
fit, 2dfit</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">fit [index] </div><div class="line">2dfit [index] </div></div><!-- fragment --><p><b>fit</b> computes the best zoom and pans on the content of the view. The content of the view will be centered and fit the whole window.</p>
<p>When fitting all views a unique zoom is computed for all the views. All views are on the same scale.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># fit only view 1 </span></div><div class="line">fit 1 </div><div class="line"><span class="preprocessor"># fit all 2d views </span></div><div class="line"><span class="preprocessor">2dfit </span></div></div><!-- fragment --><p> See also: <b>zoom</b>, <b>mu</b>, <b>pu</b></p>
<h3><a class="anchor" id="occt_draw_4_1_6"></a>
u, d, l, r</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">u [index] </div><div class="line">d [index] </div><div class="line">l [index] </div><div class="line">r [index] </div></div><!-- fragment --><p><b>u</b>, <b>d</b>, <b>l</b>, <b>r</b> Rotate the object in view around its axis by five degrees up, down, left or right respectively. This command is restricted to axonometric and perspective views.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># rotate the view up </span></div><div class="line"><span class="preprocessor">u </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_7"></a>
focal, fu, fd</h3>
<p>Syntax: </p><div class="fragment"><div class="line">focal [f] </div><div class="line">fu [index] </div><div class="line">fd [index] </div></div><!-- fragment --><ul>
<li><b>focal</b> changes the vantage point in perspective views. A low f value increases the perspective effect; a high one give a perspective similar to that of an axonometric view. The default value is 500.</li>
<li><b>fu</b> and <b>fd</b> increase or decrease the focal value by 10%. <b>fd</b> makes the eye closer to the object.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">pers </div><div class="line">repeat 10 fd </div></div><!-- fragment --><p><b>Note</b>: Do not use a negative or null focal value.</p>
<p>See also: <b>pers</b></p>
<h3><a class="anchor" id="occt_draw_4_1_8"></a>
color</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">color index name </div></div><!-- fragment --><p><b>color</b> sets the color to a value. The index of the <em>color</em> is a value between 0 and 15. The name is an X window color name. The list of these can be found in the file <em>rgb.txt</em> in the X library directory.</p>
<p>The default values are: 0 White, 1 Red, 2 Green, 3 Blue, 4 Cyan, 5 Gold, 6 Magenta, 7 Marron, 8 Orange, 9 Pink, 10 Salmon, 11 Violet, 12 Yellow, 13 Khaki, 14 Coral.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># change the value of blue </span></div><div class="line"><span class="preprocessor">color 3 &quot;navy blue&quot; </span></div></div><!-- fragment --><p><b>Note</b> that the color change will be visible on the next redraw of the views, for example, after <em>fit</em> or <em>mu</em>, etc.</p>
<h3><a class="anchor" id="occt_draw_4_1_9"></a>
dtext</h3>
<p>Syntax: </p><div class="fragment"><div class="line">dtext [x y [z]] string </div></div><!-- fragment --><p><b>dtext</b> displays a string in all 3d or 2d views. If no coordinates are given, a graphic selection is required. If two coordinates are given, the text is created in a 2d view at the position specified. With 3 coordinates, the text is created in a 3d view.</p>
<p>The coordinates are real space coordinates.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># mark the origins </span></div><div class="line">dtext 0 0 bebop </div><div class="line">dtext 0 0 0 bebop </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_10"></a>
hardcopy, hcolor, xwd</h3>
<p>Syntax: </p><div class="fragment"><div class="line">hardcopy [index] </div><div class="line">hcolor index width gray </div><div class="line">xwd [index] filename </div></div><!-- fragment --><ul>
<li><b>hardcopy</b> creates a postcript file called a4.ps in the current directory. This file contains the postscript description of the view index, and will allow you to print the view.</li>
<li><b>hcolor</b> lets you change the aspect of lines in the postscript file. It allows to specify a width and a gray level for one of the 16 colors. <b>width</b> is measured in points with default value as 1, <b>gray</b> is the gray level from 0 = black to 1 = white with default value as 0. All colors are bound to the default values at the beginning.</li>
<li><b>xwd</b> creates an X window xwd file from an active view. By default, the index is set to1. To visualize an xwd file, use the unix command <b>xwud</b>.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># all blue lines (color 3) </span></div><div class="line"><span class="preprocessor"># will be half-width and gray </span></div><div class="line">hcolor 3 0.5 </div><div class="line"></div><div class="line"><span class="preprocessor"># make a postscript file and print it </span></div><div class="line">hardcopy </div><div class="line">lpr a4.ps </div><div class="line"></div><div class="line"><span class="preprocessor"># make an xwd file and display it </span></div><div class="line">xwd theview </div><div class="line">xwud -in theview </div></div><!-- fragment --><p><b>Note:</b> When more than one view is present, specify the index of the view.</p>
<p>Only use a postscript printer to print postscript files.</p>
<p>See also: <b>color</b></p>
<h3><a class="anchor" id="occt_draw_4_1_11"></a>
wclick, pick</h3>
<p>Syntax: </p><div class="fragment"><div class="line">wclick </div><div class="line">pick index X Y Z b [nowait] </div></div><!-- fragment --><p><b>wclick</b> defers an event until the mouse button is clicked. The message <code>just click</code> is displayed.</p>
<p>Use the <b>pick</b> command to get graphic input. The arguments must be names for variables where the results are stored.</p><ul>
<li>index: index of the view where the input was made.</li>
<li>X,Y,Z: 3d coordinates in real world.</li>
<li>b: b is the mouse button 1,2 or 3.</li>
</ul>
<p>When there is an extra argument, its value is not used and the command does not wait for a click; the value of b may then be 0 if there has not been a click.</p>
<p>This option is useful for tracking the pointer.</p>
<p><b>Note</b> that the results are stored in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> numeric variables.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># make a circle at mouse location </span></div><div class="line">pick index x y z b </div><div class="line">circle c x y z 0 0 1 1 0 0 0 30 </div><div class="line"></div><div class="line"><span class="preprocessor"># make a dynamic circle at mouse location </span></div><div class="line"><span class="preprocessor"># stop when a button is clicked </span></div><div class="line"><span class="preprocessor"># (see the repaint command) </span></div><div class="line"></div><div class="line">dset b 0 </div><div class="line"><span class="keywordflow">while</span> {[dval b] == 0} { </div><div class="line">pick index x y z b nowait </div><div class="line">circle c x y z 0 0 1 1 0 0 0 30 </div><div class="line">repaint </div><div class="line">} </div></div><!-- fragment --><p> See also: <b>repaint</b></p>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides commands to manage the display of objects.</p><ul>
<li><b>display</b>, <b>donly</b> are used to display,</li>
<li><b>erase</b>, <b>clear</b>, <b>2dclear</b> to erase.</li>
<li><b>autodisplay</b> command is used to check whether variables are displayed when created.</li>
</ul>
<p>The variable name "." (dot) has a special status in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>. Any <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> command expecting a <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> object as argument can be passed a dot. The meaning of the dot is the following.</p><ul>
<li>If the dot is an input argument, a graphic selection will be made. Instead of getting the object from a variable, <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> will ask you to select an object in a view.</li>
<li>If the dot is an output argument, an unnamed object will be created. Of course this makes sense only for graphic objects: if you create an unnamed number you will not be able to access it. This feature is used when you want to create objects for display only.</li>
<li>If you do not see what you expected while executing loops or sourcing files, use the <b>repaint</b> and <b>dflush</b> commands.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># OK use dot to dump an object on the screen </span></div><div class="line">dump . </div><div class="line"></div><div class="line">point . x y z </div><div class="line"></div><div class="line"><span class="preprocessor">#Not OK. display points on a curve c </span></div><div class="line"><span class="preprocessor"># with dot no variables are created </span></div><div class="line"><span class="keywordflow">for</span> {<span class="keyword">set</span> i 0} {$i &lt;= 10} {incr i} { </div><div class="line">cvalue c $i/10 x y z </div><div class="line">point . x y z </div><div class="line">} </div><div class="line"></div><div class="line"><span class="preprocessor"># point p x y z </span></div><div class="line"><span class="preprocessor"># would have displayed only one point </span></div><div class="line"><span class="preprocessor"># because the precedent variable content is erased </span></div><div class="line"></div><div class="line"><span class="preprocessor"># point p$i x y z </span></div><div class="line"><span class="preprocessor"># is an other solution, creating variables </span></div><div class="line"><span class="preprocessor"># p0, p1, p2, .... </span></div><div class="line"></div><div class="line"><span class="preprocessor"># give a name to a graphic object </span></div><div class="line"><span class="preprocessor">renamevar . x </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_12"></a>
autodisplay</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">autodisplay [0/1] </div></div><!-- fragment --><p>By default, <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> automatically displays any graphic object as soon as it is created. This behavior known as autodisplay can be removed with the command <b>autodisplay</b>. Without arguments, <b>autodisplay</b> toggles the autodisplay mode. The command always returns the current mode.</p>
<p>When <b>autodisplay</b> is off, using the dot return argument is ineffective.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># c is displayed </span></div><div class="line">circle c 0 0 1 0 5 </div><div class="line"></div><div class="line"><span class="preprocessor"># toggle the mode </span></div><div class="line">autodisplay </div><div class="line">== 0 </div><div class="line">circle c 0 0 1 0 5 </div><div class="line"></div><div class="line"><span class="preprocessor"># c is erased, but not displayed </span></div><div class="line"><span class="preprocessor">display c </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_13"></a>
display, donly</h3>
<p>Syntax: </p><div class="fragment"><div class="line">display varname [varname ...] </div><div class="line">donly varname [varname ...] </div></div><!-- fragment --><ul>
<li><b>display</b> makes objects visible.</li>
<li><b>donly</b> <em>display only</em> makes objects visible and erases all other objects. It is very useful to extract one object from a messy screen.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">\# to see all objects </div><div class="line"><span class="keywordflow">foreach</span> var [directory] {display $var} </div><div class="line"></div><div class="line">\# to select two objects and erase the other ones </div><div class="line">donly . . </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_14"></a>
erase, clear, 2dclear</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">erase [varname varname ...] </div><div class="line">clear </div><div class="line">2dclear </div></div><!-- fragment --><p><b>erase</b> removes objects from all views. <b>erase</b> without arguments erases everything in 2d and 3d.</p>
<p><b>clear</b> erases only 3d objects and <b>2dclear</b> only 2d objects. <b>erase</b> without arguments is similar to <b>clear; 2dclear</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor"># erase eveerything with a name starting with c_ </span></div><div class="line"><span class="keywordflow">foreach</span> var [directory c_*] {erase $var} </div><div class="line"></div><div class="line"><span class="preprocessor"># clear 2d views </span></div><div class="line"><span class="preprocessor">2dclear </span></div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_14_1"></a>
disp, don, era</h3>
<p>These commands have the same meaning as correspondingly display, donly and erase, but with the difference that they evaluate the arguments using glob pattern rules. For example, to display all objects with names d_1, d_2, d_3, etc. it is enouth to run the command: </p><div class="fragment"><div class="line">disp d_*</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_1_15"></a>
repaint, dflush</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">repaint </div><div class="line">dflush </div></div><!-- fragment --><ul>
<li><b>repaint</b> forces repainting of views.</li>
<li><b>dflush</b> flushes the graphic buffers.</li>
</ul>
<p>These commands are useful within loops or in scripts.</p>
<p>When an object is modified or erased, the whole view must be repainted. To avoid doing this too many times, <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> sets up a flag and delays the repaint to the end of the command in which the new prompt is issued. In a script, you may want to display the result of a change immediately. If the flag is raised, <b>repaint</b> will repaint the views and clear the flag.</p>
<p>Graphic operations are buffered by <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> (and also by the X system). Usually the buffer is flushed at the end of a command and before graphic selection. If you want to flush the buffer from inside a script, use the <b>dflush</b> command.</p>
<p>See also: <a class="el" href="occt_user_guides__test_harness.html#occt_draw_4_1_11">pick</a> command.</p>
<h2><a class="anchor" id="occt_draw_4_2"></a>
AIS viewer -- view commands</h2>
<h3><a class="anchor" id="occt_draw_4_2_1"></a>
vinit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vinit </div></div><!-- fragment --><p> Creates a new View window with the specified <em>view_name</em>. By default the view is created in the viewer and in the graphic driver shared with the active view.</p>
<div class="fragment"><div class="line">name = {driverName/viewerName/viewName | viewerName/viewName | viewName}</div></div><!-- fragment --><p>If <em>driverName</em> is not specified the driver will be shared with the active view. If <em>viewerName</em> is not specified the viewer will be shared with the active view.</p>
<h3><a class="anchor" id="occt_draw_4_2_2"></a>
vhelp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vhelp </div></div><!-- fragment --><p> Displays help in the 3D viewer window. The help consists in a list of hotkeys and their functionalities.</p>
<h3><a class="anchor" id="occt_draw_4_2_3"></a>
vtop</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtop </div></div><!-- fragment --><p>Displays top view in the 3D viewer window. Orientation +X+Y.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 10 10 10 </div><div class="line">vdisplay b </div><div class="line">vfit </div><div class="line">vtop </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_2_4"></a>
vaxo</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vaxo </div></div><!-- fragment --><p>Displays axonometric view in the 3D viewer window. Orientation +X-Y+Z.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 10 10 10 </div><div class="line">vdisplay b </div><div class="line">vfit </div><div class="line">vaxo </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_2_5"></a>
vsetbg</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsetbg imagefile [filltype] </div></div><!-- fragment --><p>Loads image file as background. <em>filltype</em> must be NONE, CENTERED, TILED or STRETCH.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vsetbg myimage.brep CENTERED </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_2_6"></a>
vclear</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vclear </div></div><!-- fragment --><p> Removes all objects from the viewer.</p>
<h3><a class="anchor" id="occt_draw_4_2_7"></a>
vrepaint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vrepaint </div></div><!-- fragment --><p> Forcibly redisplays the shape in the 3D viewer window.</p>
<h3><a class="anchor" id="occt_draw_4_2_8"></a>
vfit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vfit </div></div><!-- fragment --><p> Automatic zoom/panning. Objects in the view are visualized to occupy the maximum surface.</p>
<h3><a class="anchor" id="occt_draw_4_2_9"></a>
vzfit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vzfit </div></div><!-- fragment --><p>Automatic depth panning. Objects in the view are visualized to occupy the maximum 3d space.</p>
<h3><a class="anchor" id="occt_draw_4_2_10"></a>
vreadpixel</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vreadpixel xPixel yPixel [{rgb|rgba|depth|hls|rgbf|rgbaf}=rgba] [name] </div></div><!-- fragment --><p> Read pixel value for active view.</p>
<h3><a class="anchor" id="occt_draw_4_2_11"></a>
vselect</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vselect x1 y1 [x2 y2 [x3 y3 ... xn yn]] [-allowoverlap 0|1] [shift_selection = 0|1]</div></div><!-- fragment --><p>Emulates different types of selection:</p>
<ul>
<li>single mouse click selection</li>
<li>selection with a rectangle having the upper left and bottom right corners in <em>(x1,y1)</em> and <em>(x2,y2)</em> respectively</li>
<li>selection with a polygon having the corners in pixel positions <em>(x1,y1), (x2,y2),…, (xn,yn)</em></li>
<li><em> -allowoverlap </em> manages overlap and inclusion detection in rectangular selection. If the flag is set to 1, both sensitives that were included completely and overlapped partially by defined rectangle will be detected, otherwise algorithm will chose only fully included sensitives. Default behavior is to detect only full inclusion.</li>
<li>any of these selections if shift_selection is set to 1.</li>
</ul>
<h3><a class="anchor" id="occt_draw_4_2_12"></a>
vmoveto</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">vmoveto x y</div></div><!-- fragment --><p> Emulates cursor movement to pixel position (x,y).</p>
<h3><a class="anchor" id="occt_draw_4_2_13"></a>
vviewparams</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vviewparams [-scale [s]] [-eye [x y z]] [-at [x y z]] [-up [x y z]] [-proj [x y z]] [-center x y] [-size sx]</div></div><!-- fragment --><p> Gets or sets the current view parameters.</p><ul>
<li>If called without arguments, all view parameters are printed.</li>
<li>The options are:</li>
<li>-scale [s] : prints or sets the relative scale of viewport.</li>
<li>-eye [x y z] : prints or sets the eye location.</li>
<li>-at [x y z] : prints or sets the view center.</li>
<li>-up [x y z] : prints or sets the up vector direction.</li>
<li>-proj [x y z] : prints or sets the view direction.</li>
<li>-center x y : sets the screen center location in pixels.</li>
<li>-size [sx] : prints viewport projection width and height sizes or changes the size of its maximum dimension.</li>
</ul>
<h3><a class="anchor" id="occt_draw_4_2_14"></a>
vchangeselected</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vchangeselected shape</div></div><!-- fragment --><p> Adds a shape to selection or removes one from it.</p>
<h3><a class="anchor" id="occt_draw_4_2_15"></a>
vzclipping</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vzclipping [mode] [depth width]</div></div><!-- fragment --><p> Gets or sets ZClipping mode, width and depth, where</p><ul>
<li><em>mode = OFF|BACK|FRONT|SLICE</em></li>
<li><em>depth</em> is a real value from segment [0,1]</li>
<li><em>width</em> is a real value from segment [0,1]</li>
</ul>
<h3><a class="anchor" id="occt_draw_4_2_16"></a>
vnbselected</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vnbselected</div></div><!-- fragment --><p> Returns the number of selected objects in the interactive context.</p>
<h3><a class="anchor" id="occt_draw_4_2_18"></a>
vpurgedisplay</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vpurgedisplay [CollectorToo = 0|1]</div></div><!-- fragment --><p> Removes structures which do not belong to objects displayed in neutral point.</p>
<h3><a class="anchor" id="occt_draw_4_2_19"></a>
vhlr</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vhlr is_enabled={on|off} [show_hidden={1|0}]</div></div><!-- fragment --><p> Hidden line removal algorithm:</p><ul>
<li><em>is_enabled</em> applies HLR algorithm.</li>
<li><em>show_hidden</em> if equals to 1, hidden lines are drawn as dotted ones.</li>
</ul>
<h3><a class="anchor" id="occt_draw_4_2_20"></a>
vhlrtype</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vhlrtype  algo_type={algo|polyalgo} [shape_1 ... shape_n]</div></div><!-- fragment --><p>Changes the type of HLR algorithm used for shapes. If the algo_type is algo, the exact HLR algorithm is used, otherwise the polygonal algorithm is used for defined shapes.</p>
<p>If no shape is specified through the command arguments, the given HLR algorithm_type is applied to all <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s___shape.html">AIS_Shape</a></em> isntances in the current context, and the command also changes the default HLR algorithm type.</p>
<p><b>Note</b> that this command works with instances of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s___shape.html">AIS_Shape</a></em> or derived classes only, other interactive object types are ignored.</p>
<h3><a class="anchor" id="occt_draw_4_2_21"></a>
vcamera</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vcamera [-ortho] [-projtype]</div><div class="line">        [-persp]</div><div class="line">        [-fovy   [Angle]] [-distance [Distance]]</div><div class="line">        [-stereo] [-leftEye] [-rightEye]</div><div class="line">        [-iod [Distance]] [-iodType    [absolute|relative]]</div><div class="line">        [-zfocus [Value]] [-zfocusType [absolute|relative]]</div></div><!-- fragment --><p>Manages camera parameters. Prints the current value when the option is called without argument.</p>
<p>Orthographic camera:</p><ul>
<li>-ortho &ndash; activates orthographic projection.</li>
</ul>
<p>Perspective camera:</p><ul>
<li>-persp &ndash; activated perspective projection (mono);</li>
<li>-fovy &ndash; field of view in y axis, in degrees;</li>
<li>-distance &ndash; distance of eye from the camera center.</li>
</ul>
<p>Stereoscopic camera:</p><ul>
<li>-stereo &ndash; perspective projection (stereo);</li>
<li>-leftEye &ndash; perspective projection (left eye);</li>
<li>-rightEye &ndash; perspective projection (right eye);</li>
<li>-iod &ndash; intraocular distance value;</li>
<li>-iodType &ndash; distance type, absolute or relative;</li>
<li>-zfocus &ndash; stereographic focus value;</li>
<li>-zfocusType &ndash; focus type, absolute or relative.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">box b 10 10 10</div><div class="line">vdisplay b</div><div class="line">vfit</div><div class="line">vcamera -persp</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_2_22"></a>
vstereo</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vstereo [0|1] [-mode Mode] [-reverse {0|1}] [-anaglyph Filter]</div></div><!-- fragment --><p>Defines the stereo output mode. The following modes are available:</p><ul>
<li>quadBuffer &ndash; OpenGL QuadBuffer stereo, requires driver support. Should be called BEFORE <em>vinit</em>!</li>
<li>anaglyph &ndash; Anaglyph glasses;</li>
<li>rowInterlaced &ndash; row-interlaced display;</li>
<li>columnInterlaced &ndash; column-interlaced display;</li>
<li>chessBoard &ndash; chess-board output;</li>
<li>sideBySide &ndash; horizontal pair;</li>
<li>overUnder &ndash; vertical pair; Available Anaglyph filters for -anaglyph:</li>
<li>redCyan, redCyanSimple, yellowBlue, yellowBlueSimple, greenMagentaSimple.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">box b 10 10 10</div><div class="line">vdisplay b</div><div class="line">vstereo 1</div><div class="line">vfit</div><div class="line">vcamera -stereo -iod 1</div><div class="line">vcamera -lefteye</div><div class="line">vcamera -righteye</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_2_23"></a>
vfrustumculling</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vfrustumculling [toEnable]</div></div><!-- fragment --><p>Enables/disables objects clipping.</p>
<h2><a class="anchor" id="occt_draw_4_3"></a>
AIS viewer -- display commands</h2>
<h3><a class="anchor" id="occt_draw_4_3_1"></a>
vdisplay</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdisplay [-noupdate|-update] [-local] [-mutable] [-neutral]</div><div class="line">         [-trsfPers {pan|zoom|rotate|trihedron|full|none}=none] [-trsfPersPos X Y [Z]] [-3d|-2d|-2dTopDown]</div><div class="line">         [-dispMode mode] [-highMode mode]</div><div class="line">         [-layer index] [-top|-topmost|-overlay|-underlay]</div><div class="line">         [-redisplay]</div><div class="line">         name1 [name2] ... [name n]</div></div><!-- fragment --><p>Displays named objects. Option <em>-local</em> enables display of objects in the local selection context. Local selection context will be opened if there is not any.</p>
<ul>
<li><em>noupdate</em> suppresses viewer redraw call.</li>
<li><em>mutable</em> enables optimization for mutable objects.</li>
<li><em>neutral</em> draws objects in the main viewer.</li>
<li><em>layer</em> sets z-layer for objects. It can use <em>-overlay|-underlay|-top|-topmost</em> instead of <em>-layer index</em> for the default z-layers.</li>
<li><em>top</em> draws objects on top of main presentations but below the topmost level.</li>
<li><em>topmost</em> draws in overlay for 3D presentations with independent Depth.</li>
<li><em>overlay</em> draws objects in overlay for 2D presentations (On-Screen-Display).</li>
<li><em>underlay</em> draws objects in underlay for 2D presentations (On-Screen-Display).</li>
<li><em>selectable|-noselect</em> controls selection of objects.</li>
<li><em>trsfPers</em> sets transform persistence flags. Flag <em>full</em> allows to pan, zoom and rotate.</li>
<li><em>trsfPersPos</em> sets an anchor point for transform persistence.</li>
<li><em>2d|-2dTopDown</em> displays object in screen coordinates.</li>
<li><em>dispmode</em> sets display mode for objects.</li>
<li><em>highmode</em> sets highlight mode for objects.</li>
<li><em>redisplay</em> recomputes presentation of objects.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 40 40 40 10 10 10 </div><div class="line">psphere s 20 </div><div class="line">vdisplay s b </div><div class="line">vfit </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_2"></a>
vdonly</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdonly [-noupdate|-update] [name1] ...  [name n]</div></div><!-- fragment --><p>Displays only selected or named objects. If there are no selected or named objects, nothing is done.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 40 40 40 10 10 10 </div><div class="line">psphere s 20 </div><div class="line">vdonly b </div><div class="line">vfit</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_3"></a>
vdisplayall</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdisplayall [-local]</div></div><!-- fragment --><p>Displays all erased interactive objects (see vdir and vstate). Option <em>-local</em> enables displaying objects in the local selection context.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 40 40 40 10 10 10 </div><div class="line">psphere s 20 </div><div class="line">vdisplayall </div><div class="line">vfit </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_4"></a>
verase</h3>
<p>Syntax: </p><div class="fragment"><div class="line">verase [name1] [name2] … [name n]</div></div><!-- fragment --><p>Erases some selected or named objects. If there are no selected or named objects, the whole viewer is erased.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b1 40 40 40 10 10 10 </div><div class="line">box b2 -40 -40 -40 10 10 10 </div><div class="line">psphere s 20 </div><div class="line">vdisplayall </div><div class="line">vfit </div><div class="line"># erase only first box </div><div class="line">verase b1 </div><div class="line"># erase second box and sphere </div><div class="line">verase</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_5"></a>
veraseall</h3>
<p>Syntax: </p><div class="fragment"><div class="line">veraseall</div></div><!-- fragment --><p>Erases all objects displayed in the viewer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b1 40 40 40 10 10 10 </div><div class="line">box b2 -40 -40 -40 10 10 10 </div><div class="line">psphere s 20 </div><div class="line">vdisplayall </div><div class="line">vfit </div><div class="line"># erase only first box </div><div class="line">verase b1 </div><div class="line"># erase second box and sphere </div><div class="line">verseall</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_6"></a>
vsetdispmode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsetdispmode [name] mode(0,1,2,3)</div></div><!-- fragment --><p>Sets display mode for all, selected or named objects.</p><ul>
<li><em>0</em> (<em>WireFrame</em>),</li>
<li><em>1</em> (<em>Shading</em>),</li>
<li><em>2</em> (<em>Quick HideLineremoval</em>),</li>
<li><em>3</em> (<em>Exact HideLineremoval</em>).</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 10 10 10 </div><div class="line">vdisplay b </div><div class="line">vsetdispmode 1 </div><div class="line">vfit</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_7"></a>
vdisplaytype</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdisplaytype type</div></div><!-- fragment --><p>Displays all objects of a given type. The following types are possible: <em>Point</em>, <em>Axis</em>, <em>Trihedron</em>, <em>PlaneTrihedron</em>, <em>Line</em>, <em>Circle</em>, <em>Plane</em>, <em>Shape</em>, <em>ConnectedShape</em>, <em>MultiConn.Shape</em>, <em>ConnectedInter.</em>, <em>MultiConn.</em>, <em>Constraint</em> and <em>Dimension</em>.</p>
<h3><a class="anchor" id="occt_draw_4_3_8"></a>
verasetype</h3>
<p>Syntax: </p><div class="fragment"><div class="line">verasetype type</div></div><!-- fragment --><p>Erases all objects of a given type. Possible type is <em>Point</em>, <em>Axis</em>, <em>Trihedron</em>, <em>PlaneTrihedron</em>, <em>Line</em>, <em>Circle</em>, <em>Plane</em>, <em>Shape</em>, <em>ConnectedShape</em>, <em>MultiConn.Shape</em>, <em>ConnectedInter.</em>, <em>MultiConn.</em>, <em>Constraint</em> and <em>Dimension</em>.</p>
<h3><a class="anchor" id="occt_draw_4_3_9"></a>
vtypes</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtypes</div></div><!-- fragment --><p>Makes a list of known types and signatures in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a>.</p>
<h3><a class="anchor" id="occt_draw_4_3_10"></a>
vaspects</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vaspects [-noupdate|-update] [name1 [name2 [...]] | -defaults]</div><div class="line">         [-setVisibility 0|1]</div><div class="line">         [-setColor ColorName] [-setcolor R G B] [-unsetColor]</div><div class="line">         [-setMaterial MatName] [-unsetMaterial]</div><div class="line">         [-setTransparency Transp] [-unsetTransparency]</div><div class="line">         [-setWidth LineWidth] [-unsetWidth]</div><div class="line">         [-setLineType {solid|dash|dot|dotDash}] [-unsetLineType]</div><div class="line">         [-freeBoundary {off/on | 0/1}]</div><div class="line">         [-setFreeBoundaryWidth Width] [-unsetFreeBoundaryWidth]</div><div class="line">         [-setFreeBoundaryColor {ColorName | R G B}] [-unsetFreeBoundaryColor]</div><div class="line">         [-subshapes subname1 [subname2 [...]]]</div><div class="line">         [-isoontriangulation 0|1]</div><div class="line">         [-setMaxParamValue {value}]</div></div><!-- fragment --><p>Manages presentation properties of all, selected or named objects.</p><ul>
<li><em>-subshapes</em> &ndash; assigns presentation properties to the specified sub-shapes.</li>
<li><em>-defaults</em> &ndash; assigns presentation properties to all objects that do not have their own specified properties and to all objects to be displayed in the future. If <em>-defaults</em> option is used there should not be any names of objects and <em>-subshapes</em> specifier.</li>
</ul>
<p>Aliases: </p><div class="fragment"><div class="line">vsetcolor [-noupdate|-update] [name] ColorName</div></div><!-- fragment --><p>Manages presentation properties (color, material, transparency) of all objects, selected or named.</p>
<p><b>Color</b>. The <em>ColorName</em> can be: <em>BLACK</em>, <em>MATRAGRAY</em>, <em>MATRABLUE</em>, <em>ALICEBLUE</em>, <em>ANTIQUEWHITE</em>, <em>ANTIQUEWHITE1</em>, <em>ANTIQUEWHITE2</em>, <em>ANTIQUEWHITE3</em>, <em>ANTIQUEWHITE4</em>, <em>AQUAMARINE1</em>, <em>AQUAMARINE2</em>, <em>AQUAMARINE4</em>, <em>AZURE</em>, <em>AZURE2</em>, <em>AZURE3</em>, <em>AZURE4</em>, <em>BEIGE</em>, <em>BISQUE</em>, <em>BISQUE2</em>, <em>BISQUE3</em>, <em>BISQUE4</em>, <em>BLANCHEDALMOND</em>, <em>BLUE1</em>, <em>BLUE2</em>, <em>BLUE3</em>, <em>BLUE4</em>, <em>BLUEVIOLET</em>, <em>BROWN</em>, <em>BROWN1</em>, <em>BROWN2</em>, <em>BROWN3</em>, <em>BROWN4</em>, <em>BURLYWOOD</em>, <em>BURLYWOOD1</em>, <em>BURLYWOOD2</em>, <em>BURLYWOOD3</em>, <em>BURLYWOOD4</em>, <em>CADETBLUE</em>, <em>CADETBLUE1</em>, <em>CADETBLUE2</em>, <em>CADETBLUE3</em>, <em>CADETBLUE4</em>, <em>CHARTREUSE</em>, <em>CHARTREUSE1</em>, <em>CHARTREUSE2</em>, <em>CHARTREUSE3</em>, <em>CHARTREUSE4</em>, <em>CHOCOLATE</em>, <em>CHOCOLATE1</em>, <em>CHOCOLATE2</em>, <em>CHOCOLATE3</em>, <em>CHOCOLATE4</em>, <em>CORAL</em>, <em>CORAL1</em>, <em>CORAL2</em>, <em>CORAL3</em>, <em>CORAL4</em>, <em>CORNFLOWERBLUE</em>, <em>CORNSILK1</em>, <em>CORNSILK2</em>, <em>CORNSILK3</em>, <em>CORNSILK4</em>, <em>CYAN1</em>, <em>CYAN2</em>, <em>CYAN3</em>, <em>CYAN4</em>, <em>DARKGOLDENROD</em>, <em>DARKGOLDENROD1</em>, <em>DARKGOLDENROD2</em>, <em>DARKGOLDENROD3</em>, <em>DARKGOLDENROD4</em>, <em>DARKGREEN</em>, <em>DARKKHAKI</em>, <em>DARKOLIVEGREEN</em>, <em>DARKOLIVEGREEN1</em>, <em>DARKOLIVEGREEN2</em>, <em>DARKOLIVEGREEN3</em>, <em>DARKOLIVEGREEN4</em>, <em>DARKORANGE</em>, <em>DARKORANGE1</em>, <em>DARKORANGE2</em>, <em>DARKORANGE3</em>, <em>DARKORANGE4</em>, <em>DARKORCHID</em>, <em>DARKORCHID1</em>, <em>DARKORCHID2</em>, <em>DARKORCHID3</em>, <em>DARKORCHID4</em>, <em>DARKSALMON</em>, <em>DARKSEAGREEN</em>, <em>DARKSEAGREEN1</em>, <em>DARKSEAGREEN2</em>, <em>DARKSEAGREEN3</em>, <em>DARKSEAGREEN4</em>, <em>DARKSLATEBLUE</em>, <em>DARKSLATEGRAY1</em>, <em>DARKSLATEGRAY2</em>, <em>DARKSLATEGRAY3</em>, <em>DARKSLATEGRAY4</em>, <em>DARKSLATEGRAY</em>, <em>DARKTURQUOISE</em>, <em>DARKVIOLET</em>, <em>DEEPPINK</em>, <em>DEEPPINK2</em>, <em>DEEPPINK3</em>, <em>DEEPPINK4</em>, <em>DEEPSKYBLUE1</em>, <em>DEEPSKYBLUE2</em>, <em>DEEPSKYBLUE3</em>, <em>DEEPSKYBLUE4</em>, <em>DODGERBLUE1</em>, <em>DODGERBLUE2</em>, <em>DODGERBLUE3</em>, <em>DODGERBLUE4</em>, <em>FIREBRICK</em>, <em>FIREBRICK1</em>, <em>FIREBRICK2</em>, <em>FIREBRICK3</em>, <em>FIREBRICK4</em>, <em>FLORALWHITE</em>, <em>FORESTGREEN</em>, <em>GAINSBORO</em>, <em>GHOSTWHITE</em>, <em>GOLD</em>, <em>GOLD1</em>, <em>GOLD2</em>, <em>GOLD3</em>, <em>GOLD4</em>, <em>GOLDENROD</em>, <em>GOLDENROD1</em>, <em>GOLDENROD2</em>, <em>GOLDENROD3</em>, <em>GOLDENROD4</em>, <em>GRAY</em>, <em>GRAY0</em>, <em>GRAY1</em>, <em>GRAY10</em>, <em>GRAY11</em>, <em>GRAY12</em>, <em>GRAY13</em>, <em>GRAY14</em>, <em>GRAY15</em>, <em>GRAY16</em>, <em>GRAY17</em>, <em>GRAY18</em>, <em>GRAY19</em>, <em>GRAY2</em>, <em>GRAY20</em>, <em>GRAY21</em>, <em>GRAY22</em>, <em>GRAY23</em>, <em>GRAY24</em>, <em>GRAY25</em>, <em>GRAY26</em>, <em>GRAY27</em>, <em>GRAY28</em>, <em>GRAY29</em>, <em>GRAY3</em>, <em>GRAY30</em>, <em>GRAY31</em>, <em>GRAY32</em>, <em>GRAY33</em>, <em>GRAY34</em>, <em>GRAY35</em>, <em>GRAY36</em>, <em>GRAY37</em>, <em>GRAY38</em>, <em>GRAY39</em>, <em>GRAY4</em>, <em>GRAY40</em>, <em>GRAY41</em>, <em>GRAY42</em>, <em>GRAY43</em>, <em>GRAY44</em>, <em>GRAY45</em>, <em>GRAY46</em>, <em>GRAY47</em>, <em>GRAY48</em>, <em>GRAY49</em>, <em>GRAY5</em>, <em>GRAY50</em>, <em>GRAY51</em>, <em>GRAY52</em>, <em>GRAY53</em>, <em>GRAY54</em>, <em>GRAY55</em>, <em>GRAY56</em>, <em>GRAY57</em>, <em>GRAY58</em>, <em>GRAY59</em>, <em>GRAY6</em>, <em>GRAY60</em>, <em>GRAY61</em>, <em>GRAY62</em>, <em>GRAY63</em>, <em>GRAY64</em>, <em>GRAY65</em>, <em>GRAY66</em>, <em>GRAY67</em>, <em>GRAY68</em>, <em>GRAY69</em>, <em>GRAY7</em>, <em>GRAY70</em>, <em>GRAY71</em>, <em>GRAY72</em>, <em>GRAY73</em>, <em>GRAY74</em>, <em>GRAY75</em>, <em>GRAY76</em>, <em>GRAY77</em>, <em>GRAY78</em>, <em>GRAY79</em>, <em>GRAY8</em>, <em>GRAY80</em>, <em>GRAY81</em>, <em>GRAY82</em>, <em>GRAY83</em>, <em>GRAY85</em>, <em>GRAY86</em>, <em>GRAY87</em>, <em>GRAY88</em>, <em>GRAY89</em>, <em>GRAY9</em>, <em>GRAY90</em>, <em>GRAY91</em>, <em>GRAY92</em>, <em>GRAY93</em>, <em>GRAY94</em>, <em>GRAY95</em>, <em>GREEN</em>, <em>GREEN1</em>, <em>GREEN2</em>, <em>GREEN3</em>, <em>GREEN4</em>, <em>GREENYELLOW</em>, <em>GRAY97</em>, <em>GRAY98</em>, <em>GRAY99</em>, <em>HONEYDEW</em>, <em>HONEYDEW2</em>, <em>HONEYDEW3</em>, <em>HONEYDEW4</em>, <em>HOTPINK</em>, <em>HOTPINK1</em>, <em>HOTPINK2</em>, <em>HOTPINK3</em>, <em>HOTPINK4</em>, <em>INDIANRED</em>, <em>INDIANRED1</em>, <em>INDIANRED2</em>, <em>INDIANRED3</em>, <em>INDIANRED4</em>, <em>IVORY</em>, <em>IVORY2</em>, <em>IVORY3</em>, <em>IVORY4</em>, <em>KHAKI</em>, <em>KHAKI1</em>, <em>KHAKI2</em>, <em>KHAKI3</em>, <em>KHAKI4</em>, <em>LAVENDER</em>, <em>LAVENDERBLUSH1</em>, <em>LAVENDERBLUSH2</em>, <em>LAVENDERBLUSH3</em>, <em>LAVENDERBLUSH4</em>, <em>LAWNGREEN</em>, <em>LEMONCHIFFON1</em>, <em>LEMONCHIFFON2</em>, <em>LEMONCHIFFON3</em>, <em>LEMONCHIFFON4</em>, <em>LIGHTBLUE</em>, <em>LIGHTBLUE1</em>, <em>LIGHTBLUE2</em>, <em>LIGHTBLUE3</em>, <em>LIGHTBLUE4</em>, <em>LIGHTCORAL</em>, <em>LIGHTCYAN1</em>, <em>LIGHTCYAN2</em>, <em>LIGHTCYAN3</em>, <em>LIGHTCYAN4</em>, <em>LIGHTGOLDENROD</em>, <em>LIGHTGOLDENROD1</em>, <em>LIGHTGOLDENROD2</em>, <em>LIGHTGOLDENROD3</em>, <em>LIGHTGOLDENROD4</em>, <em>LIGHTGOLDENRODYELLOW</em>, <em>LIGHTGRAY</em>, <em>LIGHTPINK</em>, <em>LIGHTPINK1</em>, <em>LIGHTPINK2</em>, <em>LIGHTPINK3</em>, <em>LIGHTPINK4</em>, <em>LIGHTSALMON1</em>, <em>LIGHTSALMON2</em>, <em>LIGHTSALMON3</em>, <em>LIGHTSALMON4</em>, <em>LIGHTSEAGREEN</em>, <em>LIGHTSKYBLUE</em>, <em>LIGHTSKYBLUE1</em>, <em>LIGHTSKYBLUE2</em>, <em>LIGHTSKYBLUE3</em>, <em>LIGHTSKYBLUE4</em>, <em>LIGHTSLATEBLUE</em>, <em>LIGHTSLATEGRAY</em>, <em>LIGHTSTEELBLUE</em>, <em>LIGHTSTEELBLUE1</em>, <em>LIGHTSTEELBLUE2</em>, <em>LIGHTSTEELBLUE3</em>, <em>LIGHTSTEELBLUE4</em>, <em>LIGHTYELLOW</em>, <em>LIGHTYELLOW2</em>, <em>LIGHTYELLOW3</em>, <em>LIGHTYELLOW4</em>, <em>LIMEGREEN</em>, <em>LINEN</em>, <em>MAGENTA1</em>, <em>MAGENTA2</em>, <em>MAGENTA3</em>, <em>MAGENTA4</em>, <em>MAROON</em>, <em>MAROON1</em>, <em>MAROON2</em>, <em>MAROON3</em>, <em>MAROON4</em>, <em>MEDIUMAQUAMARINE</em>, <em>MEDIUMORCHID</em>, <em>MEDIUMORCHID1</em>, <em>MEDIUMORCHID2</em>, <em>MEDIUMORCHID3</em>, <em>MEDIUMORCHID4</em>, <em>MEDIUMPURPLE</em>, <em>MEDIUMPURPLE1</em>, <em>MEDIUMPURPLE2</em>, <em>MEDIUMPURPLE3</em>, <em>MEDIUMPURPLE4</em>, <em>MEDIUMSEAGREEN</em>, <em>MEDIUMSLATEBLUE</em>, <em>MEDIUMSPRINGGREEN</em>, <em>MEDIUMTURQUOISE</em>, <em>MEDIUMVIOLETRED</em>, <em>MIDNIGHTBLUE</em>, <em>MINTCREAM</em>, <em>MISTYROSE</em>, <em>MISTYROSE2</em>, <em>MISTYROSE3</em>, <em>MISTYROSE4</em>, <em>MOCCASIN</em>, <em>NAVAJOWHITE1</em>, <em>NAVAJOWHITE2</em>, <em>NAVAJOWHITE3</em>, <em>NAVAJOWHITE4</em>, <em>NAVYBLUE</em>, <em>OLDLACE</em>, <em>OLIVEDRAB</em>, <em>OLIVEDRAB1</em>, <em>OLIVEDRAB2</em>, <em>OLIVEDRAB3</em>, <em>OLIVEDRAB4</em>, <em>ORANGE</em>, <em>ORANGE1</em>, <em>ORANGE2</em>, <em>ORANGE3</em>, <em>ORANGE4</em>, <em>ORANGERED</em>, <em>ORANGERED1</em>, <em>ORANGERED2</em>, <em>ORANGERED3</em>, <em>ORANGERED4</em>, <em>ORCHID</em>, <em>ORCHID1</em>, <em>ORCHID2</em>, <em>ORCHID3</em>, <em>ORCHID4</em>, <em>PALEGOLDENROD</em>, <em>PALEGREEN</em>, <em>PALEGREEN1</em>, <em>PALEGREEN2</em>, <em>PALEGREEN3</em>, <em>PALEGREEN4</em>, <em>PALETURQUOISE</em>, <em>PALETURQUOISE1</em>, <em>PALETURQUOISE2</em>, <em>PALETURQUOISE3</em>, <em>PALETURQUOISE4</em>, <em>PALEVIOLETRED</em>, <em>PALEVIOLETRED1</em>, <em>PALEVIOLETRED2</em>, <em>PALEVIOLETRED3</em>, <em>PALEVIOLETRED4</em>, <em>PAPAYAWHIP</em>, <em>PEACHPUFF</em>, <em>PEACHPUFF2</em>, <em>PEACHPUFF3</em>, <em>PEACHPUFF4</em>, <em>PERU</em>, <em>PINK</em>, <em>PINK1</em>, <em>PINK2</em>, <em>PINK3</em>, <em>PINK4</em>, <em>PLUM</em>, <em>PLUM1</em>, <em>PLUM2</em>, <em>PLUM3</em>, <em>PLUM4</em>, <em>POWDERBLUE</em>, <em>PURPLE</em>, <em>PURPLE1</em>, <em>PURPLE2</em>, <em>PURPLE3</em>, <em>PURPLE4</em>, <em>RED</em>, <em>RED1</em>, <em>RED2</em>, <em>RED3</em>, <em>RED4</em>, <em>ROSYBROWN</em>, <em>ROSYBROWN1</em>, <em>ROSYBROWN2</em>, <em>ROSYBROWN3</em>, <em>ROSYBROWN4</em>, <em>ROYALBLUE</em>, <em>ROYALBLUE1</em>, <em>ROYALBLUE2</em>, <em>ROYALBLUE3</em>, <em>ROYALBLUE4</em>, <em>SADDLEBROWN</em>, <em>SALMON</em>, <em>SALMON1</em>, <em>SALMON2</em>, <em>SALMON3</em>, <em>SALMON4</em>, <em>SANDYBROWN</em>, <em>SEAGREEN</em>, <em>SEAGREEN1</em>, <em>SEAGREEN2</em>, <em>SEAGREEN3</em>, <em>SEAGREEN4</em>, <em>SEASHELL</em>, <em>SEASHELL2</em>, <em>SEASHELL3</em>, <em>SEASHELL4</em>, <em>BEET</em>, <em>TEAL</em>, <em>SIENNA</em>, <em>SIENNA1</em>, <em>SIENNA2</em>, <em>SIENNA3</em>, <em>SIENNA4</em>, <em>SKYBLUE</em>, <em>SKYBLUE1</em>, <em>SKYBLUE2</em>, <em>SKYBLUE3</em>, <em>SKYBLUE4</em>, <em>SLATEBLUE</em>, <em>SLATEBLUE1</em>, <em>SLATEBLUE2</em>, <em>SLATEBLUE3</em>, <em>SLATEBLUE4</em>, <em>SLATEGRAY1</em>, <em>SLATEGRAY2</em>, <em>SLATEGRAY3</em>, <em>SLATEGRAY4</em>, <em>SLATEGRAY</em>, <em>SNOW</em>, <em>SNOW2</em>, <em>SNOW3</em>, <em>SNOW4</em>, <em>SPRINGGREEN</em>, <em>SPRINGGREEN2</em>, <em>SPRINGGREEN3</em>, <em>SPRINGGREEN4</em>, <em>STEELBLUE</em>, <em>STEELBLUE1</em>, <em>STEELBLUE2</em>, <em>STEELBLUE3</em>, <em>STEELBLUE4</em>, <em>TAN</em>, <em>TAN1</em>, <em>TAN2</em>, <em>TAN3</em>, <em>TAN4</em>, <em>THISTLE</em>, <em>THISTLE1</em>, <em>THISTLE2</em>, <em>THISTLE3</em>, <em>THISTLE4</em>, <em>TOMATO</em>, <em>TOMATO1</em>, <em>TOMATO2</em>, <em>TOMATO3</em>, <em>TOMATO4</em>, <em>TURQUOISE</em>, <em>TURQUOISE1</em>, <em>TURQUOISE2</em>, <em>TURQUOISE3</em>, <em>TURQUOISE4</em>, <em>VIOLET</em>, <em>VIOLETRED</em>, <em>VIOLETRED1</em>, <em>VIOLETRED2</em>, <em>VIOLETRED3</em>, <em>VIOLETRED4</em>, <em>WHEAT</em>, <em>WHEAT1</em>, <em>WHEAT2</em>, <em>WHEAT3</em>, <em>WHEAT4</em>, <em>WHITE</em>, <em>WHITESMOKE</em>, <em>YELLOW</em>, <em>YELLOW1</em>, <em>YELLOW2</em>, <em>YELLOW3</em>, <em>YELLOW4</em> and <em>YELLOWGREEN</em>. </p><div class="fragment"><div class="line">vaspects    [name] [-setcolor ColorName] [-setcolor R G B] [-unsetcolor]</div><div class="line">vsetcolor   [name] ColorName</div><div class="line">vunsetcolor [name]</div></div><!-- fragment --><p><b>Transparency. The <em>Transp</em> may be between 0.0 (opaque) and 1.0 (fully transparent). **Warning</b>: at 1.0 the shape becomes invisible. </p><div class="fragment"><div class="line">vaspects           [name] [-settransparency Transp] [-unsettransparency]</div><div class="line">vsettransparency   [name] Transp</div><div class="line">vunsettransparency [name]</div></div><!-- fragment --><p><b>Material</b>. The <em>MatName</em> can be <em>BRASS</em>, <em>BRONZE</em>, <em>COPPER</em>, <em>GOLD</em>, <em>PEWTER</em>, <em>PLASTER</em>, <em>PLASTIC</em>, <em>SILVER</em>, <em>STEEL</em>, <em>STONE</em>, <em>SHINY_PLASTIC</em>, <em>SATIN</em>, <em>METALIZED</em>, <em>NEON_GNC</em>, <em>CHROME</em>, <em>ALUMINIUM</em>, <em>OBSIDIAN</em>, <em>NEON_PHC</em>, <em>JADE</em>, <em>WATER</em>, <em>GLASS</em>, <em>DIAMOND</em> or <em>CHARCOAL</em>. </p><div class="fragment"><div class="line">vaspects       [name] [-setmaterial MatName] [-unsetmaterial]</div><div class="line">vsetmaterial   [name] MatName</div><div class="line">vunsetmaterial [name]</div></div><!-- fragment --><p><b>Line width</b>. Specifies width of the edges. The <em>LineWidth</em> may be between 0.0 and 10.0. </p><div class="fragment"><div class="line">vaspects    [name] [-setwidth LineWidth] [-unsetwidth]</div><div class="line">vsetwidth   [name] LineWidth</div><div class="line">vunsetwidth [name]</div></div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">box b 10 10 10</div><div class="line">vdisplay b</div><div class="line">vfit</div><div class="line"></div><div class="line">vsetdispmode b 1</div><div class="line">vaspects -setcolor red -settransparency 0.2</div><div class="line">vrotate 10 10 10</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_11"></a>
vsetshading</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsetshading shapename [coefficient]</div></div><!-- fragment --><p>Sets deflection coefficient that defines the quality of the shape’s representation in the shading mode. Default coefficient is 0.0008.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">psphere s 20 </div><div class="line">vdisplay s </div><div class="line">vfit </div><div class="line">vsetdispmode 1 </div><div class="line">vsetshading s 0.005</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_12"></a>
vunsetshading</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vunsetshading [shapename]</div></div><!-- fragment --><p>Sets default deflection coefficient (0.0008) that defines the quality of the shape’s representation in the shading mode.</p>
<h3><a class="anchor" id="occt_draw_4_3_13"></a>
vsetam</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsetam [shapename] mode</div></div><!-- fragment --><p>Activates selection mode for all selected or named shapes:</p><ul>
<li><em>0</em> for <em>shape</em> itself,</li>
<li><em>1</em> (<em>vertices</em>),</li>
<li><em>2</em> (<em>edges</em>),</li>
<li><em>3</em> (<em>wires</em>),</li>
<li><em>4</em> (<em>faces</em>),</li>
<li><em>5</em> (<em>shells</em>),</li>
<li><em>6</em> (<em>solids</em>),</li>
<li><em>7</em> (<em>compounds</em>).</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 10 10 10 </div><div class="line">vdisplay b </div><div class="line">vfit </div><div class="line">vsetam b 2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_14"></a>
vunsetam</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vunsetam</div></div><!-- fragment --><p>Deactivates all selection modes for all shapes.</p>
<h3><a class="anchor" id="occt_draw_4_3_15"></a>
vdump</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdump &lt;filename&gt;.{png|bmp|jpg|gif} [-width Width -height Height]</div><div class="line">      [-buffer rgb|rgba|depth=rgb]</div><div class="line">      [-stereo mono|left|right|blend|sideBySide|overUnder=mono]</div></div><!-- fragment --><p>Extracts the contents of the viewer window to a image file.</p>
<h3><a class="anchor" id="occt_draw_4_3_16"></a>
vdir</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdir</div></div><!-- fragment --><p>Displays the list of displayed objects.</p>
<h3><a class="anchor" id="occt_draw_4_3_17"></a>
vsub</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsub 0/1(on/off)[shapename]</div></div><!-- fragment --><p>Hilights/unhilights named or selected objects which are displayed at neutral state with subintensity color.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">box b 10 10 10 </div><div class="line">psphere s 20 </div><div class="line">vdisplay b s </div><div class="line">vfit </div><div class="line">vsetdispmode 1 </div><div class="line">vsub b 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_20"></a>
vsensdis</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsensdis</div></div><!-- fragment --><p>Displays active entities (sensitive entities of one of the standard types corresponding to active selection modes).</p>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_standard.html">Standard</a> entity types are those defined in Select3D package:</p><ul>
<li>sensitive box</li>
<li>sensitive face</li>
<li>sensitive curve</li>
<li>sensitive segment</li>
<li>sensitive circle</li>
<li>sensitive point</li>
<li>sensitive triangulation</li>
<li>sensitive triangle Custom (application-defined) sensitive entity types are not processed by this command.</li>
</ul>
<h3><a class="anchor" id="occt_draw_4_3_21"></a>
vsensera</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsensera</div></div><!-- fragment --><p>Erases active entities.</p>
<h3><a class="anchor" id="occt_draw_4_3_23"></a>
vr</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vr filename</div></div><!-- fragment --><p>Reads shape from BREP-format file and displays it in the viewer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vr myshape.brep</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_3_24"></a>
vstate</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vstate [-entities] [-hasSelected] [name1] ... [nameN]</div></div><!-- fragment --><p>Reports show/hidden state for selected or named objects:</p><ul>
<li><em>entities</em> &ndash; prints low-level information about detected entities;</li>
<li><em>hasSelected</em> &ndash; prints 1 if the context has a selected shape and 0 otherwise.</li>
</ul>
<h3><a class="anchor" id="occt_draw_4_3_25"></a>
vraytrace</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vraytrace [0/1]</div></div><!-- fragment --><p>Turns on/off ray tracing renderer.</p>
<h3><a class="anchor" id="occt_draw_4_3_26"></a>
vrenderparams</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vrenderparams [-rayTrace|-raster] [-rayDepth 0..10] [-shadows {on|off}]</div><div class="line">              [-reflections {on|off}] [-fsaa {on|off}] [-gleam {on|off}]</div><div class="line">              [-gi {on|off}] [-brng {on|off}] [-env {on|off}]</div><div class="line">              [-shadin {color|flat|gouraud|phong}]</div></div><!-- fragment --><p>Manages rendering parameters:</p><ul>
<li>rayTrace &ndash; Enables GPU ray-tracing</li>
<li>raster &ndash; Disables GPU ray-tracing</li>
<li>rayDepth &ndash; Defines maximum ray-tracing depth</li>
<li>shadows &ndash; Enables/disables shadows rendering</li>
<li>reflections &ndash; Enables/disables specular reflections</li>
<li>fsaa &ndash; Enables/disables adaptive anti-aliasing</li>
<li>gleam &ndash; Enables/disables transparency shadow effects</li>
<li>gi &ndash; Enables/disables global illumination effects</li>
<li>brng &ndash; Enables/disables blocked RNG (fast coherent PT)</li>
<li>env &ndash; Enables/disables environment map background</li>
<li>shadingModel &ndash; Controls shading model from enumeration color, flat, gouraud, phong</li>
</ul>
<p>Unlike <em>vcaps</em>, these parameters dramatically change visual properties. The command is intended to control presentation quality depending on hardware capabilities and performance.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">box b 10 10 10</div><div class="line">vdisplay b</div><div class="line">vfit</div><div class="line">vraytrace 1</div><div class="line">vrenderparams -shadows 1 -reflections 1 -fsaa 1</div></div><!-- fragment --> <h3><a class="anchor" id="occt_draw_4_3_27"></a>
vshaderprog</h3>
<p>Syntax: </p><div class="fragment"><div class="line">   &#39;vshaderprog [name] pathToVertexShader pathToFragmentShader&#39;</div><div class="line">or &#39;vshaderprog [name] off&#39;   to disable GLSL program</div><div class="line">or &#39;vshaderprog [name] phong&#39; to enable per-pixel lighting calculations</div></div><!-- fragment --><p>Enables rendering using a shader program.</p>
<h3><a class="anchor" id="occt_draw_4_3_28"></a>
vsetcolorbg</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsetcolorbg r g b</div></div><!-- fragment --><p>Sets background color.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vsetcolorbg 200 0 200</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_4_4"></a>
AIS viewer -- object commands</h2>
<h3><a class="anchor" id="occt_draw_4_4_1"></a>
vtrihedron</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtrihedron name [-dispMode {wf|sh|wireframe|shading}]</div><div class="line">                [-origin x y z ]</div><div class="line">                [-zaxis u v w -xaxis u v w ]</div><div class="line">                [-drawaxes {X|Y|Z|XY|YZ|XZ|XYZ}]</div><div class="line">                [-hidelabels {on|off}]&quot;</div><div class="line">                [-label {XAxis|YAxis|ZAxis} value]&quot;</div><div class="line">                [-attribute {XAxisLength|YAxisLength|ZAxisLength</div><div class="line">                                        |TubeRadiusPercent|ConeRadiusPercent&quot;</div><div class="line">                                        |ConeLengthPercent|OriginRadiusPercent&quot;</div><div class="line">                                        |ShadingNumberOfFacettes} value]&quot;</div><div class="line">                [-color {Origin|XAxis|YAxis|ZAxis|XOYAxis|YOZAxis&quot;</div><div class="line">                                        |XOZAxis|Whole} {r g b | colorName}]&quot;</div><div class="line">                [-textcolor {r g b | colorName}]&quot;</div><div class="line">                [-arrowscolor {r g b | colorName}]&quot;</div><div class="line">                [-priority {Origin|XAxis|YAxis|ZAxis|XArrow&quot;</div><div class="line">                                        |YArrow|ZArrow|XOYAxis|YOZAxis&quot;</div><div class="line">                                        |XOZAxis|Whole} value]</div></div><!-- fragment --><p>Creates a new <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s___trihedron.html">AIS_Trihedron</a></em> object or changes existing trihedron. If no argument is set, the default trihedron (0XYZ) is created.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vtrihedron tr1</div><div class="line"></div><div class="line">vtrihedron t2 -dispmode shading -origin -200 -200 -300</div><div class="line">vtrihedron t2 -color XAxis Quantity_NOC_RED</div><div class="line">vtrihedron t2 -color YAxis Quantity_NOC_GREEN</div><div class="line">vtrihedron t2 -color ZAxis|Origin Quantity_NOC_BLUE1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_2"></a>
vplanetri</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vplanetri name</div></div><!-- fragment --><p>Creates a plane from a trihedron selection. If no arguments are set, the default plane is created.</p>
<h3><a class="anchor" id="occt_draw_4_4_3"></a>
vsize</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsize [name] [size]</div></div><!-- fragment --><p>Changes the size of a named or selected trihedron. If the name is not defined: it affects the selected trihedrons otherwise nothing is done. If the value is not defined, it is set to 100 by default.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vtrihedron tr1 </div><div class="line">vtrihedron tr2 0 0 0 1 0 0 1 0 0 </div><div class="line">vsize tr2 400</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_4"></a>
vaxis</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vaxis name [Xa Ya Za Xb Yb Zb]</div></div><!-- fragment --><p>Creates an axis. If the values are not defined, an axis is created by interactive selection of two vertices or one edge</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vtrihedron tr </div><div class="line">vaxis axe1 0 0 0 1 0 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_5"></a>
vaxispara</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vaxispara name</div></div><!-- fragment --><p>Creates an axis by interactive selection of an edge and a vertex.</p>
<h3><a class="anchor" id="occt_draw_4_4_6"></a>
vaxisortho</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vaxisotrho name</div></div><!-- fragment --><p>Creates an axis by interactive selection of an edge and a vertex. The axis will be orthogonal to the selected edge.</p>
<h3><a class="anchor" id="occt_draw_4_4_7"></a>
vpoint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vpoint name [Xa Ya Za]</div></div><!-- fragment --><p>Creates a point from coordinates. If the values are not defined, a point is created by interactive selection of a vertice or an edge (in the center of the edge).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vpoint p 0 0 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_8"></a>
vplane</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vplane name [AxisName] [PointName] </div><div class="line">vplane name [PointName] [PointName] [PointName] </div><div class="line">vplane name [PlaneName] [PointName]</div></div><!-- fragment --><p>Creates a plane from named or interactively selected entities. TypeOfSensitivity:</p><ul>
<li>0 &ndash; Interior</li>
<li>1 &ndash; Boundary</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vpoint p1 0 50 0 </div><div class="line">vaxis axe1 0 0 0 0 0 1 </div><div class="line">vtrihedron tr </div><div class="line">vplane plane1 axe1 p1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_9"></a>
vplanepara</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vplanepara name</div></div><!-- fragment --><p>Creates a plane from interactively selected vertex and face.</p>
<h3><a class="anchor" id="occt_draw_4_4_10"></a>
vplaneortho</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vplaneortho name</div></div><!-- fragment --><p>Creates a plane from interactive selected face and coplanar edge.</p>
<h3><a class="anchor" id="occt_draw_4_4_11"></a>
vline</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vline name [PointName] [PointName] </div><div class="line">vline name [Xa Ya Za Xb Yb Zb]</div></div><!-- fragment --><p>Creates a line from coordinates, named or interactively selected vertices.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vtrihedron tr </div><div class="line">vpoint p1 0 50 0 </div><div class="line">vpoint p2 50 0 0 </div><div class="line">vline line1 p1 p2 </div><div class="line">vline line2 0 0 0 50 0 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_12"></a>
vcircle</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vcircle name [PointName PointName PointName IsFilled] </div><div class="line">vcircle name [PlaneName PointName Radius IsFilled] </div></div><!-- fragment --><p>Creates a circle from named or interactively selected entities. Parameter IsFilled is defined as 0 or 1.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vtrihedron tr </div><div class="line">vpoint p1 0 50 0 </div><div class="line">vpoint p2 50 0 0 </div><div class="line">vpoint p3 0 0 0 </div><div class="line">vcircle circle1 p1 p2 p3 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_13"></a>
vtri2d</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtri2d name</div></div><!-- fragment --><p>Creates a plane with a 2D trihedron from an interactively selected face.</p>
<h3><a class="anchor" id="occt_draw_4_4_14"></a>
vselmode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vselmode [object] mode_number is_turned_on=(1|0)</div></div><!-- fragment --><p>Sets the selection mode for an object. If the object value is not defined, the selection mode is set for all displayed objects. <em>Mode_number</em> is a non-negative integer encoding different interactive object classes. For shapes the following <em>mode_number</em> values are allowed:</p><ul>
<li>0 &ndash; shape</li>
<li>1 &ndash; vertex</li>
<li>2 &ndash; edge</li>
<li>3 &ndash; wire</li>
<li>4 &ndash; face</li>
<li>5 &ndash; shell</li>
<li>6 &ndash; solid</li>
<li>7 &ndash; compsolid</li>
<li>8 &ndash; compound <em>is_turned_on</em> is:</li>
<li>1 if mode is to be switched on</li>
<li>0 if mode is to be switched off</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vpoint p1 0 0 0 </div><div class="line">vpoint p2 50 0 0 </div><div class="line">vpoint p3 25 40 0 </div><div class="line">vtriangle triangle1 p1 p2 p3 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_15"></a>
vconnect</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vconnect vconnect name Xo Yo Zo object1 object2 ... [color=NAME]</div></div><!-- fragment --><p>Creates <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s___connected_interactive.html">AIS_ConnectedInteractive</a></em> object from the input object and location and displays it.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vpoint p1 0 0 0 </div><div class="line">vpoint p2 50 0 0 </div><div class="line">vsegment segment p1 p2 </div><div class="line">restore CrankArm.brep obj </div><div class="line">vdisplay obj </div><div class="line">vconnect new obj 100100100 1 0 0 0 0 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_16"></a>
vtriangle</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtriangle name PointName PointName PointName</div></div><!-- fragment --><p>Creates and displays a filled triangle from named points.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">vpoint p1 0 0 0 </div><div class="line">vpoint p2 50 0 0 </div><div class="line">vpoint p3 25 40 0 </div><div class="line">vtriangle triangle1 p1 p2 p3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_17"></a>
vsegment</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vsegment name PointName PointName </div></div><!-- fragment --><p>Creates and displays a segment from named points.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Vinit </div><div class="line">vpoint p1 0 0 0 </div><div class="line">vpoint p2 50 0 0 </div><div class="line">vsegment segment p1 p2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_18"></a>
vpointcloud</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vpointcloud name shape [-randColor] [-normals] [-noNormals]</div></div><!-- fragment --><p>Creates an interactive object for an arbitrary set of points from the triangulated shape. Additional options:</p><ul>
<li><em>randColor</em> &ndash; generates a random color per point;</li>
<li><em>normals</em> &ndash; generates a normal per point (default);</li>
<li><em>noNormals</em> &ndash; does not generate a normal per point.</li>
</ul>
<div class="fragment"><div class="line">vpointcloud name x y z r npts {surface|volume} [-randColor] [-normals] [-noNormals]</div></div><!-- fragment --><p> Creates an arbitrary set of points (npts) randomly distributed on a spheric surface or within a spheric volume (x y z r). Additional options:</p><ul>
<li><em>randColor</em> &ndash; generates a random color per point;</li>
<li><em>normals</em> &ndash; generates a normal per point (default);</li>
<li><em>noNormals</em> &ndash; does not generate a normal per point.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vpointcloud pc 0 0 0 100 100000 surface -randColor</div><div class="line">vfit</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_19"></a>
vclipplane</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vclipplane maxplanes &lt;view_name&gt; -- gets plane limit for the view.</div><div class="line">vclipplane create &lt;plane_name&gt; -- creates a new plane.</div><div class="line">vclipplane delete &lt;plane_name&gt; -- deletes a plane.</div><div class="line">vclipplane clone &lt;source_plane&gt; &lt;plane_name&gt; -- clones the plane definition.</div><div class="line">vclipplane set/unset &lt;plane_name&gt; object &lt;object list&gt; -- sets/unsets the plane for an IO.</div><div class="line">vclipplane set/unset &lt;plane_name&gt; view &lt;view list&gt; -- sets/unsets plane for a view.</div><div class="line">vclipplane change &lt;plane_name&gt; on/off -- turns clipping on/off.</div><div class="line">vclipplane change &lt;plane_name&gt; equation &lt;a&gt; &lt;b&gt; &lt;c&gt; &lt;d&gt; -- changes plane equation.</div><div class="line">vclipplane change &lt;plane_name&gt; capping on/off -- turns capping on/off.</div><div class="line">vclipplane change &lt;plane_name&gt; capping color &lt;r&gt; &lt;g&gt; &lt;b&gt; -- sets color.</div><div class="line">vclipplane change &lt;plane name&gt; capping texname &lt;texture&gt; -- sets texture.</div><div class="line">vclipplane change &lt;plane_name&gt; capping texscale &lt;sx&gt; &lt;sy&gt; -- sets texture scale.</div><div class="line">vclipplane change &lt;plane_name&gt; capping texorigin &lt;tx&gt; &lt;ty&gt; -- sets texture origin.</div><div class="line">vclipplane change &lt;plane_name&gt; capping texrotate &lt;angle&gt; -- sets texture rotation.</div><div class="line">vclipplane change &lt;plane_name&gt; capping hatch on/off/&lt;id&gt; -- sets hatching mask.</div></div><!-- fragment --><p>Manages clipping planes</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vclipplane create pln1</div><div class="line">vclipplane change pln1 equation 1 0 0 -0.1</div><div class="line">vclipplane set pln1 view Driver1/Viewer1/View1</div><div class="line">box b 100 100 100</div><div class="line">vdisplay b</div><div class="line">vsetdispmode 1</div><div class="line">vfit</div><div class="line">vrotate 10 10 10</div><div class="line">vselect 100 100</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_20"></a>
vdimension</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdimension name {-angle|-length|-radius|-diameter} -shapes shape1 [shape2 [shape3]]</div><div class="line">                [-text 3d|2d wf|sh|wireframe|shading IntegerSize]</div><div class="line">                [-label left|right|hcenter|hfit top|bottom|vcenter|vfit]</div><div class="line">                [-arrow external|internal|fit] [{-arrowlength|-arlen} RealArrowLength]</div><div class="line">                [{-arrowangle|-arangle} ArrowAngle(degrees)] [-plane xoy|yoz|zox]</div><div class="line">                [-flyout FloatValue -extension FloatValue]</div><div class="line">                [-autovalue] [-value CustomRealValue] [-textvalue CustomTextValue]</div><div class="line">                [-dispunits DisplayUnitsString]</div><div class="line">                [-modelunits ModelUnitsString] [-showunits | -hideunits]</div></div><!-- fragment --><p>Builds angle, length, radius or diameter dimension interactive object <b>name</b>.</p>
<p><b>Attension:</b> length dimension can't be built without working plane.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vpoint p1 0 0 0</div><div class="line">vpoint p2 50 50 0</div><div class="line">vdimension dim1 -length -plane xoy -shapes p1 p2</div><div class="line"></div><div class="line">vpoint p3 100 0 0</div><div class="line">vdimension dim2 -angle -shapes p1 p2 p3</div><div class="line"></div><div class="line">vcircle circle p1 p2 p3 0</div><div class="line">vdimension dim3 -radius -shapes circle</div><div class="line">vfit</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_21"></a>
vdimparam</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vdimparam name [-text 3d|2d wf|sh|wireframe|shading IntegerSize]</div><div class="line">               [-label left|right|hcenter|hfit top|bottom|vcenter|vfit]</div><div class="line">               [-arrow external|internal|fit]</div><div class="line">               [{-arrowlength|-arlen} RealArrowLength]</div><div class="line">               [{-arrowangle|-arangle} ArrowAngle(degrees)]</div><div class="line">               [-plane xoy|yoz|zox]</div><div class="line">               [-flyout FloatValue -extension FloatValue]</div><div class="line">               [-autovalue]</div><div class="line">               [-value CustomRealValue]</div><div class="line">               [-textvalue CustomTextValue]</div><div class="line">               [-dispunits DisplayUnitsString]</div><div class="line">               [-modelunits ModelUnitsString]</div><div class="line">               [-showunits | -hideunits]</div></div><!-- fragment --><p>Sets parameters for angle, length, radius and diameter dimension <b>name</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vpoint p1 0 0 0</div><div class="line">vpoint p2 50 50 0</div><div class="line">vdimension dim1 -length -plane xoy -shapes p1 p2</div><div class="line">vdimparam dim1 -flyout -15 -arrowlength 4 -showunits -value 10</div><div class="line">vfit</div><div class="line">vdimparam dim1 -textvalue &quot;w_1&quot;</div><div class="line">vdimparam dim1 -autovalue</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_22"></a>
vangleparam</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vangleparam name [-type interior|exterior]</div><div class="line">                 [-showarrow first|second|both|none]</div></div><!-- fragment --><p>Sets parameters for angle dimension <b>name</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vpoint p1 0 0 0</div><div class="line">vpoint p2 10 0 0</div><div class="line">vpoint p3 10 5 0</div><div class="line">vdimension dim1 -angle -plane xoy -shapes p1 p2 p3</div><div class="line">vfit</div><div class="line">vangleparam dim1 -type exterior -showarrow first</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_23"></a>
vlengthparam</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vlengthparam name [-type interior|exterior]</div><div class="line">                  [-showarrow first|second|both|none]</div></div><!-- fragment --><p>Sets parameters for length dimension <b>name</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vpoint p1 20 20 0</div><div class="line">vpoint p2 80 80 0</div><div class="line">vdimension dim1 -length -plane xoy -shapes p1 p2</div><div class="line">vtop</div><div class="line">vfit</div><div class="line">vzoom 0.5</div><div class="line">vlengthparam dim1 -direction ox</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_4_24"></a>
vmovedim</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vmovedim [name] [x y z]</div></div><!-- fragment --><p>Moves picked or named (if <b>name</b> parameter is defined) dimension to picked mouse position or input point with coordinates <b>x</b>,<b>y</b>,<b>z</b>. Text label of dimension <b>name</b> is moved to position, another parts of dimension are adjusted.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit</div><div class="line">vpoint p1 0 0 0</div><div class="line">vpoint p2 50 50 0</div><div class="line">vdimension dim1 -length -plane xoy -shapes p1 p2</div><div class="line">vmovedim dim1 -10 30 0</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_4_5"></a>
AIS viewer -- Mesh Visualization Service</h2>
<p><b>MeshVS</b> (Mesh Visualization Service) component provides flexible means of displaying meshes with associated pre- and post- processor data.</p>
<h3><a class="anchor" id="occt_draw_4_5_1"></a>
meshfromstl</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshfromstl meshname file</div></div><!-- fragment --><p>Creates a <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_mesh_v_s___mesh.html">MeshVS_Mesh</a></em> object based on STL file data. The object will be displayed immediately.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">meshfromstl mesh myfile.stl</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_2"></a>
meshdispmode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshdispmode meshname displaymode</div></div><!-- fragment --><p>Changes the display mode of object <b>meshname</b>. The <b>displaymode</b> is integer, which can be:</p><ul>
<li><em>1</em> for <em>wireframe</em>,</li>
<li><em>2</em> for <em>shading</em> mode, or</li>
<li><em>3</em> for <em>shrink</em> mode.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshdispmode mesh 2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_3"></a>
meshselmode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshselmode meshname selectionmode</div></div><!-- fragment --><p>Changes the selection mode of object <b>meshname</b>. The <em>selectionmode</em> is integer OR-combination of mode flags. The basic flags are the following:</p><ul>
<li><em>1</em> &ndash; node selection;</li>
<li><em>2</em> &ndash; 0D elements (not supported in STL);</li>
<li><em>4</em> &ndash; links (not supported in STL);</li>
<li><em>8</em> &ndash; faces.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshselmode mesh 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_4"></a>
meshshadcolor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshshadcolor meshname red green blue</div></div><!-- fragment --><p>Changes the face interior color of object <b>meshname</b>. The <em>red</em>, <em>green</em> and <em>blue</em> are real values between <em>0</em> and <em>1</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshshadcolormode mesh 0.5 0.5 0.5</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_5"></a>
meshlinkcolor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshlinkcolor meshname red green blue</div></div><!-- fragment --><p>Changes the color of face borders for object <b>meshname</b>. The <em>red</em>, <em>green</em> and <em>blue</em> are real values between <em>0</em> and <em>1</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshlinkcolormode mesh 0.5 0.5 0.5</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_6"></a>
meshmat</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshmat meshname material</div></div><!-- fragment --><p>Changes the material of object <b>meshname</b>.</p>
<p><em>material</em> is represented with an integer value as follows (equivalent to enumeration <em>Graphic3d_NameOfMaterial</em>):</p><ul>
<li><em>0 &ndash; BRASS,</em></li>
<li><em>1 &ndash; BRONZE,</em></li>
<li><em>2 &ndash; COPPER,</em></li>
<li><em>3 &ndash; GOLD,</em></li>
<li><em>4 &ndash; PEWTER,</em></li>
<li><em>5 &ndash; PLASTER,</em></li>
<li><em>6 &ndash; PLASTIC,</em></li>
<li><em>7 &ndash; SILVER,</em></li>
<li><em>8 &ndash; STEEL,</em></li>
<li><em>9 &ndash; STONE,</em></li>
<li><em>10 &ndash; SHINY_PLASTIC,</em></li>
<li><em>11 &ndash; SATIN,</em></li>
<li><em>12 &ndash; METALIZED,</em></li>
<li><em>13 &ndash; NEON_GNC,</em></li>
<li><em>14 &ndash; CHROME,</em></li>
<li><em>15 &ndash; ALUMINIUM,</em></li>
<li><em>16 &ndash; OBSIDIAN,</em></li>
<li><em>17 &ndash; NEON_PHC,</em></li>
<li><em>18 &ndash; JADE,</em></li>
<li><em>19 &ndash; DEFAULT,</em></li>
<li><em>20 &ndash; UserDefined</em></li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshmat mesh JADE </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_7"></a>
meshshrcoef</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshshrcoef meshname shrinkcoefficient</div></div><!-- fragment --><p>Changes the value of shrink coefficient used in the shrink mode. In the shrink mode the face is shown as a congruent part of a usual face, so that <em>shrinkcoefficient</em> controls the value of this part. The <em>shrinkcoefficient</em> is a positive real number.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshshrcoef mesh 0.05</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_8"></a>
meshshow</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshshow meshname</div></div><!-- fragment --><p>Displays <b>meshname</b> in the viewer (if it is erased).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshshow mesh</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_9"></a>
meshhide</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshhide meshname</div></div><!-- fragment --><p>Hides <b>meshname</b> in the viewer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshhide mesh</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_5_10"></a>
meshhidesel</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshhidesel meshname</div></div><!-- fragment --><p>Hides only selected entities. The other part of <b>meshname</b> remains visible.</p>
<h3><a class="anchor" id="occt_draw_4_5_11"></a>
meshshowsel</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshshowsel meshname</div></div><!-- fragment --><p>Shows only selected entities. The other part of <b>meshname</b> becomes invisible.</p>
<h3><a class="anchor" id="occt_draw_4_5_12"></a>
meshshowall</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshshowall meshname</div></div><!-- fragment --><p>Changes the state of all entities to visible for <b>meshname</b>.</p>
<h3><a class="anchor" id="occt_draw_4_5_13"></a>
meshdelete</h3>
<p>Syntax: </p><div class="fragment"><div class="line">meshdelete meshname</div></div><!-- fragment --><p>Deletes <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_mesh_v_s___mesh.html">MeshVS_Mesh</a> object <b>meshname</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vinit </div><div class="line">meshfromstl mesh myfile.stl </div><div class="line">meshdelete mesh </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_4_6"></a>
VIS Viewer commands</h2>
<p>A specific plugin with alias <em>VIS</em> should be loaded to have access to VIS functionality in DRAW Test Harness:</p>
<div class="fragment"><div class="line">&gt; pload VIS</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_6_1"></a>
ivtkinit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkinit</div></div><!-- fragment --><p>Creates a window for VTK viewer.</p>
<div class="image">
<img src="draw_image001.png" alt="draw_image001.png"/>
</div>
 <h3><a class="anchor" id="occt_draw_4_6_2"></a>
ivtkdisplay</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkdisplay name1 [name2] …[name n]</div></div><!-- fragment --><p>Displays named objects.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line"># create cone</div><div class="line">pcone c 5 0 10</div><div class="line">ivtkdisplay c</div></div><!-- fragment --><div class="image">
<img src="draw_image002.png" alt="draw_image002.png"/>
</div>
<h3><a class="anchor" id="occt_draw_4_6_3"></a>
ivtkerase</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkerase [name1] [name2] … [name n]</div></div><!-- fragment --><p>Erases named objects. If no arguments are passed, erases all displayed objects.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line"># create a sphere</div><div class="line">psphere s 10</div><div class="line"># create a cone</div><div class="line">pcone c 5 0 10</div><div class="line"># create a cylinder</div><div class="line">pcylinder cy 5 10</div><div class="line"># display objects</div><div class="line">ivtkdisplay s c cy</div><div class="line"># erase only the cylinder</div><div class="line">ivtkerase cy</div><div class="line"># erase the sphere and the cone</div><div class="line">ivtkerase s c</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_6_4"></a>
ivtkfit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkfit</div></div><!-- fragment --><p>Automatic zoom/panning.</p>
<h3><a class="anchor" id="occt_draw_4_6_5"></a>
ivtkdispmode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtksetdispmode [name] {0|1}</div></div><!-- fragment --><p>Sets display mode for a named object. If no arguments are passed, sets the given display mode for all displayed objects The possible modes are: 0 (WireFrame) and 1 (Shading).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line"># create a cone</div><div class="line">pcone c 5 0 10</div><div class="line"># display the cone</div><div class="line">ivtkdisplay c</div><div class="line"># set shading mode for the cone</div><div class="line">ivtksetdispmode c 1</div></div><!-- fragment --><div class="image">
<img src="draw_image003.png" alt="draw_image003.png"/>
</div>
 <h3><a class="anchor" id="occt_draw_4_6_6"></a>
ivtksetselmode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtksetselmode [name] mode {0|1}</div></div><!-- fragment --><p>Sets selection mode for a named object. If no arguments are passed, sets the given selection mode for all the displayed objects.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line"># load a shape from file</div><div class="line">restore CrankArm.brep a</div><div class="line"># display the loaded shape</div><div class="line">ivtkdisplay a</div><div class="line"># set the face selection mode</div><div class="line">ivtksetselmode a 4 1</div></div><!-- fragment --><div class="image">
<img src="draw_image004.png" alt="draw_image004.png"/>
</div>
 <h3><a class="anchor" id="occt_draw_4_6_7"></a>
ivtkmoveto</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkmoveto x y</div></div><!-- fragment --><p>Imitates mouse cursor moving to point with the given display coordinates <b>x</b>,<b>y</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line">pcone c 5 0 10</div><div class="line">ivtkdisplay c</div><div class="line">ivtkmoveto 40 50</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_6_8"></a>
ivtkselect</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkselect x y</div></div><!-- fragment --><p>Imitates mouse cursor moving to point with the given display coordinates and performs selection at this point.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line">pcone c 5 0 10</div><div class="line">ivtkdisplay c</div><div class="line">ivtkselect 40 50</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_6_9"></a>
ivtkdump</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkdump *filename* [buffer={rgb|rgba|depth}] [width height] [stereoproj={L|R}]</div></div><!-- fragment --><p>Dumps the contents of VTK viewer to image. It supports:</p><ul>
<li>dumping in different raster graphics formats: PNG, BMP, JPEG, TIFF or PNM.</li>
<li>dumping of different buffers: RGB, RGBA or depth buffer.</li>
<li>defining of image sizes (width and height in pixels).</li>
<li>dumping of stereo projections (left or right).</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line">pcone c 5 0 10</div><div class="line">ivtkdisplay c</div><div class="line">ivtkdump D:/ConeSnapshot.png rgb 768 768</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_4_6_10"></a>
ivtkbgcolor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ivtkbgcolor r g b [r2 g2 b2]</div></div><!-- fragment --><p>Sets uniform background color or gradient background if second triple of parameters is set. Color parameters r,g,b have to be chosen in the interval [0..255].</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ivtkinit</div><div class="line">ivtkbgcolor 200 220 250</div></div><!-- fragment --><div class="image">
<img src="draw_image005.png" alt="draw_image005.png"/>
</div>
 <div class="fragment"><div class="line">ivtkbgcolor 10 30 80 255 255 255</div></div><!-- fragment --><div class="image">
<img src="draw_image006.png" alt="draw_image006.png"/>
</div>
 <h1><a class="anchor" id="occt_draw_5"></a>
OCAF commands</h1>
<p>This chapter contains a set of commands for Open CASCADE Technology Application Framework (OCAF).</p>
<h2><a class="anchor" id="occt_draw_5_1"></a>
Application commands</h2>
<h3><a class="anchor" id="occt_draw_5_1_1"></a>
NewDocument</h3>
<p>Syntax: </p><div class="fragment"><div class="line">NewDocument docname [format]</div></div><!-- fragment --><p>Creates a new <b>docname</b> document with MDTV-Standard or described format.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># Create new document with default (MDTV-Standard) format </div><div class="line">NewDocument D </div><div class="line"></div><div class="line"># Create new document with BinOcaf format </div><div class="line">NewDocument D2 BinOcaf </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_1_2"></a>
IsInSession</h3>
<p>Syntax: </p><div class="fragment"><div class="line">IsInSession path</div></div><!-- fragment --><p>Returns <em>0</em>, if <b>path</b> document is managed by the application session, <em>1</em> &ndash; otherwise.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">IsInSession /myPath/myFile.std </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_1_3"></a>
ListDocuments</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ListDocuments</div></div><!-- fragment --><p>Makes a list of documents handled during the session of the application.</p>
<h3><a class="anchor" id="occt_draw_5_1_4"></a>
Open</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Open path docname [-stream]</div></div><!-- fragment --><p>Retrieves the document of file <b>docname</b> in the path <b>path</b>. Overwrites the document, if it is already in session.</p>
<p>option <em>-stream</em> activates usage of alternative interface of OCAF persistence working with C++ streams instead of file names.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Open /myPath/myFile.std D</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_1_5"></a>
Close</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Close docname</div></div><!-- fragment --><p>Closes <b>docname</b> document. The document is no longer handled by the applicative session.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Close D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_1_6"></a>
Save</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Save docname</div></div><!-- fragment --><p>Saves <b>docname</b> active document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Save D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_1_7"></a>
SaveAs</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SaveAs docname path [-stream]</div></div><!-- fragment --><p>Saves the active document in the file <b>docname</b> in the path <b>path</b>. Overwrites the file if it already exists.</p>
<p>option <em>-stream</em> activates usage of alternative interface of OCAF persistence working with C++ streams instead of file names.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SaveAs D /myPath/myFile.std</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_5_2"></a>
Basic commands</h2>
<h3><a class="anchor" id="occt_draw_5_2_1"></a>
Label</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">Label docname entry</div></div><!-- fragment --><p>Creates the label expressed by <em>&lt;entry&gt;</em> if it does not exist.</p>
<p>Example </p><div class="fragment"><div class="line">Label D 0:2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_2_2"></a>
NewChild</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">NewChild docname [taggerlabel = Root label]</div></div><!-- fragment --><p> Finds (or creates) a <em>TagSource</em> attribute located at father label of <em>&lt;taggerlabel&gt;</em> and makes a new child label.</p>
<p>Example </p><div class="fragment"><div class="line"># Create new child of root label</div><div class="line">NewChild D</div><div class="line"></div><div class="line"># Create new child of existing label</div><div class="line">Label D 0:2</div><div class="line">NewChild D 0:2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_2_3"></a>
Children</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Children docname label</div></div><!-- fragment --><p> Returns the list of attributes of label.</p>
<p>Example </p><div class="fragment"><div class="line">Children D 0:2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_2_4"></a>
ForgetAll</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ForgetAll docname label</div></div><!-- fragment --><p> Forgets all attributes of the label.</p>
<p>Example </p><div class="fragment"><div class="line">ForgetAll D 0:2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3"></a>
Application commands</h3>
<h3><a class="anchor" id="occt_draw_5_3_1"></a>
Main</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Main docname</div></div><!-- fragment --><p>Returns the main label of the framework.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Main D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_2"></a>
UndoLimit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">UndoLimit docname [value=0]</div></div><!-- fragment --><p>Sets the limit on the number of Undo Delta stored. <b>0</b> will disable Undo on the document. A negative <em>value</em> means that there is no limit. Note that by default Undo is disabled. Enabling it will take effect with the next call to <em>NewCommand</em>. Of course, this limit is the same for Redo</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">UndoLimit D 100 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_3"></a>
Undo</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Undo docname [value=1]</div></div><!-- fragment --><p>Undoes <b>value</b> steps.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Undo D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_4"></a>
Redo</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Redo docname [value=1]</div></div><!-- fragment --><p>Redoes <b>value</b> steps.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Redo D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_5"></a>
OpenCommand</h3>
<p>Syntax: </p><div class="fragment"><div class="line">OpenCommand docname</div></div><!-- fragment --><p>Opens a new command transaction.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">OpenCommand D</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_6"></a>
CommitCommand</h3>
<p>Syntax: </p><div class="fragment"><div class="line">CommitCommand docname</div></div><!-- fragment --><p>Commits the Command transaction.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">CommitCommand D</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_7"></a>
NewCommand</h3>
<p>Syntax: </p><div class="fragment"><div class="line">NewCommand docname</div></div><!-- fragment --><p>This is a shortcut for Commit and Open transaction.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">NewCommand D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_8"></a>
AbortCommand</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AbortCommand docname</div></div><!-- fragment --><p>Aborts the Command transaction.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AbortCommand D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_9"></a>
Copy</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Copy docname entry Xdocname Xentry</div></div><!-- fragment --><p>Copies the contents of <em>entry</em> to <em>Xentry</em>. No links are registered.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Copy D1 0:2 D2 0:4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_10"></a>
UpdateLink</h3>
<p>Syntax: </p><div class="fragment"><div class="line">UpdateLink docname [entry] </div></div><!-- fragment --><p>Updates external reference set at <em>entry</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">UpdateLink D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_11"></a>
CopyWithLink</h3>
<p>Syntax: </p><div class="fragment"><div class="line">CopyWithLink docname entry Xdocname Xentry</div></div><!-- fragment --><p>Aborts the Command transaction. Copies the content of <em>entry</em> to <em>Xentry</em>. The link is registered with an <em>Xlink</em> attribute at <em>Xentry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">CopyWithLink D1 0:2 D2 0:4</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_12"></a>
UpdateXLinks</h3>
<p>Syntax: </p><div class="fragment"><div class="line">UpdateXLinks docname entry</div></div><!-- fragment --><p>Sets modifications on labels impacted by external references to the <em>entry</em>. The <em>document</em> becomes invalid and must be recomputed</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">UpdateXLinks D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_3_13"></a>
DumpDocument</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DumpDocument docname</div></div><!-- fragment --><p>Displays parameters of <em>docname</em> document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DumpDocument D </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_5_4"></a>
Data Framework commands</h2>
<h3><a class="anchor" id="occt_draw_5_4_1"></a>
MakeDF</h3>
<p>Syntax: </p><div class="fragment"><div class="line">MakeDF dfname</div></div><!-- fragment --><p>Creates a new data framework.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">MakeDF D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_4_2"></a>
ClearDF</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ClearDF dfname</div></div><!-- fragment --><p>Clears a data framework.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ClearDF D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_4_3"></a>
CopyDF</h3>
<p>Syntax: </p><div class="fragment"><div class="line">CopyDF dfname1 entry1 [dfname2] entry2</div></div><!-- fragment --><p>Copies a data framework.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">CopyDF D 0:2 0:4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_4_4"></a>
CopyLabel</h3>
<p>Syntax: </p><div class="fragment"><div class="line">CopyLabel dfname fromlabel tolablel</div></div><!-- fragment --><p>Copies a label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">CopyLabel D1 0:2 0:4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_4_5"></a>
MiniDumpDF</h3>
<p>Syntax: </p><div class="fragment"><div class="line">MiniDumpDF dfname</div></div><!-- fragment --><p>Makes a mini-dump of a data framework.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">MiniDumpDF D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_4_6"></a>
XDumpDF</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XDumpDF dfname</div></div><!-- fragment --><p>Makes an extended dump of a data framework.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XDumpDF D</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_5_5"></a>
General attributes commands</h2>
<h3><a class="anchor" id="occt_draw_5_5_1"></a>
SetInteger</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetInteger dfname entry value</div></div><!-- fragment --><p>Finds or creates an Integer attribute at <em>entry</em> label and sets <em>value</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetInteger D 0:2 100 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_2"></a>
GetInteger</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetInteger dfname entry [drawname]</div></div><!-- fragment --><p>Gets a value of an Integer attribute at <em>entry</em> label and sets it to <em>drawname</em> variable, if it is defined.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetInteger D 0:2 Int1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_3"></a>
SetReal</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetReal dfname entry value</div></div><!-- fragment --><p>Finds or creates a Real attribute at <em>entry</em> label and sets <em>value</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetReal D 0:2 100. </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_4"></a>
GetReal</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetReal dfname entry [drawname]</div></div><!-- fragment --><p>Gets a value of a Real attribute at <em>entry</em> label and sets it to <em>drawname</em> variable, if it is defined.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetReal D 0:2 Real1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_5"></a>
SetIntArray</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetIntArray dfname entry lower upper value1 value2 … </div></div><!-- fragment --><p>Finds or creates an IntegerArray attribute at <em>entry</em> label with lower and upper bounds and sets **value1*, <em>value2</em>...</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetIntArray D 0:2 1 4 100 200 300 400</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_6"></a>
GetIntArray</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetIntArray dfname entry</div></div><!-- fragment --><p>Gets a value of an <em>IntegerArray</em> attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetIntArray D 0:2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_7"></a>
SetRealArray</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetRealArray dfname entry lower upper value1 value2 …</div></div><!-- fragment --><p>Finds or creates a RealArray attribute at <em>entry</em> label with lower and upper bounds and sets <em>value1</em>, *value2*…</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetRealArray D 0:2 1 4 100. 200. 300. 400. </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_8"></a>
GetRealArray</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetRealArray dfname entry</div></div><!-- fragment --><p>Gets a value of a RealArray attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetRealArray D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_9"></a>
SetComment</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetComment dfname entry value</div></div><!-- fragment --><p>Finds or creates a Comment attribute at <em>entry</em> label and sets <em>value</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetComment D 0:2 &quot;My comment&quot;</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_10"></a>
GetComment</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetComment dfname entry</div></div><!-- fragment --><p>Gets a value of a Comment attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetComment D 0:2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_11"></a>
SetExtStringArray</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetExtStringArray dfname entry lower upper value1 value2 …</div></div><!-- fragment --><p>Finds or creates an <em>ExtStringArray</em> attribute at <em>entry</em> label with lower and upper bounds and sets <em>value1</em>, *value2*…</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetExtStringArray D 0:2 1 3 *string1* *string2* *string3*</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_12"></a>
GetExtStringArray</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetExtStringArray dfname entry</div></div><!-- fragment --><p>Gets a value of an ExtStringArray attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetExtStringArray D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_13"></a>
SetName</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetName dfname entry value </div></div><!-- fragment --><p>Finds or creates a Name attribute at <em>entry</em> label and sets <em>value</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetName D 0:2 *My name* </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_14"></a>
GetName</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetName dfname entry </div></div><!-- fragment --><p>Gets a value of a Name attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetName D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_15"></a>
SetReference</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetReference dfname entry reference </div></div><!-- fragment --><p>Creates a Reference attribute at <em>entry</em> label and sets <em>reference</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetReference D 0:2 0:4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_16"></a>
GetReference</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetReference dfname entry </div></div><!-- fragment --><p>Gets a value of a Reference attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetReference D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_17"></a>
SetUAttribute</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetUAttribute dfname entry localGUID </div></div><!-- fragment --><p>Creates a UAttribute attribute at <em>entry</em> label with <em>localGUID</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">set localGUID &quot;c73bd076-22ee-11d2-acde-080009dc4422&quot; </div><div class="line">SetUAttribute D 0:2 ${localGUID} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_18"></a>
GetUAttribute</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetUAttribute dfname entry loacalGUID </div></div><!-- fragment --><p>Finds a <em>UAttribute</em> at <em>entry</em> label with <em>localGUID</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">set localGUID &quot;c73bd076-22ee-11d2-acde-080009dc4422&quot; </div><div class="line">GetUAttribute D 0:2 ${localGUID} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_19"></a>
SetFunction</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetFunction dfname entry ID failure </div></div><!-- fragment --><p>Finds or creates a <em>Function</em> attribute at <em>entry</em> label with driver ID and <em>failure</em> index.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">set ID &quot;c73bd076-22ee-11d2-acde-080009dc4422&quot; </div><div class="line">SetFunction D 0:2 ${ID} 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_20"></a>
GetFunction</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetFunction dfname entry ID failure </div></div><!-- fragment --><p>Finds a Function attribute at <em>entry</em> label and sets driver ID to <em>ID</em> variable and failure index to <em>failure</em> variable.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetFunction D 0:2 ID failure </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_21"></a>
NewShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">NewShape dfname entry [shape] </div></div><!-- fragment --><p>Finds or creates a Shape attribute at <em>entry</em> label. Creates or updates the associated <em>NamedShape</em> attribute by <em>shape</em> if <em>shape</em> is defined.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">box b 10 10 10 </div><div class="line">NewShape D 0:2 b </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_22"></a>
SetShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetShape dfname entry shape </div></div><!-- fragment --><p>Creates or updates a <em>NamedShape</em> attribute at <em>entry</em> label by <em>shape</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">box b 10 10 10 </div><div class="line">SetShape D 0:2 b </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_5_23"></a>
GetShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetShape2 dfname entry shape </div></div><!-- fragment --><p>Sets a shape from NamedShape attribute associated with <em>entry</em> label to <em>shape</em> draw variable.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetShape2 D 0:2 b </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_5_6"></a>
Geometric attributes commands</h2>
<h3><a class="anchor" id="occt_draw_5_6_1"></a>
SetPoint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetPoint dfname entry point</div></div><!-- fragment --><p>Finds or creates a Point attribute at <em>entry</em> label and sets <em>point</em> as generated in the associated <em>NamedShape</em> attribute.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">point p 10 10 10 </div><div class="line">SetPoint D 0:2 p </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_2"></a>
GetPoint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetPoint dfname entry [drawname] </div></div><!-- fragment --><p>Gets a vertex from <em>NamedShape</em> attribute at <em>entry</em> label and sets it to <em>drawname</em> variable, if it is defined.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetPoint D 0:2 p </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_3"></a>
SetAxis</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetAxis dfname entry axis </div></div><!-- fragment --><p>Finds or creates an Axis attribute at <em>entry</em> label and sets <em>axis</em> as generated in the associated <em>NamedShape</em> attribute.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">line l 10 20 30 100 200 300 </div><div class="line">SetAxis D 0:2 l </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_4"></a>
GetAxis</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetAxis dfname entry [drawname] </div></div><!-- fragment --><p>Gets a line from <em>NamedShape</em> attribute at <em>entry</em> label and sets it to <em>drawname</em> variable, if it is defined.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetAxis D 0:2 l </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_5"></a>
SetPlane</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetPlane dfname entry plane </div></div><!-- fragment --><p>Finds or creates a Plane attribute at <em>entry</em> label and sets <em>plane</em> as generated in the associated <em>NamedShape</em> attribute.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">plane pl 10 20 30 -1 0 0 </div><div class="line">SetPlane D 0:2 pl </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_6"></a>
GetPlane</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetPlane dfname entry [drawname] </div></div><!-- fragment --><p>Gets a plane from <em>NamedShape</em> attribute at <em>entry</em> label and sets it to <em>drawname</em> variable, if it is defined.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetPlane D 0:2 pl </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_7"></a>
SetGeometry</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetGeometry dfname entry [type] [shape] </div></div><!-- fragment --><p>Creates a Geometry attribute at <em>entry</em> label and sets <em>type</em> and <em>shape</em> as generated in the associated <em>NamedShape</em> attribute if they are defined. <em>type</em> must be one of the following: <em>any, pnt, lin, cir, ell, spl, pln, cyl</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">point p 10 10 10 </div><div class="line">SetGeometry D 0:2 pnt p </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_8"></a>
GetGeometryType</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetGeometryType dfname entry</div></div><!-- fragment --><p>Gets a geometry type from Geometry attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetGeometryType D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_9"></a>
SetConstraint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetConstraint dfname entry keyword geometrie [geometrie …] </div><div class="line">SetConstraint dfname entry &quot;plane&quot; geometrie </div><div class="line">SetConstraint dfname entry &quot;value&quot; value</div></div><!-- fragment --><ol type="1">
<li>Creates a Constraint attribute at <em>entry</em> label and sets <em>keyword</em> constraint between geometry(ies). <em>keyword</em> must be one of the following: <em>rad, dia, minr, majr, tan, par, perp, concentric, equal, dist, angle, eqrad, symm, midp, eqdist, fix, rigid,</em> or <em>from, axis, mate, alignf, aligna, axesa, facesa, round, offset</em></li>
<li>Sets plane for the existing constraint.</li>
<li>Sets value for the existing constraint.</li>
</ol>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetConstraint D 0:2 &quot;value&quot; 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_10"></a>
GetConstraint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetConstraint dfname entry</div></div><!-- fragment --><p>Dumps a Constraint attribute at <em>entry</em> label</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetConstraint D 0:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_11"></a>
SetVariable</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetVariable dfname entry isconstant(0/1) units </div></div><!-- fragment --><p>Creates a Variable attribute at <em>entry</em> label and sets <em>isconstant</em> flag and <em>units</em> as a string.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">SetVariable D 0:2 1 &quot;mm&quot; </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_6_12"></a>
GetVariable</h3>
<p>Syntax: </p><div class="fragment"><div class="line">GetVariable dfname entry isconstant units </div></div><!-- fragment --><p>Gets an <em>isconstant</em> flag and units of a Variable attribute at <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">GetVariable D 0:2 isconstant units </div><div class="line">puts &quot;IsConstant=${isconstant}&quot; </div><div class="line">puts &quot;Units=${units}&quot; </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_5_7"></a>
Tree attributes commands</h2>
<h3><a class="anchor" id="occt_draw_5_7_1"></a>
RootNode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">RootNode dfname treenodeentry [ID]</div></div><!-- fragment --><p>Returns the ultimate father of <em>TreeNode</em> attribute identified by its <em>treenodeentry</em> and its <em>ID</em> (or default ID, if <em>ID</em> is not defined).</p>
<h3><a class="anchor" id="occt_draw_5_7_2"></a>
SetNode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">SetNode dfname treenodeentry [ID]</div></div><!-- fragment --><p>Creates a <em>TreeNode</em> attribute on the <em>treenodeentry</em> label with its tree <em>ID</em> (or assigns a default ID, if the <em>ID</em> is not defined).</p>
<h3><a class="anchor" id="occt_draw_5_7_3"></a>
AppendNode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AppendNode dfname fatherentry childentry [fatherID]</div></div><!-- fragment --><p>Inserts a <em>TreeNode</em> attribute with its tree <em>fatherID</em> (or default ID, if <em>fatherID</em> is not defined) on <em>childentry</em> as last child of <em>fatherentry</em>.</p>
<h3><a class="anchor" id="occt_draw_5_7_4"></a>
PrependNode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">PrependNode dfname fatherentry childentry [fatherID]</div></div><!-- fragment --><p>Inserts a <em>TreeNode</em> attribute with its tree <em>fatherID</em> (or default ID, if <em>fatherID</em> is not defined) on <em>childentry</em> as first child of <em>fatherentry</em>.</p>
<h3><a class="anchor" id="occt_draw_5_7_5"></a>
InsertNodeBefore</h3>
<p>Syntax: </p><div class="fragment"><div class="line">InsertNodeBefore dfname treenodeentry beforetreenode [ID]</div></div><!-- fragment --><p>Inserts a <em>TreeNode</em> attribute with tree <em>ID</em> (or default ID, if <em>ID</em> is not defined) <em>beforetreenode</em> before <em>treenodeentry</em>.</p>
<h3><a class="anchor" id="occt_draw_5_7_6"></a>
InsertNodeAfter</h3>
<p>Syntax: </p><div class="fragment"><div class="line">InsertNodeAfter dfname treenodeentry aftertreenode [ID]</div></div><!-- fragment --><p>Inserts a <em>TreeNode</em> attribute with tree <em>ID</em> (or default ID, if <em>ID</em> is not defined) <em>aftertreenode</em> after <em>treenodeentry</em>.</p>
<h3><a class="anchor" id="occt_draw_5_7_7"></a>
DetachNode</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DetachNode dfname treenodeentry [ID]</div></div><!-- fragment --><p>Removes a <em>TreeNode</em> attribute with tree <em>ID</em> (or default ID, if <em>ID</em> is not defined) from <em>treenodeentry</em>.</p>
<h3><a class="anchor" id="occt_draw_5_7_8"></a>
ChildNodeIterate</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ChildNodeIterate dfname treenodeentry alllevels(0/1) [ID]</div></div><!-- fragment --><p>Iterates on the tree of <em>TreeNode</em> attributes with tree <em>ID</em> (or default ID, if <em>ID</em> is not defined). If <em>alllevels</em> is set to <em>1</em> it explores not only the first, but all the sub Step levels.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Label D 0:2 </div><div class="line">Label D 0:3 </div><div class="line">Label D 0:4 </div><div class="line">Label D 0:5 </div><div class="line">Label D 0:6 </div><div class="line">Label D 0:7 </div><div class="line">Label D 0:8 </div><div class="line">Label D 0:9 </div><div class="line"></div><div class="line"># Set root node </div><div class="line">SetNode D 0:2 </div><div class="line"></div><div class="line">AppendNode D 0:2 0:4 </div><div class="line">AppendNode D 0:2 0:5 </div><div class="line">PrependNode D 0:4 0:3 </div><div class="line">PrependNode D 0:4 0:8 </div><div class="line">PrependNode D 0:4 0:9 </div><div class="line"></div><div class="line">InsertNodeBefore D 0:5 0:6 </div><div class="line">InsertNodeAfter D 0:4 0:7 </div><div class="line"></div><div class="line">DetachNode D 0:8 </div><div class="line"></div><div class="line"></div><div class="line"># List all levels </div><div class="line">ChildNodeIterate D 0:2 1 </div><div class="line"></div><div class="line">==0:4 </div><div class="line">==0:9 </div><div class="line">==0:3 </div><div class="line">==0:7 </div><div class="line">==0:6 </div><div class="line">==0:5 </div><div class="line"></div><div class="line"></div><div class="line"># List only first levels </div><div class="line">ChildNodeIterate D 0:2 1 </div><div class="line"></div><div class="line">==0:4 </div><div class="line">==0:7 </div><div class="line">==0:6 </div><div class="line">==0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_7_9"></a>
InitChildNodeIterator</h3>
<p>Syntax: </p><div class="fragment"><div class="line">InitChildNodeIterator dfname treenodeentry alllevels(0/1) [ID]</div></div><!-- fragment --><p>Initializes the iteration on the tree of <em>TreeNode</em> attributes with tree <em>ID</em> (or default ID, if <em>ID</em> is not defined). If <em>alllevels</em> is set to <em>1</em> it explores not only the first, but also all sub Step levels.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">InitChildNodeIterate D 0:5 1 </div><div class="line">set aChildNumber 0 </div><div class="line">for {set i 1} {$i &lt; 100} {incr i} { </div><div class="line">    if {[ChildNodeMore] == *TRUE*} { </div><div class="line">        puts *Tree node = [ChildNodeValue]* </div><div class="line">        incr aChildNumber </div><div class="line">        ChildNodeNext </div><div class="line">    } </div><div class="line">} </div><div class="line">puts &quot;aChildNumber=$aChildNumber&quot;</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_7_10"></a>
ChildNodeMore</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ChildNodeMore</div></div><!-- fragment --><p>Returns TRUE if there is a current item in the iteration.</p>
<h3><a class="anchor" id="occt_draw_5_7_11"></a>
ChildNodeNext</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ChildNodeNext</div></div><!-- fragment --><p>Moves to the next Item.</p>
<h3><a class="anchor" id="occt_draw_5_7_12"></a>
ChildNodeValue</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ChildNodeValue</div></div><!-- fragment --><p>Returns the current treenode of <em>ChildNodeIterator</em>.</p>
<h3><a class="anchor" id="occt_draw_5_7_13"></a>
ChildNodeNextBrother</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ChildNodeNextBrother</div></div><!-- fragment --><p>Moves to the next <em>Brother</em>. If there is none, goes up. This method is interesting only with <em>allLevels</em> behavior.</p>
<h2><a class="anchor" id="occt_draw_5_8"></a>
Standard presentation commands</h2>
<h3><a class="anchor" id="occt_draw_5_8_1"></a>
AISInitViewer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISInitViewer docname</div></div><!-- fragment --><p>Creates and sets <em>AISViewer</em> attribute at root label, creates <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a> viewer window.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISInitViewer D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_2"></a>
AISRepaint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISRepaint docname </div></div><!-- fragment --><p>Updates the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a> viewer window.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISRepaint D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_3"></a>
AISDisplay</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISDisplay docname entry [not_update] </div></div><!-- fragment --><p>Displays a presantation of <em>AISobject</em> from <em>entry</em> label in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a> viewer. If <em>not_update</em> is not defined then <em>AISobject</em> is recomputed and all visualization settings are applied.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISDisplay D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_4"></a>
AISUpdate</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISUpdate docname entry </div></div><!-- fragment --><p>Recomputes a presentation of <em>AISobject</em> from <em>entry</em> label and applies the visualization setting in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a> viewer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISUpdate D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_5"></a>
AISErase</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISErase docname entry </div></div><!-- fragment --><p>Erases <em>AISobject</em> of <em>entry</em> label in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a> viewer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISErase D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_6"></a>
AISRemove</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISRemove docname entry </div></div><!-- fragment --><p>Erases <em>AISobject</em> of <em>entry</em> label in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s.html">AIS</a> viewer, then <em>AISobject</em> is removed from <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s___interactive_context.html">AIS_InteractiveContext</a></em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISRemove D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_7"></a>
AISSet</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISSet docname entry ID </div></div><!-- fragment --><p>Creates <em>AISPresentation</em> attribute at <em>entry</em> label and sets as driver ID. ID must be one of the following: <em>A</em> (<em>axis</em>), <em>C</em> (<em>constraint</em>), <em>NS</em> (<em>namedshape</em>), <em>G</em> (<em>geometry</em>), <em>PL</em> (<em>plane</em>), <em>PT</em> (<em>point</em>).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISSet D 0:5 NS </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_8"></a>
AISDriver</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISDriver docname entry [ID] </div></div><!-- fragment --><p>Returns DriverGUID stored in <em>AISPresentation</em> attribute of an <em>entry</em> label or sets a new one. ID must be one of the following: <em>A</em> (<em>axis</em>), <em>C</em> (<em>constraint</em>), <em>NS</em> (<em>namedshape</em>), <em>G</em> (<em>geometry</em>), <em>PL</em> (<em>plane</em>), <em>PT</em> (<em>point</em>).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># Get Driver GUID </div><div class="line">AISDriver D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_9"></a>
AISUnset</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISUnset docname entry </div></div><!-- fragment --><p>Deletes <em>AISPresentation</em> attribute (if it exists) of an <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISUnset D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_10"></a>
AISTransparency</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISTransparency docname entry [transparency] </div></div><!-- fragment --><p>Sets (if <em>transparency</em> is defined) or gets the value of transparency for <em>AISPresentation</em> attribute of an <em>entry</em> label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISTransparency D 0:5 0.5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_11"></a>
AISHasOwnTransparency</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISHasOwnTransparency docname entry </div></div><!-- fragment --><p>Tests <em>AISPresentation</em> attribute of an <em>entry</em> label by own transparency.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISHasOwnTransparency D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_12"></a>
AISMaterial</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISMaterial docname entry [material] </div></div><!-- fragment --><p>Sets (if <em>material</em> is defined) or gets the value of transparency for <em>AISPresentation</em> attribute of an <em>entry</em> label. <em>material</em> is integer from 0 to 20 (see <a class="el" href="occt_user_guides__test_harness.html#occt_draw_4_5_6">meshmat</a> command).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISMaterial D 0:5 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_13"></a>
AISHasOwnMaterial</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISHasOwnMaterial docname entry </div></div><!-- fragment --><p>Tests <em>AISPresentation</em> attribute of an <em>entry</em> label by own material.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISHasOwnMaterial D 0:5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_14"></a>
AISColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISColor docname entry [color] </div></div><!-- fragment --><p>Sets (if <em>color</em> is defined) or gets value of color for <em>AISPresentation</em> attribute of an <em>entry</em> label. <em>color</em> is integer from 0 to 516 (see color names in <em>vsetcolor</em>).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISColor D 0:5 25 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_5_8_15"></a>
AISHasOwnColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">AISHasOwnColor docname entry </div></div><!-- fragment --><p>Tests <em>AISPresentation</em> attribute of an <em>entry</em> label by own color.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">AISHasOwnColor D 0:5 </div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_6"></a>
Geometry commands</h1>
<h2><a class="anchor" id="occt_draw_6_1"></a>
Overview</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides a set of commands to test geometry libraries. These commands are found in the TGEOMETRY executable, or in any <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> executable which includes <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geometry_test.html">GeometryTest</a></em> commands.</p>
<p>In the context of Geometry, <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> includes the following types of variable:</p>
<ul>
<li>2d and 3d points</li>
<li>The 2d curve, which corresponds to <em>Curve</em> in <em>Geom2d</em>.</li>
<li>The 3d curve and surface, which correspond to <em>Curve</em> and <em>Surface</em> in <a href="user_guides__modeling_data.html#occt_modat_1">Geom package</a>.</li>
</ul>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> geometric variables never share data; the <em>copy</em> command will always make a complete copy of the content of the variable.</p>
<p>The following topics are covered in the nine sections of this chapter:</p>
<ul>
<li><b>Curve creation</b> deals with the various types of curves and how to create them.</li>
<li><b>Surface creation</b> deals with the different types of surfaces and how to create them.</li>
<li><b>Curve and surface modification</b> deals with the commands used to modify the definition of curves and surfaces, most of which concern modifications to bezier and bspline curves.</li>
<li><b>Geometric transformations</b> covers translation, rotation, mirror image and point scaling transformations.</li>
<li><b>Curve and Surface Analysis</b> deals with the commands used to compute points, derivatives and curvatures.</li>
<li><b>Intersections</b> presents intersections of surfaces and curves.</li>
<li><b>Approximations</b> deals with creating curves and surfaces from a set of points.</li>
<li><b>Constraints</b> concerns construction of 2d circles and lines by constraints such as tangency.</li>
<li><b>Display</b> describes commands to control the display of curves and surfaces.</li>
</ul>
<p>Where possible, the commands have been made broad in application, i.e. they apply to 2d curves, 3d curves and surfaces. For instance, the <em>circle</em> command may create a 2d or a 3d circle depending on the number of arguments given.</p>
<p>Likewise, the <em>translate</em> command will process points, curves or surfaces, depending on argument type. You may not always find the specific command you are looking for in the section where you expect it to be. In that case, look in another section. The <em>trim</em> command, for example, is described in the surface section. It can, nonetheless, be used with curves as well.</p>
<h2><a class="anchor" id="occt_draw_6_2"></a>
Curve creation</h2>
<p>This section deals with both points and curves. Types of curves are:</p>
<ul>
<li>Analytical curves such as lines, circles, ellipses, parabolas, and hyperbolas.</li>
<li>Polar curves such as bezier curves and bspline curves.</li>
<li>Trimmed curves and offset curves made from other curves with the <em>trim</em> and <em>offset</em> commands. Because they are used on both curves and surfaces, the <em>trim</em> and <em>offset</em> commands are described in the <em>surface creation</em> section.</li>
<li>NURBS can be created from other curves using <em>convert</em> in the <em>Surface Creation</em> section.</li>
<li>Curves can be created from the isoparametric lines of surfaces by the <em>uiso</em> and <em>viso</em> commands.</li>
<li>3d curves can be created from 2d curves and vice versa using the <em>to3d</em> and <em>to2d</em> commands. The <em>project</em> command computes a 2d curve on a 3d surface.</li>
</ul>
<p>Curves are displayed with an arrow showing the last parameter.</p>
<h3><a class="anchor" id="occt_draw_6_2_1"></a>
point</h3>
<p>Syntax: </p><div class="fragment"><div class="line">point name x y [z] </div></div><!-- fragment --><p>Creates a 2d or 3d point, depending on the number of arguments.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># 2d point </div><div class="line">point p1 1 2 </div><div class="line"></div><div class="line"># 3d point </div><div class="line">point p2 10 20 -5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_2"></a>
line</h3>
<p>Syntax: </p><div class="fragment"><div class="line">line name x y [z] dx dy [dz]</div></div><!-- fragment --><p>Creates a 2d or 3d line. <em>x y z</em> are the coordinates of the line’s point of origin; <em>dx, dy, dz</em> give the direction vector.</p>
<p>A 2d line will be represented as <em>x y dx dy</em>, and a 3d line as <em>x y z dx dy dz</em> . A line is parameterized along its length starting from the point of origin along the direction vector. The direction vector is normalized and must not be null. Lines are infinite, even though their representation is not.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a 2d line at 45 degrees of the X axis </div><div class="line">line l 2 0 1 1 </div><div class="line"></div><div class="line"># a 3d line through the point 10 0 0 and parallel to Z </div><div class="line">line l 10 0 0 0 0 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_3"></a>
circle</h3>
<p>Syntax: </p><div class="fragment"><div class="line">circle name x y [z [dx dy dz]] [ux uy [uz]] radius</div></div><!-- fragment --><p>Creates a 2d or a 3d circle.</p>
<p>In 2d, <em>x, y</em> are the coordinates of the center and <em>ux, uy</em> define the vector towards the point of origin of the parameters. By default, this direction is (1,0). The X Axis of the local coordinate system defines the origin of the parameters of the circle. Use another vector than the x axis to change the origin of parameters.</p>
<p>In 3d, <em>x, y, z</em> are the coordinates of the center; <em>dx, dy, dz</em> give the vector normal to the plane of the circle. By default, this vector is (0,0,1) i.e. the Z axis (it must not be null). <em>ux, uy, uz</em> is the direction of the origin; if not given, a default direction will be computed. This vector must neither be null nor parallel to <em>dx, dy, dz</em>.</p>
<p>The circle is parameterized by the angle in [0,2*pi] starting from the origin and. Note that the specification of origin direction and plane is the same for all analytical curves and surfaces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># A 2d circle of radius 5 centered at 10,-2 </div><div class="line">circle c1 10 -2 5 </div><div class="line"></div><div class="line"># another 2d circle with a user defined origin </div><div class="line"># the point of parameter 0 on this circle will be </div><div class="line"># 1+sqrt(2),1+sqrt(2) </div><div class="line">circle c2 1 1 1 1 2 </div><div class="line"></div><div class="line"># a 3d circle, center 10 20 -5, axis Z, radius 17 </div><div class="line">circle c3 10 20 -5 17 </div><div class="line"></div><div class="line"># same 3d circle with axis Y </div><div class="line">circle c4 10 20 -5 0 1 0 17 </div><div class="line"></div><div class="line"># full 3d circle, axis X, origin on Z </div><div class="line">circle c5 10 20 -5 1 0 0 0 0 1 17 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_4"></a>
ellipse</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ellipse name x y [z [dx dy dz]] [ux uy [uz]] firstradius secondradius </div></div><!-- fragment --><p>Creates a 2d or 3d ellipse. In a 2d ellipse, the first two arguments define the center; in a 3d ellipse, the first three. The axis system is given by <em>firstradius</em>, the major radius, and <em>secondradius</em>, the minor radius. The parameter range of the ellipse is [0,2.*pi] starting from the X axis and going towards the Y axis. The <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> ellipse is parameterized by an angle:</p>
<div class="fragment"><div class="line">P(u) = O + firstradius*cos(u)*Xdir + secondradius*sin(u)*Ydir </div></div><!-- fragment --><p> where:</p>
<ul>
<li>P is the point of parameter <em>u</em>,</li>
<li><em>O, Xdir</em> and <em>Ydir</em> are respectively the origin, <em>X Direction</em> and <em>Y Direction</em> of its local coordinate system.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># default 2d ellipse </div><div class="line">ellipse e1 10 5 20 10 </div><div class="line"></div><div class="line"># 2d ellipse at angle 60 degree </div><div class="line">ellipse e2 0 0 1 2 30 5 </div><div class="line"></div><div class="line"># 3d ellipse, in the XY plane </div><div class="line">ellipse e3 0 0 0 25 5 </div><div class="line"></div><div class="line"># 3d ellipse in the X,Z plane with axis 1, 0 ,1 </div><div class="line">ellipse e4 0 0 0 0 1 0 1 0 1 25 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_5"></a>
hyperbola</h3>
<p>Syntax: </p><div class="fragment"><div class="line">hyperbola name x y [z [dx dy dz]] [ux uy [uz]] firstradius secondradius</div></div><!-- fragment --><p>Creates a 2d or 3d conic. The first arguments define the center. The axis system is given by <em>firstradius</em>, the major radius, and <em>secondradius</em>, the minor radius. Note that the hyperbola has only one branch, that in the X direction.</p>
<p>The <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> hyperbola is parameterized as follows: </p><div class="fragment"><div class="line">P(U) = O + firstradius*Cosh(U)*XDir + secondradius*Sinh(U)*YDir </div></div><!-- fragment --><p> where:</p>
<ul>
<li><em>P</em> is the point of parameter <em>U</em>,</li>
<li><em>O, XDir</em> and <em>YDir</em> are respectively the origin, <em>X Direction</em> and <em>YDirection</em> of its local coordinate system.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># default 2d hyperbola, with asymptotes 1,1 -1,1 </div><div class="line">hyperbola h1 0 0 30 30 </div><div class="line"></div><div class="line"># 2d hyperbola at angle 60 degrees </div><div class="line">hyperbola h2 0 0 1 2 20 20 </div><div class="line"></div><div class="line"># 3d hyperbola, in the XY plane </div><div class="line">hyperbola h3 0 0 0 50 50 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_6"></a>
parabola</h3>
<p>Syntax: </p><div class="fragment"><div class="line">parabola name x y [z [dx dy dz]] [ux uy [uz]] FocalLength </div></div><!-- fragment --><p>Creates a 2d or 3d parabola. in the axis system defined by the first arguments. The origin is the apex of the parabola.</p>
<p>The <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___parabola.html">Geom_Parabola</a></em> is parameterized as follows:</p>
<div class="fragment"><div class="line">P(u) = O + u*u/(4.*F)*XDir + u*YDir </div></div><!-- fragment --><p>where:</p><ul>
<li><em>P</em> is the point of parameter <em>u</em>,</li>
<li><em>O, XDir</em> and <em>YDir</em> are respectively the origin, <em>X Direction</em> and <em>Y Direction</em> of its local coordinate system,</li>
<li><em>F</em> is the focal length of the parabola.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># 2d parabola </div><div class="line">parabola p1 0 0 50 </div><div class="line"></div><div class="line"># 2d parabola with convexity +Y </div><div class="line">parabola p2 0 0 0 1 50 </div><div class="line"></div><div class="line"># 3d parabola in the Y-Z plane, convexity +Z </div><div class="line">parabola p3 0 0 0 1 0 0 0 0 1 50 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_7"></a>
beziercurve, 2dbeziercurve</h3>
<p>Syntax: </p><div class="fragment"><div class="line">beziercurve name nbpole pole, [weight] </div><div class="line">2dbeziercurve name nbpole pole, [weight]</div></div><!-- fragment --><p>Creates a 3d rational or non-rational Bezier curve. Give the number of poles (control points,) and the coordinates of the poles *(x1 y1 z1 [w1] x2 y2 z2 [w2])*. The degree will be <em>nbpoles-1</em>. To create a rational curve, give weights with the poles. You must give weights for all poles or for none. If the weights of all the poles are equal, the curve is polynomial, and therefore non-rational.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a rational 2d bezier curve (arc of circle) </div><div class="line">2dbeziercurve ci 3 0 0 1 10 0 sqrt(2.)/2. 10 10 1 </div><div class="line"></div><div class="line"># a 3d bezier curve, not rational </div><div class="line">beziercurve cc 4 0 0 0 10 0 0 10 0 10 10 10 10 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_2_8"></a>
bsplinecurve, 2dbsplinecurve, pbsplinecurve, 2dpbsplinecurve</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bsplinecurve   name degree nbknots knot, umult pole, weight</div><div class="line">2dbsplinecurve name degree nbknots knot, umult pole, weight</div><div class="line"></div><div class="line">pbsplinecurve   name degree nbknots knot, umult pole, weight (periodic)</div><div class="line">2dpbsplinecurve name degree nbknots knot, umult pole, weight (periodic)</div></div><!-- fragment --><p>Creates 2d or 3d bspline curves; the <b>pbsplinecurve</b> and <b>2dpbsplinecurve</b> commands create periodic bspline curves.</p>
<p>A bspline curve is defined by its degree, its periodic or non-periodic nature, a table of knots and a table of poles (i.e. control points). Consequently, specify the degree, the number of knots, and for each knot, the multiplicity, for each pole, the weight. In the syntax above, the commas link the adjacent arguments which they fall between: knot and multiplicities, pole and weight.</p>
<p>The table of knots is an increasing sequence of reals without repetition. Multiplicities must be lower or equal to the degree of the curve. For non-periodic curves, the first and last multiplicities can be equal to degree+1. For a periodic curve, the first and last multiplicities must be equal.</p>
<p>The poles must be given with their weights, use weights of 1 for a non rational curve, the number of poles must be:</p>
<ul>
<li>For a non periodic curve: Sum of multiplicities - degree + 1</li>
<li>For a periodic curve: Sum of multiplicities - last multiplicity</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a bspline curve with 4 poles and 3 knots </div><div class="line">bsplinecurve bc 2 3 0 3 1 1 2 3 \ </div><div class="line">10 0 7 1 7 0 7 1 3 0 8 1 0 0 7 1 </div><div class="line"># a 2d periodic circle (parameter from 0 to 2*pi !!) </div><div class="line">dset h sqrt(3)/2 </div><div class="line">2dpbsplinecurve c 2 \ </div><div class="line">4 0 2 pi/1.5 2 pi/0.75 2 2*pi 2 \ </div><div class="line">0 -h/3 1 \ </div><div class="line">0.5 -h/3 0.5 \ </div><div class="line">0.25 h/6 1 \ </div><div class="line">0 2*h/3 0.5 \ </div><div class="line">-0.25 h/6 1 \ </div><div class="line">-0.5 -h/3 0.5 \ </div><div class="line">0 -h/3 1 </div></div><!-- fragment --><p><b>Note</b> that you can create the <b>NURBS</b> subset of bspline curves and surfaces by trimming analytical curves and surfaces and executing the command <em>convert</em>.</p>
<h3><a class="anchor" id="occt_draw_6_2_9"></a>
uiso, viso</h3>
<p>Syntax: </p><div class="fragment"><div class="line">uiso name surface u </div><div class="line">viso name surface u </div></div><!-- fragment --><p>Creates a U or V isoparametric curve from a surface.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create a cylinder and extract iso curves </div><div class="line"></div><div class="line">cylinder c 10 </div><div class="line">uiso c1 c pi/6 </div><div class="line">viso c2 c </div></div><!-- fragment --><p><b>Note</b> that this cannot be done from offset surfaces.</p>
<h3><a class="anchor" id="occt_draw_6_2_10"></a>
to3d, to2d</h3>
<p>Syntax: </p><div class="fragment"><div class="line">to3d name curve2d [plane] </div><div class="line">to2d name curve3d [plane] </div></div><!-- fragment --><p>Create respectively a 3d curve from a 2d curve and a 2d curve from a 3d curve. The transformation uses a planar surface to define the XY plane in 3d (by default this plane is the default OXYplane). <b>to3d</b> always gives a correct result, but as <b>to2d</b> is not a projection, it may surprise you. It is always correct if the curve is planar and parallel to the plane of projection. The points defining the curve are projected on the plane. A circle, however, will remain a circle and will not be changed to an ellipse.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># the following commands </div><div class="line">circle c 0 0 5 </div><div class="line">plane p -2 1 0 1 2 3 </div><div class="line">to3d c c p </div><div class="line"></div><div class="line"># will create the same circle as </div><div class="line">circle c -2 1 0 1 2 3 5 </div></div><!-- fragment --><p>See also: <b>project</b></p>
<h3><a class="anchor" id="occt_draw_6_2_11"></a>
project</h3>
<p>Syntax: </p><div class="fragment"><div class="line">project name curve3d surface </div></div><!-- fragment --><p>Computes a 2d curve in the parametric space of a surface corresponding to a 3d curve. This can only be used on analytical surfaces.</p>
<p>If we, for example, intersect a cylinder and a plane and project the resulting ellipse on the cylinder, this will create a 2d sinusoid-like bspline.</p>
<div class="fragment"><div class="line">cylinder c 5 </div><div class="line">plane p 0 0 0 0 1 1 </div><div class="line">intersect i c p </div><div class="line">project i2d i c </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_3"></a>
Surface creation</h2>
<p>The following types of surfaces exist:</p><ul>
<li>Analytical surfaces: plane, cylinder, cone, sphere, torus;</li>
<li>Polar surfaces: bezier surfaces, bspline surfaces;</li>
<li>Trimmed and Offset surfaces;</li>
<li>Surfaces produced by Revolution and Extrusion, created from curves with the <em>revsurf</em> and <em>extsurf</em>;</li>
<li>NURBS surfaces.</li>
</ul>
<p>Surfaces are displayed with isoparametric lines. To show the parameterization, a small parametric line with a length 1/10 of V is displayed at 1/10 of U.</p>
<h3><a class="anchor" id="occt_draw_6_3_1"></a>
plane</h3>
<p>Syntax: </p><div class="fragment"><div class="line">plane name [x y z [dx dy dz [ux uy uz]]]</div></div><!-- fragment --><p>Creates an infinite plane.</p>
<p>A plane is the same as a 3d coordinate system, <em>x,y,z</em> is the origin, <em>dx, dy, dz</em> is the Z direction and <em>ux, uy, uz</em> is the X direction.</p>
<p>The plane is perpendicular to Z and X is the U parameter. <em>dx,dy,dz</em> and <em>ux,uy,uz</em> must not be null or collinear. <em>ux,uy,uz</em> will be modified to be orthogonal to <em>dx,dy,dz</em>.</p>
<p>There are default values for the coordinate system. If no arguments are given, the global system (0,0,0), (0,0,1), (1,0,0). If only the origin is given, the axes are those given by default(0,0,1), (1,0,0). If the origin and the Z axis are given, the X axis is generated perpendicular to the Z axis.</p>
<p>Note that this definition will be used for all analytical surfaces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a plane through the point 10,0,0 perpendicular to X </div><div class="line"># with U direction on Y </div><div class="line">plane p1 10 0 0 1 0 0 0 1 0 </div><div class="line"></div><div class="line"># an horixontal plane with origin 10, -20, -5 </div><div class="line">plane p2 10 -20 -5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_2"></a>
cylinder</h3>
<p>Syntax: </p><div class="fragment"><div class="line">cylinder name [x y z [dx dy dz [ux uy uz]]] radius </div></div><!-- fragment --><p>A cylinder is defined by a coordinate system, and a radius. The surface generated is an infinite cylinder with the Z axis as the axis. The U parameter is the angle starting from X going in the Y direction.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a cylinder on the default Z axis, radius 10 </div><div class="line">cylinder c1 10 </div><div class="line"></div><div class="line"># a cylinder, also along the Z axis but with origin 5, </div><div class="line">10, -3 </div><div class="line">cylinder c2 5 10 -3 10 </div><div class="line"></div><div class="line"># a cylinder through the origin and on a diagonal </div><div class="line"># with longitude pi/3 and latitude pi/4 (euler angles) </div><div class="line">dset lo pi/3. la pi/4. </div><div class="line">cylinder c3 0 0 0 cos(la)*cos(lo) cos(la)*sin(lo) </div><div class="line">sin(la) 10 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_3"></a>
cone</h3>
<p>Syntax: </p><div class="fragment"><div class="line">cone name [x y z [dx dy dz [ux uy uz]]] semi-angle radius </div></div><!-- fragment --><p> Creates a cone in the infinite coordinate system along the Z-axis. The radius is that of the circle at the intersection of the cone and the XY plane. The semi-angle is the angle formed by the cone relative to the axis; it should be between -90 and 90. If the radius is 0, the vertex is the origin.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a cone at 45 degrees at the origin on Z </div><div class="line">cone c1 45 0 </div><div class="line"></div><div class="line"># a cone on axis Z with radius r1 at z1 and r2 at z2 </div><div class="line">cone c2 0 0 z1 180.*atan2(r2-r1,z2-z1)/pi r1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_4"></a>
sphere</h3>
<p>Syntax: </p><div class="fragment"><div class="line">sphere name [x y z [dx dy dz [ux uy uz]]] radius </div></div><!-- fragment --><p>Creates a sphere in the local coordinate system defined in the <b>plane</b> command. The sphere is centered at the origin.</p>
<p>To parameterize the sphere, <em>u</em> is the angle from X to Y, between 0 and 2*pi. <em>v</em> is the angle in the half-circle at angle <em>u</em> in the plane containing the Z axis. <em>v</em> is between -pi/2 and pi/2. The poles are the points Z = +/- radius; their parameters are u,+/-pi/2 for any u in 0,2*pi.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a sphere at the origin </div><div class="line">sphere s1 10 </div><div class="line"># a sphere at 10 10 10, with poles on the axis 1,1,1 </div><div class="line">sphere s2 10 10 10 1 1 1 10 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_5"></a>
torus</h3>
<p>Syntax: </p><div class="fragment"><div class="line">torus name [x y z [dx dy dz [ux uy uz]]] major minor</div></div><!-- fragment --><p>Creates a torus in the local coordinate system with the given major and minor radii. <em>Z</em> is the axis for the major radius. The major radius may be lower in value than the minor radius.</p>
<p>To parameterize a torus, <em>u</em> is the angle from X to Y; <em>v</em> is the angle in the plane at angle <em>u</em> from the XY plane to Z. <em>u</em> and <em>v</em> are in 0,2*pi.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a torus at the origin </div><div class="line">torus t1 20 5 </div><div class="line"></div><div class="line"># a torus in another coordinate system </div><div class="line">torus t2 10 5 -2 2 1 0 20 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_6"></a>
beziersurf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">beziersurf name nbupoles nbvolpes pole, [weight] </div></div><!-- fragment --><p>Use this command to create a bezier surface, rational or non-rational. First give the numbers of poles in the u and v directions.</p>
<p>Then give the poles in the following order: <em>pole(1, 1), pole(nbupoles, 1), pole(1, nbvpoles)</em> and <em>pole(nbupoles, nbvpoles)</em>.</p>
<p>Weights may be omitted, but if you give one weight you must give all of them.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a non-rational degree 2,3 surface </div><div class="line">beziersurf s 3 4 \ </div><div class="line">0 0 0 10 0 5 20 0 0 \ </div><div class="line">0 10 2 10 10 3 20 10 2 \ </div><div class="line">0 20 10 10 20 20 20 20 10 \ </div><div class="line">0 30 0 10 30 0 20 30 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_7"></a>
bsplinesurf, upbsplinesurf, vpbsplinesurf, uvpbsplinesurf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bsplinesurf name udegree nbuknots uknot umult ... nbvknot vknot </div><div class="line">vmult ... x y z w ... </div><div class="line">upbsplinesurf ... </div><div class="line">vpbsplinesurf ... </div><div class="line">uvpbsplinesurf ... </div></div><!-- fragment --><ul>
<li><b>bsplinesurf</b> generates bspline surfaces;</li>
<li><b>upbsplinesurf</b> creates a bspline surface periodic in u;</li>
<li><b>vpbsplinesurf</b> creates one periodic in v;</li>
<li><b>uvpbsplinesurf</b> creates one periodic in uv.</li>
</ul>
<p>The syntax is similar to the <em>bsplinecurve</em> command. First give the degree in u and the knots in u with their multiplicities, then do the same in v. The poles follow. The number of poles is the product of the number in u and the number in v.</p>
<p>See <em>bsplinecurve</em> to compute the number of poles, the poles are first given in U as in the <em>beziersurf</em> command. You must give weights if the surface is rational.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create a bspline surface of degree 1 2 </div><div class="line"># with two knots in U and three in V </div><div class="line">bsplinesurf s \ </div><div class="line">1 2 0 2 1 2 \ </div><div class="line">2 3 0 3 1 1 2 3 \ </div><div class="line">0 0 0 1 10 0 5 1 \ </div><div class="line">0 10 2 1 10 10 3 1 \ </div><div class="line">0 20 10 1 10 20 20 1 \ </div><div class="line">0 30 0 1 10 30 0 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_8"></a>
trim, trimu, trimv</h3>
<p>Syntax: </p><div class="fragment"><div class="line">trim newname name [u1 u2 [v1 v2]] </div><div class="line">trimu newname name </div><div class="line">trimv newname name </div></div><!-- fragment --><p>The <b>trim</b> commands create trimmed curves or trimmed surfaces. Note that trimmed curves and surfaces are classes of the <em>Geom</em> package.</p><ul>
<li><em>trim</em> creates either a new trimmed curve from a curve or a new trimmed surface in u and v from a surface.</li>
<li><em>trimu</em> creates a u-trimmed surface,</li>
<li><em>trimv</em> creates a v-trimmed surface.</li>
</ul>
<p>After an initial trim, a second execution with no parameters given recreates the basis curve. The curves can be either 2d or 3d. If the trimming parameters decrease and if the curve or surface is not periodic, the direction is reversed.</p>
<p><b>Note</b> that a trimmed curve or surface contains a copy of the basis geometry: modifying that will not modify the trimmed geometry. Trimming trimmed geometry will not create multiple levels of trimming. The basis geometry will be used.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create a 3d circle </div><div class="line">circle c 0 0 0 10 </div><div class="line"></div><div class="line"># trim it, use the same variable, the original is </div><div class="line">deleted </div><div class="line">trim c c 0 pi/2 </div><div class="line"></div><div class="line"># the original can be recovered! </div><div class="line">trim orc c </div><div class="line"></div><div class="line"># trim again </div><div class="line">trim c c pi/4 pi/2 </div><div class="line"></div><div class="line"># the original is not the trimmed curve but the basis </div><div class="line">trim orc c </div><div class="line"></div><div class="line"># as the circle is periodic, the two following commands </div><div class="line">are identical </div><div class="line">trim cc c pi/2 0 </div><div class="line">trim cc c pi/2 2*pi </div><div class="line"></div><div class="line"># trim an infinite cylinder </div><div class="line">cylinder cy 10 </div><div class="line">trimv cy cy 0 50 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_9"></a>
offset</h3>
<p>Syntax: </p><div class="fragment"><div class="line">offset name basename distance [dx dy dz]</div></div><!-- fragment --><p>Creates offset curves or surfaces at a given distance from a basis curve or surface. Offset curves and surfaces are classes from the *Geom *package.</p>
<p>The curve can be a 2d or a 3d curve. To compute the offsets for a 3d curve, you must also give a vector <em>dx,dy,dz</em>. For a planar curve, this vector is usually the normal to the plane containing the curve.</p>
<p>The offset curve or surface copies the basic geometry, which can be modified later.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># graphic demonstration that the outline of a torus </div><div class="line"># is the offset of an ellipse </div><div class="line">smallview +X+Y </div><div class="line">dset angle pi/6 </div><div class="line">torus t 0 0 0 0 cos(angle) sin(angle) 50 20 </div><div class="line">fit </div><div class="line">ellipse e 0 0 0 50 50*sin(angle) </div><div class="line"># note that the distance can be negative </div><div class="line">offset l1 e 20 0 0 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_10"></a>
revsurf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">revsurf name curvename x y z dx dy dz</div></div><!-- fragment --><p>Creates a surface of revolution from a 3d curve.</p>
<p>A surface of revolution or revolved surface is obtained by rotating a curve (called the <em>meridian</em>) through a complete revolution about an axis (referred to as the <em>axis of revolution</em>). The curve and the axis must be in the same plane (the <em>reference plane</em> of the surface). Give the point of origin x,y,z and the vector dx,dy,dz to define the axis of revolution.</p>
<p>To parameterize a surface of revolution: u is the angle of rotation around the axis. Its origin is given by the position of the meridian on the surface. v is the parameter of the meridian.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># another way of creating a torus like surface </div><div class="line">circle c 50 0 0 20 </div><div class="line">revsurf s c 0 0 0 0 1 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_11"></a>
extsurf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">extsurf newname curvename dx dy dz </div></div><!-- fragment --><p>Creates a surface of linear extrusion from a 3d curve. The basis curve is swept in a given direction,the <em>direction of extrusion</em> defined by a vector.</p>
<p>In the syntax, <em>dx,dy,dz</em> gives the direction of extrusion.</p>
<p>To parameterize a surface of extrusion: <em>u</em> is the parameter along the extruded curve; the <em>v</em> parameter is along the direction of extrusion.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># an elliptic cylinder </div><div class="line">ellipse e 0 0 0 10 5 </div><div class="line">extsurf s e 0 0 1 </div><div class="line"># to make it finite </div><div class="line">trimv s s 0 10 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_3_12"></a>
convert</h3>
<p>Syntax: </p><div class="fragment"><div class="line">convert newname name </div></div><!-- fragment --><p>Creates a 2d or 3d NURBS curve or a NURBS surface from any 2d curve, 3d curve or surface. In other words, conics, beziers and bsplines are turned into NURBS. Offsets are not processed.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># turn a 2d arc of a circle into a 2d NURBS </div><div class="line">circle c 0 0 5 </div><div class="line">trim c c 0 pi/3 </div><div class="line">convert c1 c </div><div class="line"></div><div class="line"># an easy way to make a planar bspline surface </div><div class="line">plane p </div><div class="line">trim p p -1 1 -1 1 </div><div class="line">convert p1 p </div></div><!-- fragment --><p><b>Note</b> that offset curves and surfaces are not processed by this command.</p>
<h2><a class="anchor" id="occt_draw_6_4"></a>
Curve and surface modifications</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides commands to modify curves and surfaces, some of them are general, others restricted to bezier curves or bsplines.</p>
<p>General modifications:</p>
<ul>
<li>Reversing the parametrization: <b>reverse</b>, <b>ureverse</b>, <b>vreverse</b></li>
</ul>
<p>Modifications for both bezier curves and bsplines:</p>
<ul>
<li>Exchanging U and V on a surface: <b>exchuv</b></li>
<li>Segmentation: <b>segment</b>, <b>segsur</b></li>
<li>Increasing the degree: <b>incdeg</b>, <b>incudeg</b>, <b>incvdeg</b></li>
<li>Moving poles: <b>cmovep</b>, <b>movep</b>, <b>movecolp</b>, <b>moverowp</b></li>
</ul>
<p>Modifications for bezier curves:</p>
<ul>
<li>Adding and removing poles: <b>insertpole</b>, <b>rempole</b>, <b>remcolpole</b>, <b>remrowpole</b></li>
</ul>
<p>Modifications for bspline:</p>
<ul>
<li>Inserting and removing knots: <b>insertknot</b>, <b>remknot</b>, <b>insertuknot</b>, <b>remuknot</b>, <b>insetvknot</b>, <b>remvknot</b></li>
<li>Modifying periodic curves and surfaces: <b>setperiodic</b>, <b>setnotperiodic</b>, <b>setorigin</b>, <b>setuperiodic</b>, <b>setunotperiodic</b>, <b>setuorigin</b>, <b>setvperiodic</b>, <b>setvnotperiodic</b>, <b>setvorigin</b></li>
</ul>
<h3><a class="anchor" id="occt_draw_6_4_1"></a>
reverse, ureverse, vreverse</h3>
<p>Syntax: </p><div class="fragment"><div class="line">reverse curvename </div><div class="line">ureverse surfacename </div><div class="line">vreverse surfacename </div></div><!-- fragment --><p>The <b>reverse</b> command reverses the parameterization and inverses the orientation of a 2d or 3d curve. Note that the geometry is modified. To keep the curve or the surface, you must copy it before modification.</p>
<p><b>ureverse</b> or <b>vreverse</b> reverse the u or v parameter of a surface. Note that the new parameters of the curve may change according to the type of curve. For instance, they will change sign on a line or stay 0,1 on a bezier.</p>
<p>Reversing a parameter on an analytical surface may create an indirect coordinate system.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># reverse a trimmed 2d circle </div><div class="line">circle c 0 0 5 </div><div class="line">trim c c pi/4 pi/2 </div><div class="line">reverse c </div><div class="line"></div><div class="line"># dumping c will show that it is now trimmed between </div><div class="line"># 3*pi/2 and 7*pi/4 i.e. 2*pi-pi/2 and 2*pi-pi/4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_2"></a>
exchuv</h3>
<p>Syntax: </p><div class="fragment"><div class="line">exchuv surfacename </div></div><!-- fragment --><p>For a bezier or bspline surface this command exchanges the u and v parameters.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># exchanging u and v on a spline (made from a cylinder) </div><div class="line">cylinder c 5 </div><div class="line">trimv c c 0 10 </div><div class="line">convert c1 c </div><div class="line">exchuv c1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_3"></a>
segment, segsur</h3>
<p>Syntax: </p><div class="fragment"><div class="line">segment curve Ufirst Ulast </div><div class="line">segsur surface Ufirst Ulast Vfirst Vlast </div></div><!-- fragment --><p><b>segment</b> and <b>segsur</b> segment a bezier curve and a bspline curve or surface respectively.</p>
<p>These commands modify the curve to restrict it between the new parameters: <em>Ufirst</em>, the starting point of the modified curve, and <em>Ulast</em>, the end point. <em>Ufirst</em> is less than <em>Ulast</em>.</p>
<p>This command must not be confused with <b>trim</b> which creates a new geometry.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># segment a bezier curve in half </div><div class="line">beziercurve c 3 0 0 0 10 0 0 10 10 0 </div><div class="line">segment c ufirst ulast </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_4"></a>
iincudeg, incvdeg</h3>
<p>Syntax: </p><div class="fragment"><div class="line">incudeg surfacename newdegree </div><div class="line">incvdeg surfacename newdegree </div></div><!-- fragment --><p><b>incudeg</b> and <b>incvdeg</b> increase the degree in the U or V parameter of a bezier or bspline surface.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># make a planar bspline and increase the degree to 2 3 </div><div class="line">plane p </div><div class="line">trim p p -1 1 -1 1 </div><div class="line">convert p1 p </div><div class="line">incudeg p1 2 </div><div class="line">incvdeg p1 3 </div></div><!-- fragment --><p><b>Note</b> that the geometry is modified.</p>
<h3><a class="anchor" id="occt_draw_6_4_5"></a>
cmovep, movep, movecolp, moverowp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">cmovep curve index dx dy [dz] </div><div class="line">movep surface uindex vindex dx dy dz </div><div class="line">movecolp surface uindex dx dy dz </div><div class="line">moverowp surface vindex dx dy dz </div></div><!-- fragment --><p><b>move</b> methods translate poles of a bezier curve, a bspline curve or a bspline surface.</p><ul>
<li><b>cmovep</b> and <b>movep</b> translate one pole with a given index.</li>
<li><b>movecolp</b> and <b>moverowp</b> translate a whole column (expressed by the <em>uindex</em>) or row (expressed by the <em>vindex</em>) of poles.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># start with a plane </div><div class="line"># transform to bspline, raise degree and add relief </div><div class="line">plane p </div><div class="line">trim p p -10 10 -10 10 </div><div class="line">convert p1 p </div><div class="line">incud p1 2 </div><div class="line">incvd p1 2 </div><div class="line">movecolp p1 2 0 0 5 </div><div class="line">moverowp p1 2 0 0 5 </div><div class="line">movep p1 2 2 0 0 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_6"></a>
insertpole, rempole, remcolpole, remrowpole</h3>
<p>Syntax: </p><div class="fragment"><div class="line">insertpole curvename index x y [z] [weight] </div><div class="line">rempole curvename index </div><div class="line">remcolpole surfacename index </div><div class="line">remrowpole surfacename index</div></div><!-- fragment --><p><b>insertpole</b> inserts a new pole into a 2d or 3d bezier curve. You may add a weight for the pole. The default value for the weight is 1. The pole is added at the position after that of the index pole. Use an index 0 to insert the new pole before the first one already existing in your drawing.</p>
<p><b>rempole</b> removes a pole from a 2d or 3d bezier curve. Leave at least two poles in the curves.</p>
<p><b>remcolpole</b> and <b>remrowpole</b> remove a column or a row of poles from a bezier surface. A column is in the v direction and a row in the u direction The resulting degree must be at least 1; i.e there will be two rows and two columns left.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># start with a segment, insert a pole at end </div><div class="line"># then remove the central pole </div><div class="line">beziercurve c 2 0 0 0 10 0 0 </div><div class="line">insertpole c 2 10 10 0 </div><div class="line">rempole c 2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_7"></a>
insertknot, insertuknot, insertvknot</h3>
<p>Syntax: </p><div class="fragment"><div class="line">insertknot name knot [mult = 1] [knot mult ...] </div><div class="line">insertuknot surfacename knot mult </div><div class="line">insertvknot surfacename knot mult </div></div><!-- fragment --><p><b>insertknot</b> inserts knots in the knot sequence of a bspline curve. You must give a knot value and a target multiplicity. The default multiplicity is 1. If there is already a knot with the given value and a multiplicity lower than the target one, its multiplicity will be raised.</p>
<p><b>insertuknot</b> and <b>insertvknot</b> insert knots in a surface.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create a cylindrical surface and insert a knot </div><div class="line">cylinder c 10 </div><div class="line">trim c c 0 pi/2 0 10 </div><div class="line">convert c1 c </div><div class="line">insertuknot c1 pi/4 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_8"></a>
remknot, remuknot, remvknot</h3>
<p>Syntax: </p><div class="fragment"><div class="line">remknot index [mult] [tol] </div><div class="line">remuknot index [mult] [tol] </div><div class="line">remvknot index [mult] [tol] </div></div><!-- fragment --><p><b>remknot</b> removes a knot from the knot sequence of a curve or a surface. Give the index of the knot and optionally, the target multiplicity. If the target multiplicity is not 0, the multiplicity of the knot will be lowered. As the curve may be modified, you are allowed to set a tolerance to control the process. If the tolerance is low, the knot will only be removed if the curve will not be modified.</p>
<p>By default, if no tolerance is given, the knot will always be removed.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># bspline circle, remove a knot </div><div class="line">circle c 0 0 5 </div><div class="line">convert c1 c </div><div class="line">incd c1 5 </div><div class="line">remknot c1 2 </div></div><!-- fragment --><p><b>Note</b> that Curves or Surfaces may be modified.</p>
<h3><a class="anchor" id="occt_draw_6_4_9"></a>
setperiodic, setnotperiodic, setuperiodic, setunotperiodic, setvperiodic, setvnotperiodic</h3>
<p>Syntax: </p><div class="fragment"><div class="line">setperiodic curve </div><div class="line">setnotperiodic curve </div><div class="line">setuperiodic surface </div><div class="line">setunotperiodic surface </div><div class="line">setvperiodic surface </div><div class="line">setvnotperiodic surface</div></div><!-- fragment --><p><b>setperiodic</b> turns a bspline curve into a periodic bspline curve; the knot vector stays the same and excess poles are truncated. The curve may be modified if it has not been closed. <b>setnotperiodic</b> removes the periodicity of a periodic curve. The pole table mau be modified. Note that knots are added at the beginning and the end of the knot vector and the multiplicities are knots set to degree+1 at the start and the end.</p>
<p><b>setuperiodic</b> and <b>setvperiodic</b> make the u or the v parameter of bspline surfaces periodic; <b>setunotperiodic</b>, and <b>setvnotperiodic</b> remove periodicity from the u or the v parameter of bspline surfaces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a circle deperiodicized </div><div class="line">circle c 0 0 5 </div><div class="line">convert c1 c </div><div class="line">setnotperiodic c1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_4_10"></a>
setorigin, setuorigin, setvorigin</h3>
<p>Syntax: </p><div class="fragment"><div class="line">setorigin curvename index </div><div class="line">setuorigin surfacename index </div><div class="line">setuorigin surfacename index </div></div><!-- fragment --><p>These commands change the origin of the parameters on periodic curves or surfaces. The new origin must be an existing knot. To set an origin other than an existing knot, you must first insert one with the <em>insertknot</em> command.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a torus with new U and V origins </div><div class="line">torus t 20 5 </div><div class="line">convert t1 t </div><div class="line">setuorigin t1 2 </div><div class="line">setvorigin t1 2</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_5"></a>
Transformations</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides commands to apply linear transformations to geometric objects: they include translation, rotation, mirroring and scaling.</p>
<h3><a class="anchor" id="occt_draw_6_5_1"></a>
translate, dtranslate</h3>
<p>Syntax: </p><div class="fragment"><div class="line">translate name [names ...] dx dy dz </div><div class="line">2dtranslate name [names ...] dx dy </div></div><!-- fragment --><p>The <b>Translate</b> command translates 3d points, curves and surfaces along a vector <em>dx,dy,dz</em>. You can translate more than one object with the same command.</p>
<p>For 2d points or curves, use the <b>2dtranslate</b> command.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># 3d tranlation </div><div class="line">point p 10 20 30 </div><div class="line">circle c 10 20 30 5 </div><div class="line">torus t 10 20 30 5 2 </div><div class="line">translate p c t 0 0 15</div></div><!-- fragment --><p><em>NOTE</em> <em>Objects are modified by this command.</em></p>
<h3><a class="anchor" id="occt_draw_6_5_2"></a>
rotate, 2drotate</h3>
<p>Syntax: </p><div class="fragment"><div class="line">rotate name [name ...] x y z dx dy dz angle </div><div class="line">2drotate name [name ...] x y angle</div></div><!-- fragment --><p>The <b>rotate</b> command rotates a 3d point curve or surface. You must give an axis of rotation with a point <em>x,y,z</em>, a vector <em>dx,dy,dz</em> and an angle in degrees.</p>
<p>For a 2d rotation, you need only give the center point and the angle. In 2d or 3d, the angle can be negative.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># make a helix of circles. create a script file with </div><div class="line">this code and execute it using **source**. </div><div class="line">circle c0 10 0 0 3 </div><div class="line">for {set i 1} {$i &lt;= 10} {incr i} { </div><div class="line">copy c[expr $i-1] c$i </div><div class="line">translate c$i 0 0 3 </div><div class="line">rotate c$i 0 0 0 0 0 1 36 </div><div class="line">} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_5_3"></a>
pmirror, lmirror, smirror, dpmirror, dlmirror</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pmirror name [names ...] x y z </div><div class="line">lmirror name [names ...] x y z dx dy dz </div><div class="line">smirror name [names ...] x y z dx dy dz </div><div class="line">2dpmirror name [names ...] x y </div><div class="line">2dlmirror name [names ...] x y dx dy </div></div><!-- fragment --><p>The mirror commands perform a mirror transformation of 2d or 3d geometry.</p>
<ul>
<li><b>pmirror</b> is the point mirror, mirroring 3d curves and surfaces about a point of symmetry.</li>
<li><b>lmirror</b> is the line mirror commamd, mirroring 3d curves and surfaces about an axis of symmetry.</li>
<li><b>smirror</b> is the surface mirror, mirroring 3d curves and surfaces about a plane of symmetry. In the last case, the plane of symmetry is perpendicular to dx,dy,dz.</li>
<li><b>2dpmirror</b> is the point mirror in 2D.</li>
<li><b>2dlmirror</b> is the axis symmetry mirror in 2D.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># build 3 images of a torus </div><div class="line">torus t 10 10 10 1 2 3 5 1 </div><div class="line">copy t t1 </div><div class="line">pmirror t1 0 0 0 </div><div class="line">copy t t2 </div><div class="line">lmirror t2 0 0 0 1 0 0 </div><div class="line">copy t t3 </div><div class="line">smirror t3 0 0 0 1 0 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_5_4"></a>
pscale, dpscale</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pscale name [name ...] x y z s </div><div class="line">2dpscale name [name ...] x y s </div></div><!-- fragment --><p>The <b>pscale</b> and <b>2dpscale</b> commands transform an object by point scaling. You must give the center and the scaling factor. Because other scalings modify the type of the object, they are not provided. For example, a sphere may be transformed into an ellipsoid. Using a scaling factor of -1 is similar to using <b>pmirror</b>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># double the size of a sphere </div><div class="line">sphere s 0 0 0 10 </div><div class="line">pscale s 0 0 0 2 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_6"></a>
Curve and surface analysis</h2>
<p><b><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a></b> provides methods to compute information about curves and surfaces:</p>
<ul>
<li><b>coord</b> to find the coordinates of a point.</li>
<li><b>cvalue</b> and <b>2dcvalue</b> to compute points and derivatives on curves.</li>
<li><b>svalue</b> to compute points and derivatives on a surface.</li>
<li><b>localprop</b> and <b>minmaxcurandif</b> to compute the curvature on a curve.</li>
<li><b>parameters</b> to compute (u,v) values for a point on a surface.</li>
<li><b>proj</b> and <b>2dproj</b> to project a point on a curve or a surface.</li>
<li><b>surface_radius</b> to compute the curvature on a surface.</li>
</ul>
<h3><a class="anchor" id="occt_draw_6_6_1"></a>
coord</h3>
<p>Syntax: </p><div class="fragment"><div class="line">coord P x y [z] </div></div><!-- fragment --><p>Sets the x, y (and optionally z) coordinates of the point P.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># translate a point </div><div class="line">point p 10 5 5 </div><div class="line">translate p 5 0 0 </div><div class="line">coord p x y z </div><div class="line"># x value is 15 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_6_2"></a>
cvalue, 2dcvalue</h3>
<p>Syntax: </p><div class="fragment"><div class="line">cvalue curve U x y z [d1x d1y d1z [d2x d2y d2z]] </div><div class="line">2dcvalue curve U x y [d1x d1y [d2x d2y]] </div></div><!-- fragment --><p>For a curve at a given parameter, and depending on the number of arguments, <b>cvalue</b> computes the coordinates in <em>x,y,z</em>, the first derivative in <em>d1x,d1y,d1z</em> and the second derivative in <em>d2x,d2y,d2z</em>.</p>
<p><b>Example:</b></p>
<p>Let on a bezier curve at parameter 0 the point is the first pole; the first derivative is the vector to the second pole multiplied by the degree; the second derivative is the difference first to the second pole, second to the third pole multipied by <em>degree-1</em> :</p>
<div class="fragment"><div class="line">2dbeziercurve c 4 0 0 1 1 2 1 3 0 </div><div class="line">2dcvalue c 0 x y d1x d1y d2x d2y </div><div class="line"></div><div class="line"># values of x y d1x d1y d2x d2y </div><div class="line"># are 0 0 3 3 0 -6 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_6_3"></a>
svalue</h3>
<p>Syntax: </p><div class="fragment"><div class="line">svalue surfname U v x y z [dux duy duz dvx dvy dvz [d2ux d2uy d2uz d2vx d2vy d2vz d2uvx d2uvy d2uvz]] </div></div><!-- fragment --><p>Computes points and derivatives on a surface for a pair of parameter values. The result depends on the number of arguments. You can compute the first and the second derivatives.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># display points on a sphere </div><div class="line">sphere s 10 </div><div class="line">for {dset t 0} {[dval t] &lt;= 1} {dset t t+0.01} { </div><div class="line">svalue s t*2*pi t*pi-pi/2 x y z </div><div class="line">point . x y z </div><div class="line">} </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_6_4"></a>
localprop, minmaxcurandinf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">localprop curvename U </div><div class="line">minmaxcurandinf curve</div></div><!-- fragment --><p><b>localprop</b> computes the curvature of a curve. <b>minmaxcurandinf</b> computes and prints the parameters of the points where the curvature is minimum and maximum on a 2d curve.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># show curvature at the center of a bezier curve </div><div class="line">beziercurve c 3 0 0 0 10 2 0 20 0 0 </div><div class="line">localprop c 0.5 </div><div class="line">== Curvature : 0.02 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_6_5"></a>
parameters</h3>
<p>Syntax: </p><div class="fragment"><div class="line">parameters surf/curve x y z U [V] </div></div><!-- fragment --><p>Returns the parameters on the surface of the 3d point <em>x,y,z</em> in variables <em>u</em> and <em>v</em>. This command may only be used on analytical surfaces: plane, cylinder, cone, sphere and torus.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># Compute parameters on a plane </div><div class="line">plane p 0 0 10 1 1 0 </div><div class="line">parameters p 5 5 5 u v </div><div class="line"># the values of u and v are : 0 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_6_6"></a>
proj, 2dproj</h3>
<p>Syntax: </p><div class="fragment"><div class="line">proj name x y z </div><div class="line">2dproj name xy </div></div><!-- fragment --><p>Use <b>proj</b> to project a point on a 3d curve or a surface and <b>2dproj</b> for a 2d curve.</p>
<p>The command will compute and display all points in the projection. The lines joining the point to the projections are created with the names *ext_1, ext_2, ... *</p>
<p><b>Example:</b></p>
<p>Let us project a point on a torus</p>
<div class="fragment"><div class="line">torus t 20 5 </div><div class="line">proj t 30 10 7 </div><div class="line">== ext_1 ext_2 ext_3 ext_4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_6_7"></a>
surface_radius</h3>
<p>Syntax: </p><div class="fragment"><div class="line">surface_radius surface u v [c1 c2] </div></div><!-- fragment --><p>Computes the main curvatures of a surface at parameters *(u,v)*. If there are extra arguments, their curvatures are stored in variables <em>c1</em> and <em>c2</em>.</p>
<p><b>Example:</b></p>
<p>Let us compute curvatures of a cylinder:</p>
<div class="fragment"><div class="line">cylinder c 5 </div><div class="line">surface_radius c pi 3 c1 c2 </div><div class="line">== Min Radius of Curvature : -5 </div><div class="line">== Min Radius of Curvature : infinite </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_7"></a>
Intersections</h2>
<ul>
<li><b>intersect</b> computes intersections of surfaces;</li>
<li><b>2dintersect</b> computes intersections of 2d curves.</li>
<li><b>intconcon</b> computes intersections of 2d conic curves.</li>
</ul>
<h3><a class="anchor" id="occt_draw_6_7_1"></a>
intersect</h3>
<p>Syntax: </p><div class="fragment"><div class="line">intersect name surface1 surface2</div></div><!-- fragment --><p>Intersects two surfaces; if there is one intersection curve it will be named <em>name</em>, if there are more than one they will be named <em>name_1</em>, <em>name_2</em>, ...</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create an ellipse </div><div class="line">cone c 45 0 </div><div class="line">plane p 0 0 40 0 1 5 </div><div class="line">intersect e c p </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_7_2"></a>
2dintersect</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dintersect curve1 [curve2] [-tol tol] [-state]</div></div><!-- fragment --><p>Displays the intersection points between 2d curves. Options: -tol - allows changing the intersection tolerance (default value is 1.e-3); -state - allows printing the intersection state for each point.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># intersect two 2d ellipses </div><div class="line">ellipse e1 0 0 5 2 </div><div class="line">ellipse e2 0 0 0 1 5 2 </div><div class="line">2dintersect e1 e2 -tol 1.e-10 -state</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_7_3"></a>
intconcon</h3>
<p>Syntax: </p><div class="fragment"><div class="line">intconcon curve1 curve2 </div></div><!-- fragment --><p>Displays the intersection points between two 2d curves. Curves must be only conic sections: 2d lines, circles, ellipses, hyperbolas, parabolas. The algorithm from <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_int_ana2d___ana_intersection.html">IntAna2d_AnaIntersection</a></em> is used.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># intersect two 2d ellipses </div><div class="line">ellipse e1 0 0 5 2 </div><div class="line">ellipse e2 0 0 0 1 5 2 </div><div class="line">intconcon e1 e2 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_8"></a>
Approximations</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides command to create curves and surfaces by approximation.</p>
<ul>
<li><b>2dapprox</b> fits a curve through 2d points;</li>
<li><b>appro</b> fits a curve through 3d points;</li>
<li><b>surfapp</b> and <b>grilapp</b> fit a surface through 3d points by approximation;</li>
<li><b>surfint</b> fit a surface through 3d points by interpolation;</li>
<li><b>2dinterpole</b> interpolates a curve.</li>
</ul>
<h3><a class="anchor" id="occt_draw_6_8_1"></a>
appro, dapprox</h3>
<p>Syntax: </p><div class="fragment"><div class="line">appro result nbpoint [curve] </div><div class="line">2dapprox result nbpoint [curve / x1 y1 x2 y2]</div></div><!-- fragment --><p>These commands fit a curve through a set of points. First give the number of points, then choose one of the three ways available to get the points. If you have no arguments, click on the points. If you have a curve argument or a list of points, the command launches computation of the points on the curve.</p>
<p><b>Example:</b></p>
<p>Let us pick points and they will be fitted</p>
<div class="fragment"><div class="line">2dapprox c 10 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_8_2"></a>
surfapp, grilapp, surfint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">surfapp name nbupoints nbvpoints x y z .... </div><div class="line">or</div><div class="line">surfapp name nbupoints nbvpoints surf [periodic_flag = 0]</div><div class="line">grilapp name nbupoints nbvpoints xo dx yo dy z11 z12 ... </div><div class="line">surfint name surf nbupoints nbvpoints [periodic_flag = 0]</div></div><!-- fragment --><ul>
<li><b>surfapp</b> fits a surface through an array of u and v points, nbupoints*nbvpoints.</li>
<li><b>grilapp</b> has the same function, but the x,y coordinates of the points are on a grid starting at x0,y0 with steps dx,dy.</li>
<li><b>surfapp</b> can take array of points from other input surface, if alternative syntax <b>surfapp</b> name nbupoints nbvpoints surf [periodic_flag = 0] is used. Both command use for fitting approximation algorithm. <b>surfint</b> uses interpolation algorithm and can take array of point only from other input surface. Optional parameter <b>periodic_flag</b> allows to get correct periodical surfaces in U direction. U direction of result surface corresponds colums of initial array of points. If <b>periodic_flag</b> = 1, algorithm uses first row of array as last row and builds periodical surface.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a surface using the same data as in the beziersurf </div><div class="line">example sect 4.4 </div><div class="line">surfapp s 3 4 \ </div><div class="line">0 0 0 10 0 5 20 0 0 \ </div><div class="line">0 10 2 10 10 3 20 10 2 \ </div><div class="line">0 20 10 10 20 20 20 20 10 \ </div><div class="line">0 30 0 10 30 0 20 30 0 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_9"></a>
Projections</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides commands to project points/curves on curves/surfaces.</p>
<ul>
<li><b>proj</b> projects point on the curve/surface (see <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_6">proj command description</a>);</li>
<li><b>project</b> projects 3D curve on the surface (see <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_2_11">project command description</a>);</li>
<li><b>projponf</b> projects point on the face.</li>
</ul>
<h3><a class="anchor" id="occt_draw_6_9_1"></a>
projponf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">projponf face pnt [extrema flag: -min/-max/-minmax] [extrema algo: -g(grad)/-t(tree)]</div></div><!-- fragment --><p><b>projponf</b> projects point <em>pnt</em> on the face <em>face</em>. You can change the Extrema options:</p><ul>
<li>To change the Extrema search algorithm use the following options:<br />
 -g - for Grad algorithm;<br />
 -t - for Tree algorithm;</li>
<li>To change the Extrema search solutions use the following options:<br />
 -min - to look for Min solutions;<br />
 -max - to look for Max solutions;<br />
 -minmax - to look for MinMax solutions.</li>
</ul>
<p><b>Example</b> </p><div class="fragment"><div class="line">plane p 0 0 0 0 0 1</div><div class="line">mkface f p</div><div class="line">point pnt 5 5 10</div><div class="line"></div><div class="line">projponf f pnt</div><div class="line"># proj dist = 10</div><div class="line"># uvproj = 5 5</div><div class="line"># pproj = 5 5 0</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_10"></a>
Constraints</h2>
<ul>
<li><b>cirtang</b> constructs 2d circles tangent to curves;</li>
<li><b>lintan</b> constructs 2d lines tangent to curves.</li>
</ul>
<h3><a class="anchor" id="occt_draw_6_10_1"></a>
cirtang</h3>
<p>Syntax: </p><div class="fragment"><div class="line">cirtang result [-t &lt;Tolerance&gt;] -c &lt;curve&gt; -p &lt;point&gt; -r &lt;Radius&gt;...</div></div><!-- fragment --><p>Builds all circles satisfying the condition:</p><ol type="1">
<li>the circle must be tangent to every given curve;</li>
<li>the circle must pass through every given point;</li>
<li>the radius of the circle must be equal to the requested one.</li>
</ol>
<p>Only following set of input data is supported: Curve-Curve-Curve, Curve-Curve-Point, Curve-Curve-Radius, Curve-Point-Point, Curve-Point-Radius, Point-Point-Point, Point-Point-Radius. The solutions will be stored in variables <em>result_1</em>, <em>result_2</em>, etc.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a point, a line and a radius. 2 solutions of type Curve-Point-Radius (C-P-R)</div><div class="line">point p 0 0 </div><div class="line">line l 10 0 -1 1 </div><div class="line">cirtang c -p p -c l -r 4 </div><div class="line">== Solution of type C-P-R is: c_1 c_2</div></div><!-- fragment --><p>Additionally it is possible to create a circle(s) with given center and tangent to the given curve (Curve-Point type).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">point pp 1 1</div><div class="line">2dbsplinecurve cc 1 2 0 2 1 2 -10 -5 1 10 -5 1</div><div class="line">cirtang r -p pp -c cc </div><div class="line">== Solution of type C-P is: r_1 r_2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_10_2"></a>
lintan</h3>
<p>Syntax: </p><div class="fragment"><div class="line">lintan name curve curve [angle] </div></div><!-- fragment --><p>Builds all 2d lines tangent to two curves. If the third angle argument is given the second curve must be a line and <b>lintan</b> will build all lines tangent to the first curve and forming the given angle with the line. The angle is given in degrees. The solutions are named <em>name_1</em>, <em>name_2</em>, etc.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># lines tangent to 2 circles, 4 solutions </div><div class="line">circle c1 -10 0 10 </div><div class="line">circle c2 10 0 5 </div><div class="line">lintan l c1 c2 </div><div class="line"></div><div class="line"># lines at 15 degrees tangent to a circle and a line, 2 </div><div class="line">solutions: l1_1 l1_2 </div><div class="line">circle c1 -10 0 1 </div><div class="line">line l 2 0 1 1 </div><div class="line">lintan l1 c1 l 15 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_6_11"></a>
Display</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides commands to control the display of geometric objects. Some display parameters are used for all objects, others are valid for surfaces only, some for bezier and bspline only, and others for bspline only.</p>
<p>On curves and surfaces, you can control the mode of representation with the <b>dmode</b> command. You can control the parameters for the mode with the <b>defle</b> command and the <b>discr</b> command, which control deflection and discretization respectively.</p>
<p>On surfaces, you can control the number of isoparametric curves displayed on the surface with the <b>nbiso</b> command.</p>
<p>On bezier and bspline curve and surface you can toggle the display of the control points with the <b>clpoles</b> and <b>shpoles</b> commands.</p>
<p>On bspline curves and surfaces you can toggle the display of the knots with the <b>shknots</b> and <b>clknots</b> commands.</p>
<h3><a class="anchor" id="occt_draw_6_11_1"></a>
dmod, discr, defle</h3>
<p>Syntax: </p><div class="fragment"><div class="line">dmode name [name ...] u/d </div><div class="line">discr name [name ...] nbintervals </div><div class="line">defle name [name ...] deflection </div></div><!-- fragment --><p><b>dmod</b> command allows choosing the display mode for a curve or a surface.</p>
<p>In mode <em>u</em>, or <em>uniform deflection</em>, the points are computed to keep the polygon at a distance lower than the deflection of the geometry. The deflection is set with the <em>defle</em> command. This mode involves intensive use of computational power.</p>
<p>In <em>d</em>, or discretization mode, a fixed number of points is computed. This number is set with the <em>discr</em> command. This is the default mode. On a bspline, the fixed number of points is computed for each span of the curve. (A span is the interval between two knots).</p>
<p>If the curve or the isolines seem to present too many angles, you can either increase the discretization or lower the deflection, depending on the mode. This will increase the number of points.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># increment the number of points on a big circle </div><div class="line">circle c 0 0 50 50 </div><div class="line">discr 100 </div><div class="line"></div><div class="line"># change the mode </div><div class="line">dmode c u </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_11_2"></a>
nbiso</h3>
<p>Syntax: </p><div class="fragment"><div class="line">nbiso name [names...] nuiso nviso </div></div><!-- fragment --><p>Changes the number of isoparametric curves displayed on a surface in the U and V directions. On a bspline surface, isoparametric curves are displayed by default at knot values. Use <em>nbiso</em> to turn this feature off.</p>
<p><b>Example:</b></p>
<p>Let us display 35 meridians and 15 parallels on a sphere: </p><div class="fragment"><div class="line">sphere s 20 </div><div class="line">nbiso s 35 15 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_11_3"></a>
clpoles, shpoles</h3>
<p>Syntax: </p><div class="fragment"><div class="line">clpoles name </div><div class="line">shpoles name </div></div><!-- fragment --><p>On bezier and bspline curves and surfaces, the control polygon is displayed by default: <em>clpoles</em> erases it and <em>shpoles</em> restores it.</p>
<p><b>Example:</b></p>
<p>Let us make a bezier curve and erase the poles</p>
<div class="fragment"><div class="line">beziercurve c 3 0 0 0 10 0 0 10 10 0 </div><div class="line">clpoles c </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_6_11_4"></a>
clknots, shknots</h3>
<p>Syntax: </p><div class="fragment"><div class="line">clknots name </div><div class="line">shknots name </div></div><!-- fragment --><p>By default, knots on a bspline curve or surface are displayed with markers at the points with parametric value equal to the knots. <em>clknots</em> removes them and <em>shknots</em> restores them.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># hide the knots on a bspline curve </div><div class="line">bsplinecurve bc 2 3 0 3 1 1 2 3 \ </div><div class="line">10 0 7 1 7 0 7 1 3 0 8 1 0 0 7 1 </div><div class="line">clknots bc</div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_7"></a>
Topology commands</h1>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> provides a set of commands to test OCCT Topology libraries. The <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> commands are found in the DRAWEXE executable or in any executable including the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_test.html">BRepTest</a> commands.</p>
<p>Topology defines the relationship between simple geometric entities, which can thus be linked together to represent complex shapes. The type of variable used by Topology in <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> is the shape variable.</p>
<p>The <a href="user_guides__modeling_data.html#occt_modat_5">different topological shapes</a> include:</p>
<ul>
<li><b>COMPOUND</b>: A group of any type of topological object.</li>
<li><b>COMPSOLID</b>: A set of solids connected by their faces. This expands the notions of WIRE and SHELL to solids.</li>
<li><b>SOLID</b>: A part of space limited by shells. It is three dimensional.</li>
<li><b>SHELL</b>: A set of faces connected by their edges. A shell can be open or closed.</li>
<li><b>FACE</b>: In 2d, a plane; in 3d, part of a surface. Its geometry is constrained (trimmed) by contours. It is two dimensional.</li>
<li><b>WIRE</b>: A set of edges connected by their vertices. It can be open or closed depending on whether the edges are linked or not.</li>
<li><b>EDGE</b>: A topological element corresponding to a restrained curve. An edge is generally limited by vertices. It has one dimension.</li>
<li><b>VERTEX</b>: A topological element corresponding to a point. It has a zero dimension.</li>
</ul>
<p>Shapes are usually shared. <b>copy</b> will create a new shape which shares its representation with the original. Nonetheless, two shapes sharing the same topology can be moved independently (see the section on <b>transformation</b>).</p>
<p>The following topics are covered in the eight sections of this chapter:</p>
<ul>
<li>Basic shape commands to handle the structure of shapes and control the display.</li>
<li>Curve and surface topology, or methods to create topology from geometry and vice versa.</li>
<li>Primitive construction commands: box, cylinder, wedge etc.</li>
<li>Sweeping of shapes.</li>
<li>Transformations of shapes: translation, copy, etc.</li>
<li>Topological operations, or booleans.</li>
<li>Drafting and blending.</li>
<li>Defeaturing.</li>
<li>Making shapes periodic in 3D space.</li>
<li>Making shapes connected.</li>
<li>Analysis of shapes.</li>
</ul>
<h2><a class="anchor" id="occt_draw_7_1"></a>
Basic topology</h2>
<p>The set of basic commands allows simple operations on shapes, or step-by-step construction of objects. These commands are useful for analysis of shape structure and include:</p>
<ul>
<li><b>isos</b> and <b>discretisation</b> to control display of shape faces by isoparametric curves .</li>
<li><b>orientation</b>, <b>complement</b> and <b>invert</b> to modify topological attributes such as orientation.</li>
<li><b>explode</b>, <b>exwire</b> and <b>nbshapes</b> to analyze the structure of a shape.</li>
<li><b>emptycopy</b>, <b>add</b>, <b>compound</b> to create shapes by stepwise construction.</li>
</ul>
<p>In <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>, shapes are displayed using isoparametric curves. There is color coding for the edges:</p>
<ul>
<li>a red edge is an isolated edge, which belongs to no faces.</li>
<li>a green edge is a free boundary edge, which belongs to one face,</li>
<li>a yellow edge is a shared edge, which belongs to at least two faces.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_1_1"></a>
isos, discretisation</h3>
<p>Syntax: </p><div class="fragment"><div class="line">isos [name ...][nbisos] </div><div class="line">discretisation nbpoints</div></div><!-- fragment --><p>Determines or changes the number of isoparametric curves on shapes.</p>
<p>The same number is used for the u and v directions. With no arguments, <em>isos</em> prints the current default value. To determine, the number of isos for a shape, give it name as the first argument.</p>
<p><em>discretisation</em> changes the default number of points used to display the curves. The default value is 30.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># Display only the edges (the wireframe) </div><div class="line">isos 0 </div></div><!-- fragment --><p><b>Warning</b>: don’t confuse <em>isos</em> and <em>discretisation</em> with the geometric commands <em>nbisos</em> and <em>discr</em>.</p>
<h3><a class="anchor" id="occt_draw_7_1_2"></a>
orientation, complement, invert, normals, range</h3>
<p>Syntax: </p><div class="fragment"><div class="line">orientation name [name ...] F/R/E/I </div><div class="line">complement name [name ...] </div><div class="line">invert name </div><div class="line">normals s (length = 10), disp normals </div><div class="line">range name value value </div></div><!-- fragment --><ul>
<li><b>orientation</b> &ndash; assigns the orientation of simple and complex shapes to one of the following four values: <em>FORWARD, REVERSED, INTERNAL, EXTERNAL</em>.</li>
<li><b>complement</b> &ndash; changes the current orientation of shapes to its complement: <em>FORWARD</em> to <em>REVERSED</em> and <em>INTERNAL</em> to <em>EXTERNAL</em>.</li>
<li><b>invert</b> &ndash; creates a copy of the original shape with a reversed orientation of all subshapes. For example, it may be useful to reverse the normals of a solid.</li>
<li>*normals** &ndash; returns the assignment of colors to orientation values.</li>
<li><b>range</b> &ndash; defines the length of a selected edge by defining the values of a starting point and an end point.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># to invert normals of a box </div><div class="line">box b 10 20 30 </div><div class="line">normals b 5 </div><div class="line">invert b </div><div class="line">normals b 5 </div><div class="line"></div><div class="line"># to assign a value to an edge </div><div class="line">box b1 10 20 30 </div><div class="line"># to define the box as edges </div><div class="line">explode b1 e </div><div class="line">b_1 b_2 b_3 b_4 b_5 b_6 b_7 b_8 b_9 b_10 b_11 b_12 </div><div class="line"># to define as an edge </div><div class="line">makedge e 1 </div><div class="line"># to define the length of the edge as starting from 0 </div><div class="line">and finishing at 1 </div><div class="line">range e 0 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_1_3"></a>
explode, exwire, nbshapes</h3>
<p>Syntax: </p><div class="fragment"><div class="line">explode name [C/So/Sh/F/W/E/V] </div><div class="line">exwire name </div><div class="line">nbshapes name </div></div><!-- fragment --><p><b>explode</b> extracts subshapes from an entity. The subshapes will be named <em>name_1</em>, <em>name_2</em>, ... Note that they are not copied but shared with the original.</p>
<p>With name only, <b>explode</b> will extract the first sublevel of shapes: the shells of a solid or the edges of a wire, for example. With one argument, <b>explode</b> will extract all subshapes of that type: <em>C</em> for compounds, <em>So</em> for solids, <em>Sh</em> for shells, <em>F</em> for faces, <em>W</em> for wires, <em>E</em> for edges, <em>V</em> for vertices.</p>
<p><b>exwire</b> is a special case of <b>explode</b> for wires, which extracts the edges in an ordered way, if possible. Each edge, for example, is connected to the following one by a vertex.</p>
<p><b>nbshapes</b> counts the number of shapes of each type in an entity.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># on a box </div><div class="line">box b 10 20 30 </div><div class="line"></div><div class="line"># whatis returns the type and various information </div><div class="line">whatis b </div><div class="line">= b is a shape SOLID FORWARD Free Modified </div><div class="line"></div><div class="line"># make one shell </div><div class="line">explode b </div><div class="line">whatis b_1 </div><div class="line">= b_1 is a shape SHELL FORWARD Modified Orientable </div><div class="line">Closed </div><div class="line"></div><div class="line"># extract the edges b_1, ... , b_12 </div><div class="line">explode b e </div><div class="line">==b_1 ... b_12 </div><div class="line"></div><div class="line"># count subshapes </div><div class="line">nbshapes b </div><div class="line">== </div><div class="line">Number of shapes in b </div><div class="line">VERTEX : 8 </div><div class="line">EDGE : 12 </div><div class="line">WIRE : 6 </div><div class="line">FACE : 6 </div><div class="line">SHELL : 1 </div><div class="line">SOLID : 1 </div><div class="line">COMPSOLID : 0 </div><div class="line">COMPOUND : 0 </div><div class="line">SHAPE : 34 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_1_4"></a>
emptycopy, add, compound</h3>
<p>Syntax: </p><div class="fragment"><div class="line">emptycopy [newname] name </div><div class="line">add name toname </div><div class="line">compound [name ...] compoundname </div></div><!-- fragment --><p><b>emptycopy</b> returns an empty shape with the same orientation, location, and geometry as the target shape, but with no sub-shapes. If the <b>newname</b> argument is not given, the new shape is stored with the same name. This command is used to modify a frozen shape. A frozen shape is a shape used by another one. To modify it, you must <b>emptycopy</b> it. Its subshape may be reinserted with the <b>add</b> command.</p>
<p><b>add</b> inserts shape <em>C</em> into shape <em>S</em>. Verify that <em>C</em> and <em>S</em> reference compatible types of objects:</p><ul>
<li>Any <em>Shape</em> can be added to a <em>Compound</em>.</li>
<li>Only a <em>Solid</em> can be added to a <em>CompSolid</em>.</li>
<li>Only a <em>Shell</em> can <em>Edge</em> or a <em>Vertex</em> can be added into a <em>Solid</em>.</li>
<li>Only a <em>Face</em> can be added to a <em>Shell</em>.</li>
<li>Only a <em>Wire</em> and <em>Vertex</em> can be added in a <em>Solid</em>.</li>
<li>Only an <em>Edge</em> can be added to a <em>Wire</em>.</li>
<li>Only a <em>Vertex</em> can be added to an <em>Edge</em>.</li>
<li>Nothing can be added to a <em>Vertex</em>.</li>
</ul>
<p><b>emptycopy</b> and <b>add</b> should be used with care.</p>
<p>On the other hand, <b>compound</b> is a safe way to achieve a similar result. It creates a compound from shapes. If no shapes are given, the compound is empty.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a compound with three boxes </div><div class="line">box b1 0 0 0 1 1 1 </div><div class="line">box b2 3 0 0 1 1 1 </div><div class="line">box b3 6 0 0 1 1 1 </div><div class="line">compound b1 b2 b3 c </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_1_5"></a>
compare</h3>
<p>Syntax: </p><div class="fragment"><div class="line">compare shape1 shape2</div></div><!-- fragment --><p><b>compare</b> compares the two shapes <em>shape1</em> and <em>shape2</em> using the methods <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html#ab997feaf56cedf1b034d8f19cb6e59c1">TopoDS_Shape::IsSame()</a></em> and <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html#a4a8a7d8baaea20c4fcf33473d6f28afa">TopoDS_Shape::IsEqual()</a></em>.</p>
<p><b>Example</b> </p><div class="fragment"><div class="line">box b1 1 1 1</div><div class="line">copy b1 b2</div><div class="line">compare b1 b2</div><div class="line"># same shapes</div><div class="line"># equal shapes</div><div class="line"></div><div class="line">orientation b2 R</div><div class="line">compare b1 b2</div><div class="line"># same shapes</div><div class="line"></div><div class="line">box b2 1 1 1</div><div class="line">compare b1 b2</div><div class="line"># shapes are not same</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_1_6"></a>
issubshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">issubshape subshape shape</div></div><!-- fragment --><p><b>issubshape</b> checks if the shape <em>subshape</em> is sub-shape of the shape <em>shape</em> and gets its index in the shape.</p>
<p><b>Example</b> </p><div class="fragment"><div class="line">box b 1 1 1</div><div class="line">explode b f</div><div class="line">issubshape b_2 b</div><div class="line"># b_2 is sub-shape of b. Index in the shape: 2.</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_2"></a>
Curve and surface topology</h2>
<p>This group of commands is used to create topology from shapes and to extract shapes from geometry.</p>
<ul>
<li>To create vertices, use the <b>vertex</b> command.</li>
<li>To create edges use, the <b>edge</b>, <b>mkedge</b> commands.</li>
<li>To create wires, use the <b>wire</b>, <b>polyline</b>, <b>polyvertex</b> commands.</li>
<li>To create faces, use the <b>mkplane</b>, <b>mkface</b> commands.</li>
<li>To extract the geometry from edges or faces, use the <b>mkcurve</b> and <b>mkface</b> commands.</li>
<li>To extract the 2d curves from edges or faces, use the <b>pcurve</b> command.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_2_1"></a>
vertex</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vertex name [x y z / p edge] </div></div><!-- fragment --><p>Creates a vertex at either a 3d location x,y,z or the point at parameter p on an edge.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vertex v1 10 20 30 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_1a"></a>
mkpoint</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mkpoint name vertex</div></div><!-- fragment --><p>Creates a point from the coordinates of a given vertex.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">mkpoint p v1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_2"></a>
edge, mkedge, uisoedge, visoedge</h3>
<p>Syntax: </p><div class="fragment"><div class="line">edge name vertex1 vertex2 </div><div class="line">mkedge edge curve [surface] [pfirst plast] [vfirst [pfirst] vlast [plast]] </div><div class="line">uisoedge edge face u v1 v2 </div><div class="line">visoedge edge face v u1 u2 </div></div><!-- fragment --><ul>
<li><b>edge</b> creates a straight line edge between two vertices.</li>
<li><b>mkedge</b> generates edges from curves&lt;.Two parameters can be given for the vertices: the first and last parameters of the curve are given by default. Vertices can also be given with their parameters, this option allows blocking the creation of new vertices. If the parameters of the vertices are not given, they are computed by projection on the curve. Instead of a 3d curve, a 2d curve and a surface can be given.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># straight line edge </div><div class="line">vertex v1 10 0 0 </div><div class="line">vertex v2 10 10 0 </div><div class="line">edge e1 v1 v2 </div><div class="line"></div><div class="line"># make a circular edge </div><div class="line">circle c 0 0 0 5 </div><div class="line">mkedge e2 c 0 pi/2 </div><div class="line"></div><div class="line"># A similar result may be achieved by trimming the curve </div><div class="line"># The trimming is removed by mkedge </div><div class="line">trim c c 0 pi/2 </div><div class="line">mkedge e2 c </div></div><!-- fragment --><ul>
<li><b>visoedge</b> and <b>uisoedge</b> are commands that generate a <em>uiso</em> parameter edge or a <em>viso</em> parameter edge.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># to create an edge between v1 and v2 at point u </div><div class="line"># to create the example plane </div><div class="line">plane p </div><div class="line">trim p p 0 1 0 1 </div><div class="line">convert p p </div><div class="line">incudeg p 3 </div><div class="line">incvdeg p 3 </div><div class="line">movep p 2 2 0 0 1 </div><div class="line">movep p 3 3 0 0 0.5 </div><div class="line">mkface p p </div><div class="line"># to create the edge in the plane at the u axis point </div><div class="line">0.5, and between the v axis points v=0.2 and v =0.8 </div><div class="line">uisoedge e p 0.5 0.20 0.8 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_3"></a>
wire, polyline, polyvertex</h3>
<p>Syntax: </p><div class="fragment"><div class="line">wire wirename e1/w1 [e2/w2 ...] </div><div class="line">polyline name x1 y1 z1 x2 y2 z2 ... </div><div class="line">polyvertex name v1 v2 ... </div></div><!-- fragment --><p><b>wire</b> creates a wire from edges or wires. The order of the elements should ensure that the wire is connected, and vertex locations will be compared to detect connection. If the vertices are different, new edges will be created to ensure topological connectivity. The original edge may be copied in the new one.</p>
<p><b>polyline</b> creates a polygonal wire from point coordinates. To make a closed wire, you should give the first point again at the end of the argument list.</p>
<p><b>polyvertex</b> creates a polygonal wire from vertices.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create two polygonal wires </div><div class="line"># glue them and define as a single wire </div><div class="line">polyline w1 0 0 0 10 0 0 10 10 0 </div><div class="line">polyline w2 10 10 0 0 10 0 0 0 0 </div><div class="line">wire w w1 w2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_4"></a>
profile</h3>
<p>Syntax </p><div class="fragment"><div class="line">profile name [code values] [code values] ... </div></div><!-- fragment --><p><b>profile</b> builds a profile in a plane using a moving point and direction. By default, the profile is closed and a face is created. The original point is 0 0, and direction is 1 0 situated in the XY plane.</p>
<table class="doxtable">
<tr>
<th align="left"><b>Code</b> </th><th align="left"><b>Values ** </b></th><th align="left"><b> **Action</b>  </th></tr>
<tr>
<td align="left">O </td><td align="left">X Y Z </td><td align="left">Sets the origin of the plane </td></tr>
<tr>
<td align="left">P </td><td align="left">DX DY DZ UX UY UZ </td><td align="left">Sets the normal and X of the plane </td></tr>
<tr>
<td align="left">F </td><td align="left">X Y </td><td align="left">Sets the first point </td></tr>
<tr>
<td align="left">X </td><td align="left">DX </td><td align="left">Translates a point along X </td></tr>
<tr>
<td align="left">Y </td><td align="left">DY </td><td align="left">Translates a point along Y </td></tr>
<tr>
<td align="left">L </td><td align="left">DL </td><td align="left">Translates a point along direction </td></tr>
<tr>
<td align="left">XX </td><td align="left">X </td><td align="left">Sets point X coordinate </td></tr>
<tr>
<td align="left">YY </td><td align="left">Y </td><td align="left">Sets point Y coordinate </td></tr>
<tr>
<td align="left">T </td><td align="left">DX DY </td><td align="left">Translates a point </td></tr>
<tr>
<td align="left">TT </td><td align="left">X Y </td><td align="left">Sets a point </td></tr>
<tr>
<td align="left">R </td><td align="left">Angle </td><td align="left">Rotates direction </td></tr>
<tr>
<td align="left">RR </td><td align="left">Angle </td><td align="left">Sets direction </td></tr>
<tr>
<td align="left">D </td><td align="left">DX DY </td><td align="left">Sets direction </td></tr>
<tr>
<td align="left">IX </td><td align="left">X </td><td align="left">Intersects with vertical </td></tr>
<tr>
<td align="left">IY </td><td align="left">Y </td><td align="left">Intersects with horizontal </td></tr>
<tr>
<td align="left">C </td><td align="left">Radius Angle </td><td align="left">Arc of circle tangent to direction </td></tr>
</table>
<p>Codes and values are used to define the next point or change the direction. When the profile changes from a straight line to a curve, a tangent is created. All angles are in degrees and can be negative.</p>
<p>The point [code values] can be repeated any number of times and in any order to create the profile contour.</p>
<table class="doxtable">
<tr>
<th align="left">Suffix </th><th align="left">Action  </th></tr>
<tr>
<td align="left">No suffix </td><td align="left">Makes a closed face </td></tr>
<tr>
<td align="left">W </td><td align="left">Make a closed wire </td></tr>
<tr>
<td align="left">WW </td><td align="left">Make an open wire </td></tr>
</table>
<p>The profile shape definition is the suffix; no suffix produces a face, <em>w</em> is a closed wire, <em>ww</em> is an open wire.</p>
<p>Code letters are not case-sensitive.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># to create a trianglular plane using a vertex at the </div><div class="line">origin, in the xy plane </div><div class="line">profile p O 0 0 0 X 1 Y 0 x 1 y 1 </div></div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line"># to create a contour using the different code </div><div class="line">possibilities </div><div class="line"></div><div class="line"># two vertices in the xy plane </div><div class="line">profile p F 1 0 x 2 y 1 ww </div><div class="line"></div><div class="line"># to view from a point normal to the plane </div><div class="line">top </div><div class="line"></div><div class="line"># add a circular element of 45 degrees </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 ww </div><div class="line"></div><div class="line"># add a tangential segment with a length value 1 </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 ww </div><div class="line"></div><div class="line"># add a vertex with xy values of 1.5 and 1.5 </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 ww </div><div class="line"></div><div class="line"># add a vertex with the x value 0.2, y value is constant </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 xx 0.2 ww </div><div class="line"></div><div class="line"># add a vertex with the y value 2 x value is constant </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 yy 2 ww </div><div class="line"></div><div class="line"># add a circular element with a radius value of 1 and a circular value of 290 degrees </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 xx 0.2 yy 2 c 1 290 </div><div class="line"></div><div class="line"># wire continues at a tangent to the intersection x = 0 </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 xx 0.2 yy 2 c 1 290 ix 0 ww </div><div class="line"></div><div class="line"># continue the wire at an angle of 90 degrees until it intersects the y axis at y= -o.3 </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 xx 0.2 yy 2 c 1 290 ix 0 r 90 ix -0.3 ww </div><div class="line"></div><div class="line">#close the wire </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 xx 0.2 yy 2 c 1 290 ix 0 r 90 ix -0.3 w </div><div class="line"></div><div class="line"># to create the plane with the same contour </div><div class="line">profile p F 1 0 x 2 y 1 c 1 45 l 1 tt 1.5 1.5 xx 0.2 yy 2 c 1 290 ix 0 r 90 ix -0.3 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_5"></a>
bsplineprof</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bsplineprof name [S face] [W WW] </div></div><!-- fragment --><ul>
<li>for an edge : &lt;digitizes&gt; ... &lt;mouse button 2&gt;</li>
<li>to end profile : &lt;mouse button 3&gt;</li>
</ul>
<p>Builds a profile in the XY plane from digitizes. By default the profile is closed and a face is built.</p>
<p><b>bsplineprof</b> creates a 2d profile from bspline curves using the mouse as the input. <em>MB1</em> creates the points, <em>MB2</em> finishes the current curve and starts the next curve, <em>MB3</em> closes the profile.</p>
<p>The profile shape definition is the suffix; no suffix produces a face, <b>w</b> is a closed wire, <b>ww</b> is an open wire.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">#to view the xy plane </div><div class="line">top </div><div class="line">#to create a 2d curve with the mouse </div><div class="line">bsplineprof res </div><div class="line"># click mb1 to start the curve </div><div class="line"># click mb1 to create the second vertex </div><div class="line"># click mb1 to create a curve </div><div class="line">== </div><div class="line">#click mb2 to finish the curve and start a new curve </div><div class="line">== </div><div class="line"># click mb1 to create the second curve </div><div class="line"># click mb3 to create the face </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_6"></a>
mkoffset</h3>
<p><b>mkoffset</b> creates a parallel wire in the same plane using a face or an existing continuous set of wires as a reference. The number of occurrences is not limited. The offset distance defines the spacing and the positioning of the occurrences.</p>
<p>Syntax: </p><div class="fragment"><div class="line">mkoffset result shape nboffset stepoffset [jointype(a/i) [alt]]</div></div><!-- fragment --><p> where:</p><ul>
<li><em>result</em> - the base name for the resulting wires. The index of the occurrence (starting with 1) will be added to this name, so the resulting wires will have the names - <em>result_1</em>, <em>result_2</em> ...;</li>
<li><em>shape</em> - input shape (face or compound of wires);</li>
<li><em>nboffset</em> - the number of the parallel occurrences;</li>
<li><em>stepoffset</em> - offset distance between occurrences;</li>
<li><em>jointype(a/i)</em> - join type (a for <em>arc</em> (default) and i for <em>intersection</em>);</li>
<li><em>alt</em> - altitude from the plane of the input face in relation to the normal to the face.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># Create a box and select a face </div><div class="line">box b 1 2 3 </div><div class="line">explode b f </div><div class="line"># Create three exterior parallel contours with an offset value of 2 </div><div class="line">mkoffset r b_1 3 2 </div><div class="line"># wires r_1, r_2 and r_3 are created</div><div class="line"></div><div class="line"># Create three exterior parallel contours with an offset value of 2 without round corners</div><div class="line">mkoffset r b_1 3 2 i</div><div class="line"># wires r_1, r_2 and r_3 are created</div><div class="line"></div><div class="line"># Create one interior parallel contour with an offset value of 0.4 </div><div class="line">mkoffset r b_1 1 -0.4 </div></div><!-- fragment --><p><b>Note</b> that on a concave input contour for an interior step <em>mkoffset</em> command may produce several wires which will be contained in a single compound.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># to create the example contour </div><div class="line">profile p F 0 0 x 2 y 4 tt 1 1 tt 0 4 w </div><div class="line"># creates an incoherent interior offset </div><div class="line">mkoffset r p 1 -0.50 </div><div class="line"></div><div class="line"># creates two incoherent wires </div><div class="line">mkoffset r p 1 -0.55 </div><div class="line"># r_1 is a compound of two wires</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_7"></a>
mkplane, mkface</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mkplane name wire </div><div class="line">mkface name surface [ufirst ulast vfirst vlast] </div></div><!-- fragment --><p><b>mkplane</b> generates a face from a planar wire. The planar surface will be constructed with an orientation which keeps the face inside the wire.</p>
<p><b>mkface</b> generates a face from a surface. Parameter values can be given to trim a rectangular area. The default boundaries are those of the surface.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># make a polygonal face </div><div class="line">polyline f 0 0 0 20 0 0 20 10 0 10 10 0 10 20 0 0 20 0 0 0 0 </div><div class="line">mkplane f f </div><div class="line"></div><div class="line"># make a cylindrical face </div><div class="line">cylinder g 10 </div><div class="line">trim g g -pi/3 pi/2 0 15 </div><div class="line">mkface g g </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_8"></a>
mkcurve, mksurface</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mkcurve curve edge </div><div class="line">mksurface name face </div></div><!-- fragment --><p><b>mkcurve</b> creates a 3d curve from an edge. The curve will be trimmed to the edge boundaries.</p>
<p><b>mksurface</b> creates a surface from a face. The surface will not be trimmed.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># make a line </div><div class="line">vertex v1 0 0 0 </div><div class="line">vertex v2 10 0 0 </div><div class="line">edge e v1 v2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_9"></a>
pcurve</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">pcurve [name edgename] facename </div></div><!-- fragment --><p>Extracts the 2d curve of an edge on a face. If only the face is specified, the command extracts all the curves and colors them according to their orientation. This is useful in checking to see if the edges in a face are correctly oriented, i.e. they turn counter-clockwise. To make curves visible, use a fitted 2d view.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># view the pcurves of a face </div><div class="line">plane p </div><div class="line">trim p p -1 1 -1 1 </div><div class="line">mkface p p </div><div class="line">av2d; # a 2d view </div><div class="line">pcurve p </div><div class="line">2dfit </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_10"></a>
chfi2d</h3>
<p>Syntax: </p><div class="fragment"><div class="line">chfi2d result face [edge1 edge2 (F radius/CDD d1 d2/CDA d ang) .... </div></div><!-- fragment --><p>Creates chamfers and fillets on 2D objects. Select two adjacent edges and:</p><ul>
<li>a radius value</li>
<li>two respective distance values</li>
<li>a distance value and an angle</li>
</ul>
<p>The radius value produces a fillet between the two faces.</p>
<p>The distance is the length value from the edge between the two selected faces in a normal direction.</p>
<p><b>Example:</b></p>
<p>Let us create a 2d fillet:</p>
<div class="fragment"><div class="line">top </div><div class="line">profile p x 2 y 2 x -2 </div><div class="line">chfi2d cfr p . . F 0.3 </div><div class="line">==Pick an object </div><div class="line">#select an edge </div><div class="line">==Pick an object </div><div class="line">#select an edge </div></div><!-- fragment --><p>Let us create a 2d chamfer using two distances:</p>
<div class="fragment"><div class="line">profile p x 2 y 2 x -2 </div><div class="line">chfi2d cfr p . . CDD 0.3 0.6 </div><div class="line">==Pick an object </div><div class="line">#select an edge </div><div class="line">==Pick an object </div><div class="line">#select an edge </div></div><!-- fragment --><p>Let us create a 2d chamfer using a defined distance and angle</p>
<div class="fragment"><div class="line">top </div><div class="line">profile p x 2 y 2 x -2 </div><div class="line">chfi2d cfr p . . CDA 0.3 75 </div><div class="line">==Pick an object </div><div class="line">#select an edge </div><div class="line">==Pick an object </div><div class="line">#select an edge </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_2_11"></a>
nproject</h3>
<p>Syntax: </p><div class="fragment"><div class="line">nproject pj e1 e2 e3 ... surf -g -d [dmax] [Tol </div><div class="line">[continuity [maxdeg [maxseg]]] </div></div><!-- fragment --><p>Creates a shape projection which is normal to the target surface.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create a curved surface </div><div class="line">line l 0 0 0 1 0 0 </div><div class="line">trim l l 0 2 </div><div class="line">convert l l </div><div class="line"></div><div class="line">incdeg l 3 </div><div class="line">cmovep l 1 0 0.5 0 </div><div class="line">cmovep l 3 0 0.5 0 </div><div class="line">copy l ll </div><div class="line">translate ll 2 -0.5 0 </div><div class="line">mkedge e1 l </div><div class="line">mkedge e2 ll </div><div class="line">wire w e1 e2 </div><div class="line">prism p w 0 0 3 </div><div class="line">donl p </div><div class="line">#display in four views </div><div class="line">mu4 </div><div class="line">fit </div><div class="line"># create the example shape </div><div class="line">circle c 1.8 -0.5 1 0 1 0 1 0 0 0.4 </div><div class="line">mkedge e c </div><div class="line">donly p e </div><div class="line"># create the normal projection of the shape(circle) </div><div class="line">nproject r e p </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_3"></a>
Primitives</h2>
<p>Primitive commands make it possible to create simple shapes. They include:</p>
<ul>
<li><b>box</b> and <b>wedge</b> commands.</li>
<li><b>pcylinder</b>, <b>pcone</b>, <b>psphere</b>, <b>ptorus</b> commands.</li>
<li><b>halfspace</b> command</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_3_1"></a>
box, wedge</h3>
<p>Syntax: </p><div class="fragment"><div class="line">box name [x y z] dx dy dz </div><div class="line">wedge name dx dy dz ltx / xmin zmin xmax xmax </div></div><!-- fragment --><p><b>box</b> creates a box parallel to the axes with dimensions <em>dx,dy,dz</em>. <em>x,y,z</em> is the corner of the box. It is the default origin.</p>
<p><b>wedge</b> creates a box with five faces called a wedge. One face is in the OXZ plane, and has dimensions <em>dx,dz</em> while the other face is in the plane <em>y = dy</em>. This face either has dimensions <em>ltx, dz</em> or is bounded by <em>xmin,zmin,xmax,zmax</em>.</p>
<p>The other faces are defined between these faces. The face in the <em>y=yd</em> plane may be degenerated into a line if <em>ltx = 0</em>, or a point if <em>xmin = xmax</em> and <em>ymin = ymax</em>. In these cases, the line and the point both have 5 faces each. To position the wedge use the <em>ttranslate</em> and <em>trotate</em> commands.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a box at the origin </div><div class="line">box b1 10 20 30 </div><div class="line"></div><div class="line"># another box </div><div class="line">box b2 30 30 40 10 20 30 </div><div class="line"></div><div class="line"># a wedge </div><div class="line">wedge w1 10 20 30 5 </div><div class="line"></div><div class="line"># a wedge with a sharp edge (5 faces) </div><div class="line">wedge w2 10 20 30 0 </div><div class="line"></div><div class="line"># a pyramid </div><div class="line">wedge w3 20 20 20 10 10 10 10 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_3_2"></a>
pcylinder, pcone, psphere, ptorus</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pcylinder name [plane] radius height [angle] </div><div class="line">pcone name [plane] radius1 radius2 height [angle] </div><div class="line">pcone name [plane] radius1 radius2 height [angle] </div><div class="line">psphere name [plane] radius1 [angle1 angle2] [angle] </div><div class="line">ptorus name [plane] radius1 radius2 [angle1 angle2] [angle] </div></div><!-- fragment --><p>All these commands create solid blocks in the default coordinate system, using the Z axis as the axis of revolution and the X axis as the origin of the angles. To use another system, translate and rotate the resulting solid or use a plane as first argument to specify a coordinate system. All primitives have an optional last argument which is an angle expressed in degrees and located on the Z axis, starting from the X axis. The default angle is 360.</p>
<p><b>pcylinder</b> creates a cylindrical block with the given radius and height.</p>
<p><b>pcone</b> creates a truncated cone of the given height with radius1 in the plane z = 0 and radius2 in the plane z = height. Neither radius can be negative, but one of them can be null.</p>
<p><b>psphere</b> creates a solid sphere centered on the origin. If two angles, <em>angle1</em> and <em>angle2</em>, are given, the solid will be limited by two planes at latitude <em>angle1</em> and <em>angle2</em>. The angles must be increasing and in the range -90,90.</p>
<p><b>ptorus</b> creates a solid torus with the given radii, centered on the origin, which is a point along the z axis. If two angles increasing in degree in the range 0 &ndash; 360 are given, the solid will be bounded by two planar surfaces at those positions on the circle.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># a can shape </div><div class="line">pcylinder cy 5 10 </div><div class="line"></div><div class="line"># a quarter of a truncated cone </div><div class="line">pcone co 15 10 10 90 </div><div class="line"></div><div class="line"># three-quarters of sphere </div><div class="line">psphere sp 10 270 </div><div class="line"></div><div class="line"># half torus </div><div class="line">ptorus to 20 5 0 90 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_3_3"></a>
halfspace</h3>
<p>Syntax: </p><div class="fragment"><div class="line">halfspace result face/shell x y z </div></div><!-- fragment --><p><b>halfspace</b> creates an infinite solid volume based on a face in a defined direction. This volume can be used to perform the boolean operation of cutting a solid by a face or plane.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">box b 0 0 0 1 2 3 </div><div class="line">explode b f </div><div class="line">==b_1 b_2 b_3 b_4 b_5 b_6 </div><div class="line">halfspace hr b_3 0.5 0.5 0.5 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_4"></a>
Sweeping</h2>
<p>Sweeping creates shapes by sweeping out a shape along a defined path:</p>
<ul>
<li><b>prism</b> &ndash; sweeps along a direction.</li>
<li><b>revol</b> &ndash; sweeps around an axis.</li>
<li><b>pipe</b> &ndash; sweeps along a wire.</li>
<li><b>mksweep</b> and <b>buildsweep</b> &ndash; to create sweeps by defining the arguments and algorithms.</li>
<li><b>thrusections</b> &ndash; creates a sweep from wire in different planes.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_4_1"></a>
prism</h3>
<p>Syntax: </p><div class="fragment"><div class="line">prism result base dx dy dz [Copy | Inf | SemiInf] </div></div><!-- fragment --><p>Creates a new shape by sweeping a shape in a direction. Any shape can be swept: a vertex gives an edge; an edge gives a face; and a face gives a solid.</p>
<p>The shape is swept along the vector <em>dx dy dz</em>. The original shape will be shared in the result unless <em>Copy</em> is specified. If <em>Inf</em> is specified the prism is infinite in both directions. If <em>SemiInf</em> is specified the prism is infinite in the <em>dx,dy,dz</em> direction, and the length of the vector has no importance.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># sweep a planar face to make a solid </div><div class="line">polyline f 0 0 0 10 0 0 10 5 0 5 5 0 5 15 0 0 15 0 0 0 0 </div><div class="line">mkplane f f </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_4_2"></a>
revol</h3>
<p>Syntax: </p><div class="fragment"><div class="line">revol result base x y z dx dy dz angle [Copy] </div></div><!-- fragment --><p>Creates a new shape by sweeping a base shape through an angle along the axis <em>x,y,z dx,dy,dz</em>. As with the prism command, the shape can be of any type and is not shared if <em>Copy</em> is specified.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># shell by wire rotation </div><div class="line">polyline w 0 0 0 10 0 0 10 5 0 5 5 0 5 15 0 0 15 0 </div><div class="line">revol s w 20 0 0 0 1 0 90 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_4_3"></a>
pipe</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pipe name wire_spine Profile </div></div><!-- fragment --><p>Creates a new shape by sweeping a shape known as the profile along a wire known as the spine.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># sweep a circle along a bezier curve to make a solid </div><div class="line">pipe </div><div class="line"></div><div class="line">beziercurve spine 4 0 0 0 10 0 0 10 10 0 20 10 0 </div><div class="line">mkedge spine spine </div><div class="line">wire spine spine </div><div class="line">circle profile 0 0 0 1 0 0 2 </div><div class="line">mkedge profile profile </div><div class="line">wire profile profile </div><div class="line">mkplane profile profile </div><div class="line">pipe p spine profile </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_4_4"></a>
mksweep, addsweep, setsweep, deletesweep, buildsweep, simulsweep</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mksweep wire </div><div class="line">addsweep wire[vertex][-M][-C] [auxiilaryshape]</div><div class="line">deletesweep wire </div><div class="line">setsweep options [arg1 [arg2 [...]]] </div><div class="line">simulsweep r [n] [option] </div><div class="line">buildsweep [r] [option] [Tol] </div></div><!-- fragment --><p>options are :</p><ul>
<li><em>-FR</em> : Tangent and Normal are defined by a Frenet trihedron</li>
<li><em>-CF</em> : Tangent is given by Frenet, the Normal is computed to minimize the torsion</li>
<li><em>-DX Surf</em> : Tangent and Normal are given by Darboux trihedron, surf must be a shell or a face</li>
<li><em>-CN dx dy dz</em> : BiNormal is given by <em>dx dy dz</em></li>
<li><em>-FX Tx Ty TZ [Nx Ny Nz]</em> : Tangent and Normal are fixed</li>
<li><em>-G guide</em></li>
</ul>
<p>These commands are used to create a shape from wires. One wire is designated as the contour that defines the direction; it is called the spine. At least one other wire is used to define the the sweep profile.</p><ul>
<li><b>mksweep</b> &ndash; initializes the sweep creation and defines the wire to be used as the spine.</li>
<li><b>addsweep</b> &ndash; defines the wire to be used as the profile.</li>
<li><b>deletesweep</b> &ndash; cancels the choice of profile wire, without leaving the mksweep mode. You can re-select a profile wire.</li>
<li><b>setsweep</b> &ndash; commands the algorithms used for the construction of the sweep.</li>
<li><b>simulsweep</b> &ndash; can be used to create a preview of the shape. [n] is the number of sections that are used to simulate the sweep.</li>
<li><b>buildsweep</b> &ndash; creates the sweep using the arguments defined by all the commands.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">#create a sweep based on a semi-circular wire using the </div><div class="line">Frenet algorithm </div><div class="line">#create a circular figure </div><div class="line">circle c2 0 0 0 1 0 0 10 </div><div class="line">trim c2 c2 -pi/2 pi/2 </div><div class="line">mkedge e2 c2 </div><div class="line">donly e2 </div><div class="line">wire w e2 </div><div class="line">whatis w </div><div class="line">mksweep w </div><div class="line"># to display all the options for a sweep </div><div class="line">setsweep </div><div class="line">#to create a sweep using the Frenet algorithm where the </div><div class="line">#normal is computed to minimise the torsion </div><div class="line">setsweep -CF </div><div class="line">addsweep w -R </div><div class="line"># to simulate the sweep with a visual approximation </div><div class="line">simulsweep w 3 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_4_5"></a>
thrusections</h3>
<p>Syntax: </p><div class="fragment"><div class="line">thrusections [-N] result issolid isruled wire1 wire2 [..wire..] </div></div><!-- fragment --><p><b>thrusections</b> creates a shape using wires that are positioned in different planes. Each wire selected must have the same number of edges and vertices. A bezier curve is generated between the vertices of each wire. The option <em>[-N]</em> means that no check is made on wires for direction.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">#create three wires in three planes </div><div class="line">polyline w1 0 0 0 5 0 0 5 5 0 2 3 0 </div><div class="line">polyline w2 0 1 3 4 1 3 4 4 3 1 3 3 </div><div class="line">polyline w3 0 0 5 5 0 5 5 5 5 2 3 5 </div><div class="line"># create the shape </div><div class="line">thrusections th issolid isruled w1 w2 w3 </div><div class="line">==thrusections th issolid isruled w1 w2 w3 </div><div class="line">Tolerances obtenues   -- 3d : 0 </div><div class="line">-- 2d : 0 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_5"></a>
Topological transformation</h2>
<p>Transformations are applications of matrices. When the transformation is nondeforming, such as translation or rotation, the object is not copied. The topology localcoordinate system feature is used. The copy can be enforced with the <b>tcopy</b> command.</p>
<ul>
<li><b>tcopy</b> &ndash; makes a copy of the structure of a shape.</li>
<li><b>ttranslate</b>, <b>trotate</b>, <b>tmove</b> and <b>reset</b> &ndash; move a shape.</li>
<li><b>tmirror</b> and <b>tscale</b> &ndash; always modify the shape.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_5_1"></a>
tcopy</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tcopy name toname [name toname ...] </div></div><!-- fragment --><p>Copies the structure of one shape, including the geometry, into another, newer shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create an edge from a curve and copy it </div><div class="line">beziercurve c 3 0 0 0 10 0 0 20 10 0 </div><div class="line">mkedge e1 c </div><div class="line">ttranslate e1 0 5 0 </div><div class="line">tcopy e1 e2 </div><div class="line">ttranslate e2 0 5 0 </div><div class="line"># now modify the curve, only e1 and e2 will be modified </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_5_2"></a>
tmove, treset</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tmove name [name ...] shape </div><div class="line">reset name [name ...] </div></div><!-- fragment --><p><b>tmove</b> and <b>reset</b> modify the location, or the local coordinate system of a shape.</p>
<p><b>tmove</b> applies the location of a given shape to other shapes. <b>reset</b> restores one or several shapes it to its or their original coordinate system(s).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create two boxes </div><div class="line">box b1 10 10 10 </div><div class="line">box b2 20 0 0 10 10 10 </div><div class="line"># translate the first box </div><div class="line">ttranslate b1 0 10 0 </div><div class="line"># and apply the same location to b2 </div><div class="line">tmove b2 b1 </div><div class="line"># return to original positions </div><div class="line">reset b1 b2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_5_3"></a>
ttranslate, trotate</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ttranslate [name ...] dx dy dz </div><div class="line">trotate [name ...] x y z dx dy dz angle </div></div><!-- fragment --><p><b>ttranslate</b> translates a set of shapes by a given vector, and <b>trotate</b> rotates them by a given angle around an axis. Both commands only modify the location of the shape. When creating multiple shapes, the same location is used for all the shapes. (See <em>toto.tcl</em> example below. Note that the code of this file can also be directly executed in interactive mode.)</p>
<p>Locations are very economic in the data structure because multiple occurences of an object share the topological description.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># make rotated copies of a sphere in between two cylinders </div><div class="line"># create a file source toto.tcl </div><div class="line"># toto.tcl code: </div><div class="line">for {set i 0} {$i &lt; 360} {incr i 20} { </div><div class="line">copy s s$i </div><div class="line">trotate s$i 0 0 0 0 0 1 $i </div><div class="line">} </div><div class="line"></div><div class="line"># create two cylinders </div><div class="line">pcylinder c1 30 5 </div><div class="line">copy c1 c2 </div><div class="line">ttranslate c2 0 0 20 </div><div class="line"></div><div class="line">#create a sphere </div><div class="line">psphere s 3 </div><div class="line">ttranslate s 25 0 12.5 </div><div class="line"></div><div class="line"># call the source file for multiple copies </div><div class="line">source toto.tcl </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_5_4"></a>
tmirror, tscale</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tmirror name x y z dx dy dz </div><div class="line">tscale name x y z scale </div></div><!-- fragment --><ul>
<li><b>tmirror</b> makes a mirror copy of a shape about a plane x,y,z dx,dy,dz.</li>
<li><b>Tscale</b> applies a central homotopic mapping to a shape.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># mirror a portion of cylinder about the YZ plane </div><div class="line">pcylinder c1 10 10 270 </div><div class="line">copy c1 c2 </div><div class="line">tmirror c2 15 0 0 1 0 0 </div><div class="line"># and scale it </div><div class="line">tscale c1 0 0 0 0.5 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_6"></a>
Old Topological operations</h2>
<ul>
<li><b>fuse</b>, <b>cut</b>, <b>common</b> are boolean operations.</li>
<li><b>section</b>, <b>psection</b> compute sections.</li>
<li><b>sewing</b> joins two or more shapes.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_6_1"></a>
fuse, cut, common</h3>
<p>These commands are no longer supported, so the result may be unpredictable. Use the commands bfuse, bcut, bcommon instead.</p>
<p>Syntax: </p><div class="fragment"><div class="line">fuse name shape1 shape2 </div><div class="line">cut name shape1 shape2 </div><div class="line">common name shape1 shape2 </div></div><!-- fragment --><p><b>fuse</b> creates a new shape by a boolean operation on two existing shapes. The new shape contains both originals intact.</p>
<p><b>cut</b> creates a new shape which contains all parts of the second shape but only the first shape without the intersection of the two shapes.</p>
<p><b>common</b> creates a new shape which contains only what is in common between the two original shapes in their intersection.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># all four boolean operations on a box and a cylinder </div><div class="line"></div><div class="line">box b 0 -10 5 20 20 10 </div><div class="line">pcylinder c 5 20 </div><div class="line"></div><div class="line">fuse s1 b c </div><div class="line">ttranslate s1 40 0 0 </div><div class="line"></div><div class="line">cut s2 b c </div><div class="line">ttranslate s2 -40 0 0 </div><div class="line"></div><div class="line">cut s3 c b </div><div class="line">ttranslate s3 0 40 0 </div><div class="line"></div><div class="line">common s4 b c </div><div class="line">ttranslate s4 0 -40 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_6_2"></a>
section, psection</h3>
<p>These commands are no longer supported, so the result may be unpredictable. Use the command <b>bsection</b> instead.</p>
<p>Syntax: </p><div class="fragment"><div class="line">section result shape1 shape2 </div><div class="line">psection name shape plane </div></div><!-- fragment --><p><b>section</b> creates a compound object consisting of the edges for the intersection curves on the faces of two shapes.</p>
<p><b>psection</b> creates a planar section consisting of the edges for the intersection curves on the faces of a shape and a plane.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># section line between a cylinder and a box </div><div class="line">pcylinder c 10 20 </div><div class="line">box b 0 0 5 15 15 15 </div><div class="line">trotate b 0 0 0 1 1 1 20 </div><div class="line">section s b c </div><div class="line"></div><div class="line"># planar section of a cone </div><div class="line">pcone c 10 30 30 </div><div class="line">plane p 0 0 15 1 1 2 </div><div class="line">psection s c p </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_6_3"></a>
sewing</h3>
<p>Syntax: </p><div class="fragment"><div class="line">sewing result [tolerance] shape1 shape2 ... </div></div><!-- fragment --><p><b>Sewing</b> joins shapes by connecting their adjacent or near adjacent edges. Adjacency can be redefined by modifying the tolerance value.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># create two adjacent boxes </div><div class="line">box b 0 0 0 1 2 3 </div><div class="line">box b2 0 2 0 1 2 3 </div><div class="line">sewing sr b b2 </div><div class="line">whatis sr </div><div class="line">sr is a shape COMPOUND FORWARD Free Modified </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_7"></a>
New Topological operations</h2>
<p>The new algorithm of Boolean operations avoids a large number of weak points and limitations presented in the old Boolean operation algorithm. It also provides wider range of options and diagnostics. The algorithms of Boolean component are fully described in the <a class="el" href="occt_user_guides__boolean_operations.html#occt_algorithms_1">Boolean Operations</a> of boolean operation user guide.</p>
<p>For the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> commands to perform operations in Boolean component, read the dedicated section <a class="el" href="occt_user_guides__test_harness.html#occt_draw_bop">Boolean operations commands</a></p>
<h2><a class="anchor" id="occt_draw_7_8"></a>
Drafting and blending</h2>
<p>Drafting is creation of a new shape by tilting faces through an angle.</p>
<p>Blending is the creation of a new shape by rounding edges to create a fillet.</p>
<ul>
<li>Use the <b>depouille</b> command for drafting.</li>
<li>Use the <b>chamf</b> command to add a chamfer to an edge</li>
<li>Use the <b>blend</b> command for simple blending.</li>
<li>Use <b>bfuseblend</b> for a fusion + blending operation.</li>
<li>Use <b>bcutblend</b> for a cut + blending operation.</li>
<li>Use <b>buildevol</b>, <b>mkevol</b>, <b>updatevol</b> to realize varying radius blending.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_8_1"></a>
depouille</h3>
<p>Syntax: </p><div class="fragment"><div class="line">dep result shape dirx diry dirz face angle x y x dx dy dz [face angle...] </div></div><!-- fragment --><p>Creates a new shape by drafting one or more faces of a shape.</p>
<p>Identify the shape(s) to be drafted, the drafting direction, and the face(s) with an angle and an axis of rotation for each face. You can use dot syntax to identify the faces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># draft a face of a box </div><div class="line">box b 10 10 10 </div><div class="line">explode b f </div><div class="line">== b_1 b_2 b_3 b_4 b_5 b_6 </div><div class="line"></div><div class="line">dep a b 0 0 1 b_2 10 0 10 0 1 0 5 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_8_2"></a>
chamf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">chamf newname shape edge face S dist </div><div class="line">chamf newname shape edge face dist1 dist2 </div><div class="line">chamf newname shape edge face A dist angle </div></div><!-- fragment --><p>Creates a chamfer along the edge between faces using:</p>
<ul>
<li>a equal distances from the edge</li>
<li>the edge, a face and distance, a second distance</li>
<li>the edge, a reference face and an angle</li>
</ul>
<p>Use the dot syntax to select the faces and edges.</p>
<p><b>Examples:</b></p>
<p>Let us create a chamfer based on equal distances from the edge (45 degree angle): </p><div class="fragment"><div class="line"># create a box </div><div class="line">box b 1 2 3 </div><div class="line">chamf ch b . . S 0.5 </div><div class="line">==Pick an object </div><div class="line"># select an edge </div><div class="line">==Pick an object </div><div class="line"># select an adjacent face </div></div><!-- fragment --><p>Let us create a chamfer based on different distances from the selected edge: </p><div class="fragment"><div class="line">box b 1 2 3 </div><div class="line">chamf ch b . . 0.3 0.4 </div><div class="line">==Pick an object </div><div class="line"># select an edge </div><div class="line">==Pick an object </div><div class="line"># select an adjacent face</div></div><!-- fragment --><p>Let us create a chamfer based on a distance from the edge and an angle:</p>
<div class="fragment"><div class="line">box b 1 2 3 </div><div class="line">chamf ch b . . A 0.4 30 </div><div class="line">==Pick an object </div><div class="line"># select an edge </div><div class="line">==Pick an object </div><div class="line"># select an adjacent face </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_8_3"></a>
blend</h3>
<p>Syntax: </p><div class="fragment"><div class="line">blend result object rad1 ed1 rad2 ed2 ... [R/Q/P] </div></div><!-- fragment --><p>Creates a new shape by filleting the edges of an existing shape. The edge must be inside the shape. You may use the dot syntax. Note that the blend is propagated to the edges of tangential planar, cylindrical or conical faces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># blend a box, click on an edge </div><div class="line">box b 20 20 20 </div><div class="line">blend b b 2 . </div><div class="line">==tolerance ang : 0.01 </div><div class="line">==tolerance 3d : 0.0001 </div><div class="line">==tolerance 2d : 1e-05 </div><div class="line">==fleche : 0.001 </div><div class="line">==tolblend 0.01 0.0001 1e-05 0.001 </div><div class="line">==Pick an object </div><div class="line"># click on the edge you want ot fillet </div><div class="line"></div><div class="line">==COMPUTE: temps total 0.1s dont : </div><div class="line">==- Init + ExtentAnalyse 0s </div><div class="line">==- PerformSetOfSurf 0.02s </div><div class="line">==- PerformFilletOnVertex 0.02s </div><div class="line">==- FilDS 0s </div><div class="line">==- Reconstruction 0.06s </div><div class="line">==- SetRegul 0s </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_8_4"></a>
bfuseblend</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bfuseblend name shape1 shape2 radius [-d]</div></div><!-- fragment --><p>Creates a boolean fusion of two shapes and then blends (fillets) the intersection edges using the given radius. Option [-d] enables the Debugging mode in which the error messages, if any, will be printed.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># fuse-blend two boxes</div><div class="line">box b1 20 20 5</div><div class="line">copy b1 b2</div><div class="line">ttranslate b2 -10 10 3</div><div class="line">bfuseblend a b1 b2 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_8_4a"></a>
bcutblend</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bcutblend name shape1 shape2 radius [-d]</div></div><!-- fragment --><p>Creates a boolean cut of two shapes and then blends (fillets) the intersection edges using the given radius. Option [-d] enables the Debugging mode in which the error messages, if any, will be printed.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># cut-blend two boxes</div><div class="line">box b1 20 20 5</div><div class="line">copy b1 b2</div><div class="line">ttranslate b2 -10 10 3</div><div class="line">bcutblend a b1 b2 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_8_5"></a>
mkevol, updatevol, buildevol</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mkevol result object (then use updatevol) [R/Q/P] </div><div class="line">updatevol edge u1 radius1 [u2 radius2 ...] </div><div class="line">buildevol </div></div><!-- fragment --><p>These three commands work together to create fillets with evolving radii.</p>
<ul>
<li><b>mkevol</b> allows specifying the shape and the name of the result. It returns the tolerances of the fillet.</li>
<li><b>updatevol</b> allows describing the filleted edges you want to create. For each edge, you give a set of coordinates: parameter and radius and the command prompts you to pick the edge of the shape which you want to modify. The parameters will be calculated along the edges and the radius function applied to the whole edge.</li>
<li><b>buildevol</b> produces the result described previously in <b>mkevol</b> and <b>updatevol</b>.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># makes an evolved radius on a box </div><div class="line">box b 10 10 10 </div><div class="line">mkevol b b </div><div class="line">==tolerance ang : 0.01 </div><div class="line">==tolerance 3d : 0.0001 </div><div class="line">==tolerance 2d : 1e-05 </div><div class="line">==fleche : 0.001 </div><div class="line">==tolblend 0.01 0.0001 1e-05 0.001 </div><div class="line"></div><div class="line"># click an edge </div><div class="line">updatevol . 0 1 1 3 2 2 </div><div class="line">==Pick an object </div><div class="line"></div><div class="line">buildevol </div><div class="line">==Dump of SweepApproximation </div><div class="line">==Error 3d = 1.28548881203818e-14 </div><div class="line">==Error 2d = 1.3468326936926e-14 , </div><div class="line">==1.20292299999388e-14 </div><div class="line">==2 Segment(s) of degree 3 </div><div class="line"></div><div class="line">==COMPUTE: temps total 0.91s dont : </div><div class="line">==- Init + ExtentAnalyse 0s </div><div class="line">==- PerformSetOfSurf 0.33s </div><div class="line">==- PerformFilletOnVertex 0.53s </div><div class="line">==- FilDS 0.01s </div><div class="line">==- Reconstruction 0.04s </div><div class="line">==- SetRegul 0s </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_defeaturing"></a>
Defeaturing</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> command <b>removefeatures</b> is intended for performing <a class="el" href="occt_user_guides__modeling_algos.html#occt_modalg_defeaturing">3D Model Defeaturing</a>, i.e. it performs the removal of the requested features from the shape.</p>
<p>Syntax: </p><div class="fragment"><div class="line">removefeatures result shape f1 f2 ... [-nohist] [-parallel]</div><div class="line"></div><div class="line">Where:</div><div class="line">result   - result of the operation;</div><div class="line">shape    - the shape to remove the features from;</div><div class="line">f1, f2   - features to remove from the shape;</div><div class="line"></div><div class="line">Options:</div><div class="line">nohist   - disables the history collection;</div><div class="line">parallel - enables the parallel processing mode.</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_makeperiodic"></a>
3D Model Periodicity</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> module for <a class="el" href="occt_user_guides__modeling_algos.html#occt_modalg_makeperiodic">making the shape periodic</a> includes the following commands:</p><ul>
<li><b>makeperiodic</b> - makes the shape periodic in required directions;</li>
<li><b>repeatshape</b> - repeats the periodic shape in requested periodic direction;</li>
<li><b>periodictwins</b> - returns the periodic twins for the shape;</li>
<li><b>clearrepetitions</b> - clears all previous repetitions of the periodic shape.</li>
</ul>
<h3><a class="anchor" id="occt_draw_makeperiodic_makeperiodic"></a>
makeperiodic</h3>
<p>The command makes the shape periodic in the required directions with the required period. If trimming is given it trims the shape to fit the requested period.</p>
<p>Syntax: </p><div class="fragment"><div class="line">makeperiodic result shape [-x/y/z period [-trim first]]</div><div class="line"></div><div class="line">Where:</div><div class="line">result        - resulting periodic shape;</div><div class="line">shape         - input shape to make it periodic:</div><div class="line">-x/y/z period - option to make the shape periodic in X, Y or Z direction with the given period;</div><div class="line">-trim first   - option to trim the shape to fit the required period, starting the period in first.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeperiodic_repeatshape"></a>
repeatshape</h3>
<p>The command repeats the periodic shape in periodic direction requested number of time. The result contains the all the repeated shapes glued together. The command should be called after <b>makeperiodic</b> command.</p>
<p>Syntax: </p><div class="fragment"><div class="line">repeatshape result -x/y/z times</div><div class="line"></div><div class="line">Where:</div><div class="line">result       - resulting shape;</div><div class="line">-x/y/z times - direction for repetition and number of repetitions (negative number of times means the repetition in negative direction).</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeperiodic_periodictwins"></a>
periodictwins</h3>
<p>For the given shape the command returns the identical shapes located on the opposite sides of the periodic direction. All periodic twins should have the same geometry. The command should be called after <b>makeperiodic</b> command.</p>
<p>Syntax: </p><div class="fragment"><div class="line">periodictwins twins shape</div><div class="line"></div><div class="line">Where:</div><div class="line">twins - periodic twins for the given shape</div><div class="line">shape - shape to find the twins for</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeperiodic_clearrepetitions"></a>
clearrepetitions</h3>
<p>The command clears all previous repetitions of the periodic shape allowing to start the repetitions over. No arguments are needed for the command.</p>
<h2><a class="anchor" id="occt_draw_makeconnected"></a>
Making the touching shapes connected</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> module for <a class="el" href="occt_user_guides__modeling_algos.html#occt_modalg_makeconnected">making the touching same-dimensional shapes connected</a> includes the following commands:</p><ul>
<li><b>makeconnected</b> - make the input shapes connected or glued, performs material associations;</li>
<li><b>cmaterialson</b> - returns the materials located on the requested side of a shape;</li>
<li><b>cmakeperiodic</b> - makes the connected shape periodic in requested directions;</li>
<li><b>crepeatshape</b> - repeats the periodic connected shape in requested directions requested number of times;</li>
<li><b>cperiodictwins</b> - returns all periodic twins for the shape;</li>
<li><b>cclearrepetitions</b> - clears all previous repetitions of the periodic shape, keeping the shape periodic.</li>
</ul>
<h3><a class="anchor" id="occt_draw_makeconnected_makeconnected"></a>
makeconnected</h3>
<p>The command makes the input touching shapes connected.</p>
<p>Syntax: </p><div class="fragment"><div class="line">makeconnected result shape1 shape2 ...</div><div class="line"></div><div class="line">Where:</div><div class="line">result            - resulting connected shape.</div><div class="line">shape1 shape2 ... - shapes to be made connected.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeconnected_cmaterialson"></a>
cmaterialson</h3>
<p>The command returns the materials located on the requested side of the shape. The command should be called after the shapes have been made connected, i.e. after the command <b>makeconnected</b>.</p>
<p>Syntax: </p><div class="fragment"><div class="line">cmaterialson result +/- shape</div><div class="line"></div><div class="line">Where:</div><div class="line">result - material shapes</div><div class="line">shape  - shape for which the materials are needed</div><div class="line">+/-    - side of a given shape (&#39;+&#39; for positive side, &#39;-&#39; - for negative).</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeconnected_cmakeperiodic"></a>
cmakeperiodic</h3>
<p>The command makes the connected shape periodic in the required directions with the required period. The command should be called after the shapes have been made connected, i.e. after the command <b>makeconnected</b>.</p>
<p>Syntax: </p><div class="fragment"><div class="line">cmakeperiodic result [-x/y/z period [-trim first]]</div><div class="line"></div><div class="line">Where:</div><div class="line">result        - resulting periodic shape;</div><div class="line">shape         - input shape to make it periodic:</div><div class="line">-x/y/z period - option to make the shape periodic in X, Y or Z direction with the given period;</div><div class="line">-trim first   - option to trim the shape to fit the required period, starting the period in first.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeconnected_crepeatshape"></a>
crepeatshape</h3>
<p>The command repeats the connected periodic shape in the required periodic directions required number of times. The command should be called after the shapes have been made connected and periodic, i.e. after the commands <b>makeconnected</b> and <b>cmakeperiodic</b>.</p>
<p>Syntax: </p><div class="fragment"><div class="line">crepeatshape result -x/y/z times</div><div class="line"></div><div class="line">Where:</div><div class="line">result       - resulting shape;</div><div class="line">-x/y/z times - direction for repetition and number of repetitions (negative number of times means the repetition in negative direction).</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeconnected_cperiodictwins"></a>
cperiodictwins</h3>
<p>The command returns all periodic twins for the shape. The command should be called after the shapes have been made connected and periodic, i.e. after the commands <b>makeconnected</b> and <b>cmakeperiodic</b>.</p>
<p>Syntax: </p><div class="fragment"><div class="line">cperiodictwins twins shape</div><div class="line"></div><div class="line">Where:</div><div class="line">twins - periodic twins of a shape.</div><div class="line">shape - input shape.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_makeconnected_cclearrepetitions"></a>
cclearrepetitions</h3>
<p>The command clears all previous repetitions of the periodic shape keeping the shape periodic. The command should be called after the shapes have been made connected, periodic and the repetitions have been applied to the periodic shape, i.e. after the commands <b>makeconnected</b>, <b>cmakeperiodic</b> and <b>crepeatshape</b>. Otherwise the command will have no effect.</p>
<p>Syntax: </p><div class="fragment"><div class="line">cclearrepetitions [result]</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_9"></a>
Analysis of topology and geometry</h2>
<p>Analysis of shapes includes commands to compute length, area, volumes and inertial properties, as well as to compute some aspects impacting shape validity.</p>
<ul>
<li>Use <b>lprops</b>, <b>sprops</b>, <b>vprops</b> to compute integral properties.</li>
<li>Use <b>bounding</b> to compute and to display the bounding box of a shape.</li>
<li>Use <b>distmini</b> to calculate the minimum distance between two shapes.</li>
<li>Use <b>isbbinterf</b> to check if the two shapes are interfered by their bounding boxes.</li>
<li>Use <b>xdistef</b>, <b>xdistcs</b>, <b>xdistcc</b>, <b>xdistc2dc2dss</b>, <b>xdistcc2ds</b> to check the distance between two objects on even grid.</li>
<li>Use <b>checkshape</b> to check validity of the shape.</li>
<li>Use <b>tolsphere</b> to see the tolerance spheres of all vertices in the shape.</li>
<li>Use <b>validrange</b> to check range of an edge not covered by vertices.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_9_1"></a>
lprops, sprops, vprops</h3>
<p>Syntax: </p><div class="fragment"><div class="line">lprops shape  [x y z] [-skip] [-full] [-tri]</div><div class="line">sprops shape [epsilon] [c[losed]] [x y z] [-skip] [-full] [-tri]</div><div class="line">vprops shape [epsilon] [c[losed]] [x y z] [-skip] [-full] [-tri] </div></div><!-- fragment --><ul>
<li><b>lprops</b> computes the mass properties of all edges in the shape with a linear density of 1;</li>
<li><b>sprops</b> of all faces with a surface density of 1;</li>
<li><b>vprops</b> of all solids with a density of 1.</li>
</ul>
<p>For computation of properties of the shape, exact geomery (curves, surfaces) or some discrete data (polygons, triangulations) can be used for calculations. The epsilon, if given, defines relative precision of computation. The <b>closed</b> flag, if present, forces computation only closed shells of the shape. The centroid coordinates will be put to DRAW variables x y z (if given). Shared entities will be taken in account only one time in the <b>skip</b> mode. All values are output with the full precision in the <b>full</b> mode. Preferable source of geometry data are triangulations in case if it exists, if the <b>-tri</b> key is used, otherwise preferable data is exact geometry. If epsilon is given, exact geometry (curves, surfaces) are used for calculations independently of using key <b>-tri</b>.</p>
<p>All three commands print the mass, the coordinates of the center of gravity, the matrix of inertia and the moments. Mass is either the length, the area or the volume. The center and the main axis of inertia are displayed.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># volume of a cylinder </div><div class="line">pcylinder c 10 20 </div><div class="line">vprops c </div><div class="line">== results </div><div class="line">Mass : 6283.18529981086 </div><div class="line"></div><div class="line">Center of gravity : </div><div class="line">X = 4.1004749224903e-06 </div><div class="line">Y = -2.03392858349861e-16 </div><div class="line">Z = 9.9999999941362 </div><div class="line"></div><div class="line">Matrix of Inertia : </div><div class="line">366519.141445068                    5.71451850691484e-12 </div><div class="line">0.257640437382627 </div><div class="line">5.71451850691484e-12                366519.141444962 </div><div class="line">2.26823064169991e-10                0.257640437382627 </div><div class="line">2.26823064169991e-10                314159.265358863 </div><div class="line"></div><div class="line">Moments : </div><div class="line">IX = 366519.141446336 </div><div class="line">IY = 366519.141444962 </div><div class="line">I.Z = 314159.265357595 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_9_2"></a>
bounding</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bounding {-s shape | -c xmin ymin zmin xmax ymax zmax} [-obb] [-shape name] [-dump] [-notriangulation] [-perfmeter name NbIters] [-save xmin ymin zmin xmax ymax zmax] [-nodraw] [-optimal] [-exttoler]</div></div><!-- fragment --><p>Computes and displays the bounding box (BndBox) of a shape. The bounding box is a cuboid that circumscribes the source shape. Generaly, bounding boxes can be divided into two main types:</p><ul>
<li>axis-aligned BndBox (AABB). I.e. the box whose edges are parallel to an axis of World Coordinate System (WCS);</li>
<li>oriented BndBox (OBB). I.e. not AABB.</li>
</ul>
<p>Detailed information about this command is availabe in DRAW help-system (enter "help bounding" in DRAW application).</p>
<p><b>Example 1: Creation of AABB with given corners</b> </p><div class="fragment"><div class="line">bounding -c 50 100 30 180 200 100 -shape result</div><div class="line"># look at the box</div><div class="line">vdisplay result</div><div class="line">vfit</div><div class="line">vsetdispmode 1</div></div><!-- fragment --><p><b>Example 2: Compare AABB and OBB</b> </p><div class="fragment"><div class="line"># Create a torus and rotate it</div><div class="line">ptorus t 20 5 </div><div class="line">trotate t 5 10 15 1 1 1 28</div><div class="line"></div><div class="line"># Create AABB from the torus</div><div class="line">bounding -s t -shape ra -dump -save x1 y1 z1 x2 y2 z2</div><div class="line">==Axes-aligned bounding box</div><div class="line">==X-range: -26.888704600189307 23.007685197265488</div><div class="line">==Y-range: -22.237699567214314 27.658690230240481</div><div class="line">==Z-range: -13.813966507560762 12.273995247458407</div><div class="line"></div><div class="line"># Obtain the boundaries</div><div class="line">dump x1 y1 z1 x2 y2 z2</div><div class="line">==*********** Dump of x1 *************</div><div class="line">==-26.8887046001893</div><div class="line"></div><div class="line">==*********** Dump of y1 *************</div><div class="line">==-22.2376995672143</div><div class="line"></div><div class="line">==*********** Dump of z1 *************</div><div class="line">==-13.8139665075608</div><div class="line"></div><div class="line">==*********** Dump of x2 *************</div><div class="line">==23.0076851972655</div><div class="line"></div><div class="line">==*********** Dump of y2 *************</div><div class="line">==27.6586902302405</div><div class="line"></div><div class="line">==*********** Dump of z2 *************</div><div class="line">==12.2739952474584</div><div class="line"></div><div class="line"># Compute the volume of AABB</div><div class="line">vprops ra 1.0e-12</div><div class="line">==Mass :         64949.9</div><div class="line"></div><div class="line"># Let us check this value</div><div class="line">dval (x2-x1)*(y2-y1)*(z2-z1)</div><div class="line">==64949.886543606823</div></div><!-- fragment --><p>The same result is obtained.</p>
<div class="fragment"><div class="line"># Create OBB from the torus</div><div class="line">bounding -s t -shape ro -dump -obb</div><div class="line">==Oriented bounding box</div><div class="line">==Center: -1.9405097014619073 2.7104953315130857 -0.76998563005117782</div><div class="line">==X-axis: 0.31006700219833244 -0.23203206410428409 0.9219650619059514</div><div class="line">==Y-axis: 0.098302309139513336 -0.95673739537318336 -0.27384340837854165</div><div class="line">==Z-axis: 0.94561890324040099 0.17554109923901748 -0.27384340837854493</div><div class="line">==Half X: 5.0000002000000077</div><div class="line">==Half Y: 26.783728747002169</div><div class="line">==Half Z: 26.783728747002165</div><div class="line"></div><div class="line"># Compute the volume of OBB</div><div class="line">vprops ro 1.0e-12</div><div class="line">==Mass :         28694.7</div></div><!-- fragment --><p>As we can see, the volume of OBB is significantly less than the volume of AABB.</p>
<h3><a class="anchor" id="occt_draw_7_9_2a"></a>
isbbinterf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">isbbinterf shape1 shape2 [-o]</div></div><!-- fragment --><p>Checks whether the bounding boxes created from the given shapes are interfered. If "-o"-option is switched on then the oriented boxes will be checked. Otherwise, axis-aligned boxes will be checked.</p>
<p><b>Example 1: Not interfered AABB</b> </p><div class="fragment"><div class="line">box b1 100 60 140 20 10 80</div><div class="line">box b2 210 200 80 120 60 90</div><div class="line">isbbinterf b1 b2</div><div class="line">==The shapes are NOT interfered by AABB.</div></div><!-- fragment --><p><b>Example 2: Interfered AABB</b> </p><div class="fragment"><div class="line">box b1 300 300 300</div><div class="line">box b2 100 100 100 50 50 50</div><div class="line">isbbinterf b1 b2</div><div class="line">==The shapes are interfered by AABB.</div></div><!-- fragment --><p><b>Example 3: Not interfered OBB</b> </p><div class="fragment"><div class="line">box b1 100 150 200</div><div class="line">copy b1 b2</div><div class="line">trotate b1 -150 -150 -150 1 2 3 -40</div><div class="line">trotate b2 -150 -150 -150 1 5 2 60</div><div class="line"></div><div class="line"># Check of interference</div><div class="line">isbbinterf b1 b2 -o</div><div class="line">==The shapes are NOT interfered by OBB.</div></div><!-- fragment --><p><b>Example 4: Interfered OBB</b> </p><div class="fragment"><div class="line">box b1 100 150 200</div><div class="line">copy b1 b2</div><div class="line">trotate b1 -50 -50 -50 1 1 1 -40</div><div class="line">trotate b2 -50 -50 -50 1 1 1 60</div><div class="line"></div><div class="line"># Check of interference</div><div class="line">isbbinterf b1 b2 -o</div><div class="line">==The shapes are interfered by OBB.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_9_3"></a>
distmini</h3>
<p>Syntax: </p><div class="fragment"><div class="line">distmini name Shape1 Shape2 </div></div><!-- fragment --><p>Calculates the minimum distance between two shapes. The calculation returns the number of solutions, if more than one solution exists. The options are displayed in the viewer in red and the results are listed in the shell window. The <em>distmini</em> lines are considered as shapes which have a value v.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">box b 0 0 0 10 20 30 </div><div class="line">box b2 30 30 0 10 20 30 </div><div class="line">distmini d1 b b2 </div><div class="line">==the distance value is : 22.3606797749979 </div><div class="line">==the number of solutions is :2 </div><div class="line"></div><div class="line">==solution number 1 </div><div class="line">==the type of the solution on the first shape is 0 </div><div class="line">==the type of the solution on the second shape is 0 </div><div class="line">==the coordinates of the point on the first shape are: </div><div class="line">==X=10 Y=20 Z=30 </div><div class="line">==the coordinates of the point on the second shape </div><div class="line">are: </div><div class="line">==X=30 Y=30 Z=30 </div><div class="line"></div><div class="line">==solution number 2: </div><div class="line">==the type of the solution on the first shape is 0 </div><div class="line">==the type of the solution on the second shape is 0 </div><div class="line">==the coordinates of the point on the first shape are: </div><div class="line">==X=10 Y=20 Z=0 </div><div class="line">==the coordinates of the point on the second shape </div><div class="line">are: </div><div class="line">==X=30 Y=30 Z=0 </div><div class="line"></div><div class="line">==d1_val d1 d12 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_9_4"></a>
xdistef, xdistcs, xdistcc, xdistc2dc2dss, xdistcc2ds</h3>
<p>Syntax: </p><div class="fragment"><div class="line">xdistef edge face</div><div class="line">xdistcs curve surface firstParam lastParam [NumberOfSamplePoints]</div><div class="line">xdistcc curve1 curve2 startParam finishParam [NumberOfSamplePoints]</div><div class="line">xdistcc2ds c curve2d surf startParam finishParam [NumberOfSamplePoints]</div><div class="line">xdistc2dc2dss curve2d_1 curve2d_2 surface_1 surface_2 startParam finishParam [NumberOfSamplePoints]</div></div><!-- fragment --><p>It is assumed that curves have the same parametrization range and <em>startParam</em> is less than <em>finishParam</em>.</p>
<p>Commands with prefix <em>xdist</em> allow checking the distance between two objects on even grid:</p><ul>
<li><b>xdistef</b> &ndash; distance between edge and face;</li>
<li><b>xdistcs</b> &ndash; distance between curve and surface. This means that the projection of each sample point to the surface is computed;</li>
<li><b>xdistcc</b> &ndash; distance between two 3D curves;</li>
<li><b>xdistcc2ds</b> &ndash; distance between 3d curve and 2d curve on surface;</li>
<li><b>xdistc2dc2dss</b> &ndash; distance between two 2d curves on surface.</li>
</ul>
<p><b>Examples</b> </p><div class="fragment"><div class="line">bopcurves b1 b2 -2d </div><div class="line">mksurf s1 b1</div><div class="line">mksurf s2 b2</div><div class="line">xdistcs c_1 s1 0 1 100</div><div class="line">xdistcc2ds c_1 c2d2_1 s2 0 1</div><div class="line">xdistc2dc2dss c2d1_1 c2d2_1 s1 s2 0 1 1000</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_9_5"></a>
checkshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">checkshape [-top] shape [result] [-short] </div></div><!-- fragment --><p>Where:</p><ul>
<li><em>top</em> &ndash; optional parameter, which allows checking only topological validity of a shape.</li>
<li><em>shape</em> &ndash; the only required parameter, defines the name of the shape to check.</li>
<li><em>result</em> &ndash; optional parameter, defines custom prefix for the output shape names.</li>
<li><em>short</em> &ndash; a short description of the check.</li>
</ul>
<p><b>checkshape</b> examines the selected object for topological and geometric coherence. The object should be a three dimensional shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># checkshape returns a comment valid or invalid </div><div class="line">box b1 0 0 0 1 1 1 </div><div class="line">checkshape b1 </div><div class="line"># returns the comment </div><div class="line">this shape seems to be valid </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_9_6"></a>
tolsphere</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tolsphere shape</div></div><!-- fragment --><p>Where:</p><ul>
<li><em>shape</em> &ndash; the name of the shape to process.</li>
</ul>
<p><b>tolsphere</b> shows vertex tolerances by drawing spheres around each vertex in the shape. Each sphere is assigned a name of the shape with suffix "_vXXX", where XXX is the number of the vertex in the shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># tolsphere returns all names of created spheres.</div><div class="line">box b1 0 0 0 1 1 1 </div><div class="line">settolerance b1 0.05</div><div class="line">tolsphere b1</div><div class="line"># creates spheres and returns the names</div><div class="line">b1_v1 b1_v2 b1_v3 b1_v4 b1_v5 b1_v6 b1_v7 b1_v8</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_9_7"></a>
validrange</h3>
<p>Syntax: </p><div class="fragment"><div class="line">validrange edge [(out) u1 u2]</div></div><!-- fragment --><p>Where:</p><ul>
<li><em>edge</em> &ndash; the name of the edge to analyze.</li>
<li><em>u1</em>, <em>u2</em> &ndash; optional names of variables to put into the range.</li>
</ul>
<p><b>validrange</b> computes valid range of the edge. If <em>u1</em> and <em>u2</em> are not given, it returns the first and the last parameters. Otherwise, it sets variables <em>u1</em> and <em>u2</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">circle c 0 0 0 10</div><div class="line">mkedge e c</div><div class="line">mkedge e c 0 pi</div><div class="line">validrange e</div><div class="line"># returns the range</div><div class="line">1.9884375000000002e-008 3.1415926337054181</div><div class="line">validrange e u1 u2</div><div class="line">dval u1</div><div class="line">1.9884375000000002e-008</div><div class="line">dval u2</div><div class="line">3.1415926337054181</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_10"></a>
Surface creation</h2>
<p>Surface creation commands include surfaces created from boundaries and from spaces between shapes.</p><ul>
<li><b>gplate</b> creates a surface from a boundary definition.</li>
<li><b>filling</b> creates a surface from a group of surfaces.</li>
</ul>
<h3><a class="anchor" id="occt_draw_7_10_1"></a>
gplate,</h3>
<p>Syntax: </p><div class="fragment"><div class="line">gplate result nbrcurfront nbrpntconst [SurfInit] [edge 0] [edge tang (1:G1;2:G2) surf]...[point] [u v tang (1:G1;2:G2) surf] ... </div></div><!-- fragment --><p>Creates a surface from a defined boundary. The boundary can be defined using edges, points, or other surfaces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">plane p </div><div class="line">trim p p -1 3 -1 3 </div><div class="line">mkface p p </div><div class="line"></div><div class="line">beziercurve c1 3 0 0 0 1 0 1 2 0 0 </div><div class="line">mkedge e1 c1 </div><div class="line">tcopy e1 e2 </div><div class="line">tcopy e1 e3 </div><div class="line"></div><div class="line">ttranslate e2 0 2 0 </div><div class="line">trotate e3 0 0 0 0 0 1 90 </div><div class="line">tcopy e3 e4 </div><div class="line">ttranslate e4 2 0 0 </div><div class="line"># create the surface </div><div class="line">gplate r1 4 0 p e1 0 e2 0 e3 0 e4 0 </div><div class="line">== </div><div class="line">======== Results =========== </div><div class="line">DistMax=8.50014503228635e-16 </div><div class="line">* GEOMPLATE END* </div><div class="line">Calculation time: 0.33 </div><div class="line">Loop number: 1 </div><div class="line">Approximation results </div><div class="line">Approximation error : 2.06274907619957e-13 </div><div class="line">Criterium error : 4.97600631215754e-14 </div><div class="line"></div><div class="line">#to create a surface defined by edges and passing through a point </div><div class="line"># to define the border edges and the point </div><div class="line">plane p </div><div class="line">trim p p -1 3 -1 3 </div><div class="line">mkface p p </div><div class="line"></div><div class="line">beziercurve c1 3 0 0 0 1 0 1 2 0 0 </div><div class="line">mkedge e1 c1 </div><div class="line">tcopy e1 e2 </div><div class="line">tcopy e1 e3 </div><div class="line"></div><div class="line">ttranslate e2 0 2 0 </div><div class="line">trotate e3 0 0 0 0 0 1 90 </div><div class="line">tcopy e3 e4 </div><div class="line">ttranslate e4 2 0 0 </div><div class="line"># to create a point </div><div class="line">point pp 1 1 0 </div><div class="line"># to create the surface </div><div class="line">gplate r2 4 1 p e1 0 e2 0 e3 0 e4 0 pp </div><div class="line">== </div><div class="line">======== Results =========== </div><div class="line">DistMax=3.65622157610934e-06 </div><div class="line">* GEOMPLATE END* </div><div class="line">Calculculation time: 0.27 </div><div class="line">Loop number: 1 </div><div class="line">Approximation results </div><div class="line">Approximation error : 0.000422195884750181 </div><div class="line">Criterium error : 3.43709808053967e-05 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_10_2"></a>
filling, fillingparam</h3>
<p>Syntax: </p><div class="fragment"><div class="line">filling result nbB nbC nbP [SurfInit] [edge][face]order... </div><div class="line">edge[face]order... point/u v face order... </div></div><!-- fragment --><p>Creates a surface between borders. This command uses the <b>gplate</b> algorithm but creates a surface that is tangential to the adjacent surfaces. The result is a smooth continuous surface based on the G1 criterion.</p>
<p>To define the surface border:</p>
<ul>
<li>enter the number of edges, constraints, and points</li>
<li>enumerate the edges, constraints and points</li>
</ul>
<p>The surface can pass through other points. These are defined after the border definition.</p>
<p>You can use the <em>fillingparam</em> command to access the filling parameters.</p>
<p>The options are:</p>
<ul>
<li><em>-l</em> : to list current values</li>
<li><em>-i</em> : to set default values</li>
<li><em>-rdeg nbPonC nbIt anis </em> : to set filling options</li>
<li><em>-c t2d t3d tang tcur </em> : to set tolerances</li>
<li><em>-a maxdeg maxseg </em> : Approximation option</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># to create four curved survaces and a point </div><div class="line">plane p </div><div class="line">trim p p -1 3 -1 3 </div><div class="line">mkface p p </div><div class="line"></div><div class="line">beziercurve c1 3 0 0 0 1 0 1 2 0 0 </div><div class="line">mkedge e1 c1 </div><div class="line">tcopy e1 e2 </div><div class="line">tcopy e1 e3 </div><div class="line"></div><div class="line">ttranslate e2 0 2 0 </div><div class="line">trotate e3 0 0 0 0 0 1 90 </div><div class="line">tcopy e3 e4 </div><div class="line">ttranslate e4 2 0 0 </div><div class="line"></div><div class="line">point pp 1 1 0 </div><div class="line"></div><div class="line">prism f1 e1 0 -1 0 </div><div class="line">prism f2 e2 0 1 0 </div><div class="line">prism f3 e3 -1 0 0 </div><div class="line">prism f4 e4 1 0 0 </div><div class="line"></div><div class="line"># to create a tangential surface </div><div class="line">filling r1 4 0 0 p e1 f1 1 e2 f2 1 e3 f3 1 e4 f4 1 </div><div class="line"># to create a tangential surface passing through point pp </div><div class="line">filling r2 4 0 1 p e1 f1 1 e2 f2 1 e3 f3 1 e4 f4 1 pp# </div><div class="line"># to visualise the surface in detail </div><div class="line">isos r2 40 </div><div class="line"># to display the current filling parameters </div><div class="line">fillingparam -l </div><div class="line">== </div><div class="line">Degree = 3 </div><div class="line">NbPtsOnCur = 10 </div><div class="line">NbIter = 3 </div><div class="line">Anisotropie = 0 </div><div class="line">Tol2d = 1e-05 </div><div class="line">Tol3d = 0.0001 </div><div class="line">TolAng = 0.01 </div><div class="line">TolCurv = 0.1 </div><div class="line"></div><div class="line">MaxDeg = 8 </div><div class="line">MaxSegments = 9 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_7_11"></a>
Complex Topology</h2>
<p>Complex topology is the group of commands that modify the topology of shapes. This includes feature modeling.</p>
<h3><a class="anchor" id="occt_draw_7_11_1"></a>
offsetshape, offsetcompshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">offsetshape r shape offset [tol] [face ...] </div><div class="line">offsetcompshape r shape offset [face ...] </div></div><!-- fragment --><p><b>offsetshape</b> and <b>offsetcompshape</b> assign a thickness to the edges of a shape. The <em>offset</em> value can be negative or positive. This value defines the thickness and direction of the resulting shape. Each face can be removed to create a hollow object.</p>
<p>The resulting shape is based on a calculation of intersections. In case of simple shapes such as a box, only the adjacent intersections are required and you can use the <b>offsetshape</b> command.</p>
<p>In case of complex shapes, where intersections can occur from non-adjacent edges and faces, use the <b>offsetcompshape</b> command. <b>comp</b> indicates complete and requires more time to calculate the result.</p>
<p>The opening between the object interior and exterior is defined by the argument face or faces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">box b1 10 20 30 </div><div class="line">explode b1 f </div><div class="line">== b1_1 b1_2 b1_3 b1_4 b1_5 b1_6 </div><div class="line">offsetcompshape r b1 -1 b1_3 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_11_2"></a>
featprism, featdprism, featrevol, featlf, featrf</h3>
<p>Syntax: </p><div class="fragment"><div class="line">featprism shape element skface Dirx Diry Dirz Fuse(0/1/2) Modify(0/1) </div><div class="line">featdprism shape face skface angle Fuse(0/1/2) Modify(0/1) </div><div class="line">featrevol shape element skface Ox Oy Oz Dx Dy Dz Fuse(0/1/2) Modify(0/1) </div><div class="line">featlf shape wire plane DirX DirY DirZ DirX DirY DirZ Fuse(0/1/2) Modify(0/1) </div><div class="line">featrf shape wire plane X Y Z DirX DirY DirZ Size Size Fuse(0/1/2) Modify(0/1) </div><div class="line">featperform prism/revol/pipe/dprism/lf result [[Ffrom] Funtil] </div><div class="line">featperformval prism/revol/dprism/lf result value </div></div><!-- fragment --><p><b>featprism</b> loads the arguments for a prism with contiguous sides normal to the face.</p>
<p><b>featdprism</b> loads the arguments for a prism which is created in a direction normal to the face and includes a draft angle.</p>
<p><b>featrevol</b> loads the arguments for a prism with a circular evolution.</p>
<p><b>featlf</b> loads the arguments for a linear rib or slot. This feature uses planar faces and a wire as a guideline.</p>
<p><b>featrf</b> loads the arguments for a rib or slot with a curved surface. This feature uses a circular face and a wire as a guideline.</p>
<p><b>featperform</b> loads the arguments to create the feature.</p>
<p><b>featperformval</b> uses the defined arguments to create a feature with a limiting value.</p>
<p>All the features are created from a set of arguments which are defined when you initialize the feature context. Negative values can be used to create depressions.</p>
<p><b>Examples:</b></p>
<p>Let us create a feature prism with a draft angle and a normal direction :</p>
<div class="fragment"><div class="line"># create a box with a wire contour on the upper face </div><div class="line">box b 1 1 1 </div><div class="line">profil f O 0 0 1 F 0.25 0.25 x 0.5 y 0.5 x -0.5 </div><div class="line">explode b f </div><div class="line"># loads the feature arguments defining the draft angle </div><div class="line">featdprism b f b_6 5 1 0 </div><div class="line"># create the feature </div><div class="line">featperformval dprism r 1 </div><div class="line">==BRepFeat_MakeDPrism::Perform(Height) </div><div class="line">BRepFeat_Form::GlobalPerform () </div><div class="line"> Gluer </div><div class="line"> still Gluer </div><div class="line"> Gluer result </div></div><!-- fragment --><p>Let us create a feature prism with circular direction :</p>
<div class="fragment"><div class="line"># create a box with a wire contour on the upper face </div><div class="line">box b 1 1 1 </div><div class="line">profil f O 0 0 1 F 0.25 0.25 x 0.5 y 0.5 x -0.5 </div><div class="line">explode b f </div><div class="line"># loads the feature arguments defining a rotation axis </div><div class="line">featrevol b f b_6 1 0 1 0 1 0 1 0 </div><div class="line">featperformval revol r 45 </div><div class="line">==BRepFeat_MakeRevol::Perform(Angle) </div><div class="line">BRepFeat_Form::GlobalPerform () </div><div class="line"> Gluer </div><div class="line"> still Gluer </div><div class="line"> Gluer result </div></div><!-- fragment --><p>Let us create a slot using the linear feature :</p>
<div class="fragment"><div class="line">#create the base model using the multi viewer </div><div class="line">mu4 </div><div class="line">profile p x 5 y 1 x -3 y -0.5 x -1.5 y 0.5 x 0.5 y 4 x -1 y -5 </div><div class="line">prism pr p 0 0 1 </div><div class="line"># create the contour for the linear feature </div><div class="line">vertex v1 -0.2 4 0.3 </div><div class="line">vertex v2 0.2 4 0.3 </div><div class="line">vertex v3 0.2 0.2 0.3 </div><div class="line">vertex v4 4 0.2 0.3 </div><div class="line">vertex v5 4 -0.2 0.3 </div><div class="line">edge e1 v1 v2 </div><div class="line">edge e2 v2 v3 </div><div class="line">edge e3 v3 v4 </div><div class="line">edge e4 v4 v5 </div><div class="line">wire w e1 e2 e3 e4 </div><div class="line"># define a plane </div><div class="line">plane pl 0.2 0.2 0.3 0 0 1 </div><div class="line"># loads the linear feature arguments </div><div class="line">featlf pr w pl 0 0 0.3 0 0 0 0 1 </div><div class="line">featperform lf result </div></div><!-- fragment --><p>Let us create a rib using the revolution feature :</p>
<div class="fragment"><div class="line">#create the base model using the multi viewer </div><div class="line">mu4 </div><div class="line">pcylinder c1 3 5 </div><div class="line"># create the contour for the revolution feature </div><div class="line">profile w c 1 190 WW </div><div class="line">trotate w 0 0 0 1 0 0 90 </div><div class="line">ttranslate w -3 0 1 </div><div class="line">trotate w -3 0 1.5 0 0 1 180 </div><div class="line">plane pl -3 0 1.5 0 1 0 </div><div class="line"># loads the revolution feature arguments </div><div class="line">featrf c1 w pl 0 0 0 0 0 1 0.3 0.3 1 1 </div><div class="line">featperform rf result </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_11_3"></a>
draft</h3>
<p>Syntax: </p><div class="fragment"><div class="line">draft result shape dirx diry dirz angle shape/surf/length [-IN/-OUT] [Ri/Ro] [-Internal] </div></div><!-- fragment --><p>Computes a draft angle surface from a wire. The surface is determined by the draft direction, the inclination of the draft surface, a draft angle, and a limiting distance.</p>
<ul>
<li>The draft angle is measured in radians.</li>
<li>The draft direction is determined by the argument -INTERNAL</li>
<li>The argument Ri/Ro deftermines wether the corner edges of the draft surfaces are angular or rounded.</li>
<li>Arguments that can be used to define the surface distance are:<ul>
<li>length, a defined distance</li>
<li>shape, until the surface contacts a shape</li>
<li>surface, until the surface contacts a surface.</li>
</ul>
</li>
</ul>
<p><b>Note</b> that the original aim of adding a draft angle to a shape is to produce a shape which can be removed easily from a mould. The Examples below use larger angles than are used normally and the calculation results returned are not indicated.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># to create a simple profile </div><div class="line">profile p F 0 0 x 2 y 4 tt 0 4 w </div><div class="line"># creates a draft with rounded angles </div><div class="line">draft res p 0 0 1 3 1 -Ro </div><div class="line"># to create a profile with an internal angle </div><div class="line">profile p F 0 0 x 2 y 4 tt 1 1.5 tt 0 4 w </div><div class="line"># creates a draft with rounded external angles </div><div class="line">draft res p 0 0 1 3 1 -Ro </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_11_4"></a>
deform</h3>
<p>Syntax: </p><div class="fragment"><div class="line">deform newname name CoeffX CoeffY CoeffZ</div></div><!-- fragment --><p>Modifies the shape using the x, y, and z coefficients. You can reduce or magnify the shape in the x,y, and z directions.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">pcylinder c 20 20 </div><div class="line">deform a c 1 3 5 </div><div class="line"># the conversion to bspline is followed by the </div><div class="line">deformation </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_7_11_5"></a>
nurbsconvert</h3>
<p>Syntax:</p>
<div class="fragment"><div class="line">nurbsconvert result name [result name] </div></div><!-- fragment --><p>Changes the NURBS curve definition of a shape to a Bspline curve definition. This conversion is required for assymetric deformation and prepares the arguments for other commands such as <b>deform</b>. The conversion can be necessary when transferring shape data to other applications.</p>
<h3><a class="anchor" id="occt_draw_7_11_6"></a>
edgestofaces</h3>
<p><b>edgestofaces</b> - The command allows building planar faces from the planar edges randomly located in 3D space.</p>
<p>It has the following syntax: </p><div class="fragment"><div class="line">edgestofaces r_faces edges [-a AngTol -s Shared(0/1)]</div></div><!-- fragment --><p> Options:</p><ul>
<li>-a AngTol - angular tolerance used for distinguishing the planar faces;</li>
<li>-s Shared(0/1) - boolean flag which defines whether the input edges are already shared or have to be intersected.</li>
</ul>
<h2><a class="anchor" id="occt_draw_hist"></a>
History commands</h2>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> module for <a class="el" href="occt_user_guides__modeling_algos.html#occt_modalg_hist">History Information support</a> includes the command to save history of modifications performed by Boolean operation or sibling commands into a drawable object and the actual history commands:</p>
<ul>
<li><b>setfillhistory</b>;</li>
<li><b>savehistory</b>;</li>
<li><b>isdeleted</b>;</li>
<li><b>modified</b>;</li>
<li><b>generated</b>.</li>
</ul>
<h3><a class="anchor" id="occt_draw_hist_set"></a>
setfillhistory</h3>
<p><em>setfillhistory</em> command controls if the history is needed to be filled in the supported algorithms and saved into the session after the algorithm is done. By default it is TRUE, i.e. the history is filled and saved.</p>
<p>Syntax: </p><div class="fragment"><div class="line">setfillhistory  : Controls the history collection by the algorithms and its saving into the session after algorithm is done.</div><div class="line">                Usage: setfillhistory [flag]</div><div class="line">                w/o arguments prints the current state of the option;</div><div class="line">                flag == 0 - history will not be collected and saved;</div><div class="line">                flag != 0 - history will be collected and saved into the session (default).</div></div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 10 10 10</div><div class="line">setfillhistory 0</div><div class="line">bfuse r b1 b2</div><div class="line">savehistory h</div><div class="line"># No history has been prepared yet.</div><div class="line">setfillhistory 1</div><div class="line">bfuse r b1 b2</div><div class="line">savehistory h</div><div class="line">dump h</div><div class="line"># *********** Dump of h *************</div><div class="line"># History contains:</div><div class="line">#  - 2 Deleted shapes;</div><div class="line">#  - 52 Modified shapes;</div><div class="line">#  - 0 Generated shapes.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_hist_save"></a>
savehistory</h3>
<p><em>savehistory</em> command saves the history from the session into a drawable object with the given name.</p>
<p>Syntax: </p><div class="fragment"><div class="line">savehistory     : savehistory name</div></div><!-- fragment --><p>If the history of shape modifications performed during an operation is needed, the <em>savehistory</em> command should be called after the command performing the operation. If another operation supporting history will be performed before the history of the first operation is saved it will be overwritten with the new history.</p>
<p>Example: </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 5 0 0 10 10 15</div><div class="line">bfuse r b1 b2</div><div class="line">savehistory fuse_hist</div><div class="line"></div><div class="line">dump fuse_hist</div><div class="line">#*********** Dump of fuse_hist *************</div><div class="line"># History contains:</div><div class="line"># - 4 Deleted shapes;</div><div class="line"># - 20 Modified shapes;</div><div class="line"># - 6 Generated shapes.</div><div class="line"></div><div class="line">unifysamedom ru r</div><div class="line">savehistory usd_hist</div><div class="line">dump usd_hist</div><div class="line">#*********** Dump of usd_hist *************</div><div class="line">#History contains:</div><div class="line"># - 14 Deleted shapes;</div><div class="line"># - 28 Modified shapes;</div><div class="line"># - 0 Generated shapes.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_hist_isdel"></a>
isdeleted</h3>
<p><em>isdeleted</em> command checks if the given shape has been deleted in the given history.</p>
<p>Syntax: </p><div class="fragment"><div class="line">isdeleted       : isdeleted history shape</div></div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line">box b1 4 4 4 2 2 2</div><div class="line">box b2 10 10 10</div><div class="line">bcommon r b1 b2</div><div class="line"></div><div class="line">savehistory com_hist</div><div class="line"># all vertices, edges and faces of the b2 are deleted</div><div class="line">foreach s [join [list [explode b2 v] [explode b2 e] [explode b2 f] ] ] {</div><div class="line">  isdeleted com_hist $s</div><div class="line">  # Deleted</div><div class="line">}</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_hist_mod"></a>
modified</h3>
<p><em>modified</em> command returns the shapes Modified from the given shape in the given history. All modified shapes are put into a compound. If the shape has not been modified, the resulting compound will be empty. Note that if the shape has been modified into a single shape only, it will be returned without enclosure into the compound.</p>
<p>Syntax: </p><div class="fragment"><div class="line">modified        : modified modified_shapes history shape</div></div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line">box b 10 10 10</div><div class="line">explode b e</div><div class="line">fillet r b 2 b_1</div><div class="line"></div><div class="line">savehistory fillet_hist</div><div class="line"></div><div class="line">explode b f</div><div class="line"></div><div class="line">modified m3 fillet_hist b_3</div><div class="line">modified m5 fillet_hist b_5</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_hist_gen"></a>
generated</h3>
<p><em>generated</em> command returns the shapes Generated from the given shape in the given history. All generated shapes are put into a compound. If no shapes have been generated from the shape, the resulting compound will be empty. Note that; if the shape has generated a single shape only, it will be returned without enclosure into the compound.</p>
<p>Syntax: </p><div class="fragment"><div class="line">generated       : generated generated_shapes history shape</div></div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line">polyline w1 0 0 0 10 0 0 10 10 0</div><div class="line">polyline w2 5 1 10 9 1 10 9 5 10</div><div class="line"></div><div class="line">thrusections r 0 0 w1 w2</div><div class="line"></div><div class="line">savehistory loft_hist</div><div class="line"></div><div class="line">explode w1 e</div><div class="line">explode w2 e</div><div class="line"></div><div class="line">generated g11 loft_hist w1_1</div><div class="line">generated g12 loft_hist w1_2</div><div class="line">generated g21 loft_hist w2_1</div><div class="line">generated g22 loft_hist w2_2</div><div class="line"></div><div class="line">compare g11 g21</div><div class="line"># equal shapes</div><div class="line"></div><div class="line">compare g12 g22</div><div class="line"># equal shapes</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_hist_extension"></a>
Enabling Draw history support for the algorithms</h3>
<p><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> History mechanism allows fast and easy enabling of the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> history support for the OCCT algorithms supporting standard history methods. To enable History commands for the algorithm it is necessary to save the history of the algorithm into the session. For that, it is necessary to put the following code into the command implementation just after the command is done: </p><div class="fragment"><div class="line">BRepTest_Objects::SetHistory(ListOfArguments, Algorithm);</div></div><!-- fragment --><p>Here is the example of how it is done in the command performing Split operation (see implementation of the <em>bapisplit</em> command): </p><div class="fragment"><div class="line">BRepAlgoAPI_Splitter aSplitter;</div><div class="line">// setting arguments</div><div class="line">aSplitter.SetArguments(BOPTest_Objects::Shapes());</div><div class="line">// setting tools</div><div class="line">aSplitter.SetTools(BOPTest_Objects::Tools());</div><div class="line"></div><div class="line">// setting options</div><div class="line">aSplitter.SetRunParallel(BOPTest_Objects::RunParallel());</div><div class="line">aSplitter.SetFuzzyValue(BOPTest_Objects::FuzzyValue());</div><div class="line">aSplitter.SetNonDestructive(BOPTest_Objects::NonDestructive());</div><div class="line">aSplitter.SetGlue(BOPTest_Objects::Glue());</div><div class="line">aSplitter.SetCheckInverted(BOPTest_Objects::CheckInverted());</div><div class="line">aSplitter.SetUseOBB(BOPTest_Objects::UseOBB());</div><div class="line">aSplitter.SetToFillHistory(BRepTest_Objects::IsHistoryNeeded());</div><div class="line"></div><div class="line">// performing operation</div><div class="line">aSplitter.Build();</div><div class="line"></div><div class="line">if (BRepTest_Objects::IsHistoryNeeded())</div><div class="line">{</div><div class="line">  // Store the history for the Objects (overwrites the history in the session)</div><div class="line">  BRepTest_Objects::SetHistory(BOPTest_Objects::Shapes(), aSplitter);</div><div class="line">  // Add the history for the Tools</div><div class="line">  BRepTest_Objects::AddHistory(BOPTest_Objects::Tools(), aSplitter);</div><div class="line">}</div></div><!-- fragment --><p>The method <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_test___objects.html#a32dc93f09aa65c4b856da34bed97d9c0">BRepTest_Objects::IsHistoryNeeded()</a></em> controls if the history is needed to be filled in the algorithm and saved into the session after the algorithm is done (<em>setfillhistory</em> command controls this option in DRAW).</p>
<h2><a class="anchor" id="occt_draw_7_12"></a>
Texture Mapping to a Shape</h2>
<p>Texture mapping allows you to map textures on a shape. Textures are texture image files and several are predefined. You can control the number of occurrences of the texture on a face, the position of a texture and the scale factor of the texture.</p>
<h3><a class="anchor" id="occt_draw_7_12_1"></a>
vtexture</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtexture NameOfShape TextureFile </div><div class="line">vtexture NameOfShape </div><div class="line">vtexture NameOfShape ? </div><div class="line">vtexture NameOfShape IdOfTexture </div></div><!-- fragment --><p><b>TextureFile</b> identifies the file containing the texture you want. The same syntax without <b>TextureFile</b> disables texture mapping. The question-mark <b>?</b> lists available textures. <b>IdOfTexture</b> allows applying predefined textures.</p>
<h3><a class="anchor" id="occt_draw_7_12_2"></a>
vtexscale</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtexscale NameOfShape ScaleU ScaleV </div><div class="line">vtexscale NameOfShape ScaleUV </div><div class="line">vtexscale NameOfShape </div></div><!-- fragment --><p><em>ScaleU</em> and <em>Scale V</em> allow scaling the texture according to the U and V parameters individually, while <em>ScaleUV</em> applies the same scale to both parameters.</p>
<p>The syntax without <em>ScaleU</em>, <em>ScaleV</em> or <em>ScaleUV</em> disables texture scaling.</p>
<h3><a class="anchor" id="occt_draw_7_12_3"></a>
vtexorigin</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtexorigin NameOfShape UOrigin VOrigin </div><div class="line">vtexorigin NameOfShape UVOrigin </div><div class="line">vtexorigin NameOfShape </div></div><!-- fragment --><p><em>UOrigin</em> and <em>VOrigin</em> allow placing the texture according to the U and V parameters individually, while <em>UVOrigin</em> applies the same position value to both parameters.</p>
<p>The syntax without <em>UOrigin</em>, <em>VOrigin</em> or <em>UVOrigin</em> disables origin positioning.</p>
<h3><a class="anchor" id="occt_draw_7_12_4"></a>
vtexrepeat</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtexrepeat NameOfShape URepeat VRepeat </div><div class="line">vtexrepeat NameOfShape UVRepeat </div><div class="line">vtexrepeat NameOfShape </div></div><!-- fragment --><p><em>URepeat</em> and <em>VRepeat</em> allow repeating the texture along the U and V parameters individually, while <em>UVRepeat</em> applies the same number of repetitions for both parameters.</p>
<p>The same syntax without <em>URepeat</em>, <em>VRepeat</em> or <em>UVRepeat</em> disables texture repetition.</p>
<h3><a class="anchor" id="occt_draw_7_12_5"></a>
vtexdefault</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vtexdefault NameOfShape </div></div><!-- fragment --><p><em>Vtexdefault</em> sets or resets the texture mapping default parameters.</p>
<p>The defaults are:</p>
<ul>
<li><em>URepeat = VRepeat = 1</em> no repetition</li>
<li><em>UOrigin = VOrigin = 1</em> origin set at (0,0)</li>
<li><em>UScale = VScale = 1</em> texture covers 100% of the face</li>
</ul>
<h1><a class="anchor" id="occt_draw_bop"></a>
Boolean Operations Commands</h1>
<p>This chapter describes existing commands of Open CASCADE <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> Test Harness that are used for performing, analyzing, debugging the algorithm in Boolean Component. See <a class="el" href="occt_user_guides__boolean_operations.html">Boolean operations</a> user's guide for the description of these algorithms.</p>
<h2><a class="anchor" id="occt_draw_bop_two"></a>
Boolean Operations on two operands</h2>
<p>All commands in this section perform Boolean operations on two shapes. One of them is considered as object, and the other as a tool.</p>
<h3><a class="anchor" id="occt_draw_bop_two_bop"></a>
bop, bopfuse, bopcut, boptuc, bopcommon, bopsection</h3>
<p>These commands perform Boolean operations on two shapes:</p><ul>
<li><b>bop</b> performs intersection of given shapes and stores the intersection results into internal Data Structure.</li>
<li><b>bopfuse</b> creates a new shape representing the union of two shapes.</li>
<li><b>bopcut</b> creates a new shape representing a subtraction of a second argument from the first one.</li>
<li><b>boptuc</b> creates a new shape representing a subtraction of a first argument from the second one.</li>
<li><b>bopcommon</b> creates a new shape representing the intersection of two shapes.</li>
<li><b>bopsection</b> creates a new shape representing the intersection edges and vertices between shapes.</li>
</ul>
<p>These commands allow intersecting the shapes only once for building all types of Boolean operations. After <em>bop</em> command is done, the other commands in this category use the intersection results prepared by <em>bop</em>. It may be very useful as the intersection part is usually most time-consuming part of the operation.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bop shape1 shape2 </div><div class="line">bopcommon result </div><div class="line">bopfuse result </div><div class="line">bopcut result </div><div class="line">boptuc result </div></div><!-- fragment --><p><b>Example:</b></p>
<p>Let's produce all four boolean operations on a box and a cylinder performing intersection only once: </p><div class="fragment"><div class="line">box b 0 -10 5 20 20 10 </div><div class="line">pcylinder c 5 20 </div><div class="line"></div><div class="line"># intersect the shape, storing results into data structure </div><div class="line">bop b c </div><div class="line"></div><div class="line"># fuse operation</div><div class="line">bopfuse s1 </div><div class="line"></div><div class="line"># cut operation</div><div class="line">bopcut s2 </div><div class="line"></div><div class="line"># opposite cut operation</div><div class="line">boptuc s3 </div><div class="line"></div><div class="line"># common operation</div><div class="line">bopcommon s4 </div><div class="line"></div><div class="line"># section operation</div><div class="line">bopsection s5</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_bop_two_bapi"></a>
bfuse, bcut, btuc, bcommon, bsection</h3>
<p>These commands also perform Boolean operations on two shapes. These are the short variants of the bop* commands. Each of these commands performs both intersection and building the result and may be useful if you need only the result of a single boolean operation.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bcommon result shape1 shape2 </div><div class="line">bfuse result shape1 shape2 </div><div class="line">bcut result shape1 shape2 </div><div class="line">btuc result shape1 shape2 </div></div><!-- fragment --><p><b>bection</b> command has some additional options for faces intersection: </p><div class="fragment"><div class="line">bsection result shape1 shape2 [-n2d/-n2d1/-n2d2] [-na]</div><div class="line"></div><div class="line">Where:</div><div class="line">result - result of the operation</div><div class="line">shape1, shape2 - arguments of the operation</div><div class="line">-n2d - disables PCurve construction on both objects</div><div class="line">-n2d1 - disables PCurve construction on first object</div><div class="line">-n2d2 - disables PCurve construction on second object</div><div class="line">-na - disables approximation of the section curves</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_bop_multi"></a>
Boolean Operations on multiple arguments</h2>
<p>The modern Boolean Operations algorithm available in Open CASCADE Technology is capable of performing a Boolean Operations not only on two shapes, but on arbitrary number of shapes. In terms of Boolean Operations these arguments are divided on two groups <b>Objects</b> and <b>Tools</b>. The meaning of these groups is similar to the single object and tool of Boolean Operations on two shapes.</p>
<p>The Boolean operations are based on the General Fuse operation (see <a class="el" href="occt_user_guides__boolean_operations.html#occt_algorithms_7">General Fuse algorithm</a>) which splits all input shapes basing on the intersection results. Depending on the type of Boolean operation the BOP algorithm choses the necessary splits of the arguments.</p>
<h2><a class="anchor" id="occt_draw_bop_general_com"></a>
General commands for working with multiple arguments</h2>
<p>The algorithms based on General Fuse operation are using the same commands for adding and clearing the arguments list and for performing intersection of these arguments.</p>
<h3><a class="anchor" id="occt_draw_bop_general_com_add"></a>
Adding arguments of operation</h3>
<p>The following commands are used to add the objects and tools for Boolean operations:</p><ul>
<li><b>baddobjects</b> <em>S1 S2...Sn</em> &ndash; adds shapes <em>S1, S2, ... Sn</em> as Objects;</li>
<li><b>baddtools</b> <em>S1 S2...Sn</em> &ndash; adds shapes <em>S1, S2, ... Sn</em> as Tools;</li>
</ul>
<p>The following commands are used to clear the objects and tools:</p><ul>
<li><b>bclearobjects</b> &ndash; clears the list of Objects;</li>
<li><b>bcleartools</b> &ndash; clears the list of Tools;</li>
</ul>
<p>So, when running subsequent operation in one <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> session, make sure you cleared the Objects and Tools from previous operation. Otherwise, the new arguments will be added to the current ones.</p>
<h3><a class="anchor" id="occt_draw_bop_general_com_fill"></a>
Intersection of the arguments</h3>
<p>The command <b>bfillds</b> performs intersection of the arguments (<b>Objects</b> and <b>Tools</b>) and stores the intersection results into internal Data Structure.</p>
<h2><a class="anchor" id="occt_draw_bop_build"></a>
Building the result of operations</h2>
<h3><a class="anchor" id="occt_draw_bop_build_BOP"></a>
Boolean operation</h3>
<p>The command <b>bbop</b> is used for building the result of Boolean Operation. It has to be used after <b>bfillds</b> command.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bbop result iOp</div><div class="line"></div><div class="line">Where:</div><div class="line">result - result of the operation</div><div class="line">iOp - type of Boolean Operation. It could have the following values:</div><div class="line">0 - COMMON operation</div><div class="line">1 - FUSE operation</div><div class="line">2 - CUT operation</div><div class="line">3 - CUT21 (opposite CUT, i.e. objects and tools are swapped) operation</div><div class="line">4 - SECTION operation</div></div><!-- fragment --><p><b>Example</b> </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 5 5 5 10 10 10</div><div class="line">box b3 -5 -5 -5 10 10 10</div><div class="line"></div><div class="line"># Clear objects and tools from previous runs</div><div class="line">bclearobjects</div><div class="line">bcleartools</div><div class="line"># add b1 as object</div><div class="line">baddobjects b1</div><div class="line"># add b2 and b3 as tools</div><div class="line">baddtools b2 b3</div><div class="line"># perform intersection</div><div class="line">bfillds</div><div class="line"># build result</div><div class="line">bbop rcom 0</div><div class="line">bbop rfuse 1</div><div class="line">bbop rcut 2</div><div class="line">bbop rtuc 3</div><div class="line">bbop rsec 4</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_bop_build_GF"></a>
General Fuse operation</h3>
<p>The command <b>bbuild</b> is used for building the result of General Fuse Operation. It has to be used after <b>bfillds</b> command. General Fuse operation does not make the difference between Objects and Tools considering both as objects.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bbuild result</div></div><!-- fragment --><p> <b>Example</b> </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 5 5 5 10 10 10</div><div class="line">box b3 -5 -5 -5 10 10 10</div><div class="line"></div><div class="line"># Clear objects and tools from previous runs</div><div class="line">bclearobjects</div><div class="line">bcleartools</div><div class="line"># add b1 as object</div><div class="line">baddobjects b1</div><div class="line"># add b2 and b3 as tools</div><div class="line">baddtools b2 b3</div><div class="line"># perform intersection</div><div class="line">bfillds</div><div class="line"># build result</div><div class="line">bbuild result</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_bop_build_Split"></a>
Split operation</h3>
<p>Split operation splits the <b>Objects</b> by the <b>Tools</b>. The command <b>bsplit</b> is used for building the result of Split operation. It has to be used after <b>bfillds</b> command.</p>
<p><b>Example</b> </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 5 5 5 10 10 10</div><div class="line">box b3 -5 -5 -5 10 10 10</div><div class="line"></div><div class="line"># Clear objects and tools from previous runs</div><div class="line">bclearobjects</div><div class="line">bcleartools</div><div class="line"># add b1 as object</div><div class="line">baddobjects b1</div><div class="line"># add b2 and b3 as tools</div><div class="line">baddtools b2 b3</div><div class="line"># perform intersection</div><div class="line">bfillds</div><div class="line"># build result</div><div class="line">bsplit result</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_bop_build_BOP_opensolids"></a>
Alternative command for BOP</h3>
<p>There is an alternative way to build the result of Boolean operation using the <b>buildbop</b> command, which should be run after any other building command, such as <b>bbuild</b> or <b>bbop</b> or <b>bsplit</b>. The command has the following features:</p><ul>
<li>It is designed to work on open solids and thus uses the alternative approach for building the results (see <a class="el" href="occt_user_guides__boolean_operations.html#occt_algorithms_bop_on_opensolids">BOP on open solids</a> chapter of Boolean operations user guide).</li>
<li>It allows changing the groups of Objects and Tools of the operation (even excluding some of the arguments is possible).</li>
<li>History information for solids will be lost.</li>
</ul>
<p>Syntax: </p><div class="fragment"><div class="line">buildbop result -o s1 [s2 ...] -t s3 [s4 ...] -op operation (common/fuse/cut/tuc)</div><div class="line">Where:</div><div class="line">result      - result shape of the operation</div><div class="line">s1 s2 s3 s4 - arguments (solids) of the GF operation</div><div class="line">operation   - type of boolean operation</div></div><!-- fragment --><p><b>Example</b> </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 5 5 5 10 10 10</div><div class="line">box b3 -5 -5 -5 10 10 10</div><div class="line"></div><div class="line">bclearobjects</div><div class="line">bcleartools</div><div class="line">baddobjects b1 b2 b3</div><div class="line">bfillds</div><div class="line">bbuild r</div><div class="line"></div><div class="line"># bbop command will not be available as the tools are not set</div><div class="line"># but buildbop is available</div><div class="line"></div><div class="line"># fuse of two</div><div class="line">buildbop r1 -o b1 -t b2 -op fuse</div><div class="line">buildbop r2 -o b2 -t b3 -op fuse</div><div class="line"></div><div class="line"># fuse of all - it does not matter how the groups are formed</div><div class="line">buildbop r3 -o b1 b2 -t b3 -op fuse</div><div class="line">buildbop r4 -o b2 -t b1 b3 -op fuse</div><div class="line">buildbop r5 -o b1 b2 b3 -op fuse</div><div class="line">buildbop r6 -t b1 b2 b3 -op fuse</div><div class="line"></div><div class="line"># common of two</div><div class="line">buildbop r7 -o b2 -t b1 -op common</div><div class="line">buildbop r8 -o b1 -t b3 -op common</div><div class="line"></div><div class="line"># common</div><div class="line">buildbop r9 -o b1 -t b2 b3 -op common</div><div class="line"></div><div class="line"># cut</div><div class="line">buildbop r10 -o b1 -t b2 b3 -op cut</div><div class="line"></div><div class="line"># opposite cut</div><div class="line">buildbop r11 -o b1 -t b2 b3 -op tuc</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_bop_build_CB"></a>
Cells Builder</h3>
<p>See the <a class="el" href="occt_user_guides__boolean_operations.html#occt_algorithms_10c_Cells_1">Cells Builder Usage</a> for the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> usage of Cells Builder algorithm.</p>
<h3><a class="anchor" id="occt_draw_bop_build_API"></a>
Building result through API</h3>
<p>The following commands are used to perform the operation using API implementation of the algorithms:</p><ul>
<li><b>bapibuild</b> &ndash; to perform API general fuse operation.</li>
<li><b>bapibop</b> &ndash; to perform API Boolean operation.</li>
<li><b>bapisplit</b> &ndash; to perform API Split operation.</li>
</ul>
<p>These commands have the same syntax as the analogical commands described above.</p>
<h2><a class="anchor" id="occt_draw_bop_options"></a>
Setting options for the operation</h2>
<p>The algorithms in Boolean component have a wide range of options. To see the current state of all option the command <b>boptions</b> should be used. It has the following syntax: </p><div class="fragment"><div class="line">boptions [-default]</div><div class="line"></div><div class="line">-default - allows to set all options to default state.</div></div><!-- fragment --><p>To have an effect the options should be set before the operation (before <em>bfillds</em> command).</p>
<h3><a class="anchor" id="occt_draw_bop_options_par"></a>
Parallel processing mode</h3>
<p><b>brunparallel</b> command enables/disables the parallel processing mode of the operation.</p>
<p>Syntax: </p><div class="fragment"><div class="line">brunparallel flag</div><div class="line"></div><div class="line">Where:</div><div class="line">flag is the boolean flag controlling the mode:</div><div class="line">flag == 0 - parallel processing mode is off.</div><div class="line">flag != 0 - parallel processing mode is on.</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h3><a class="anchor" id="occt_draw_bop_options_safe"></a>
Safe processing mode</h3>
<p><b>bnondestructive</b> command enables/disables the safe processing mode in which the input arguments are protected from modification.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bnondestructive flag</div><div class="line"></div><div class="line">Where:</div><div class="line">flag is the boolean flag controlling the mode:</div><div class="line">flag == 0 - safe processing mode is off.</div><div class="line">flag != 0 - safe processing mode is on.</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h3><a class="anchor" id="occt_draw_bop_options_fuzzy"></a>
Fuzzy option</h3>
<p><b>bfuzzyvalue</b> command sets the additional tolerance for operations.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bfuzzyvalue value</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h3><a class="anchor" id="occt_draw_bop_options_glue"></a>
Gluing option</h3>
<p><b>bglue</b> command sets the gluing mode for the BOP algorithms.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bglue 0/1/2</div><div class="line"></div><div class="line">Where:</div><div class="line">0 - disables gluing mode.</div><div class="line">1 - enables the Shift gluing mode.</div><div class="line">2 - enables the Full gluing mode.</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h3><a class="anchor" id="occt_draw_bop_options_checkinv"></a>
Check inversion of input solids</h3>
<p><b>bcheckinverted</b> command enables/disables the check of the input solids on inverted status in BOP algorithms.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bcheckinverted 0 (off) / 1 (on)</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h3><a class="anchor" id="occt_draw_bop_options_obb"></a>
OBB usage</h3>
<p><b>buseobb</b> commannd enables/disables the usage of OBB in BOP algorithms.</p>
<p>Syntax: </p><div class="fragment"><div class="line">buseobb 0 (off) / 1 (on)</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h3><a class="anchor" id="occt_draw_bop_options_simplify"></a>
Result simplification</h3>
<p><b>bsimplify</b> command enables/disables the result simplification after BOP. The command is applicable only to the API variants of GF, BOP and Split operations.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bsimplify [-e 0/1] [-f 0/1] [-a tol]</div><div class="line"></div><div class="line">Where:</div><div class="line">-e 0/1 - enables/disables edges unification</div><div class="line">-f 0/1 - enables/disables faces unification</div><div class="line">-a tol - changes default angular tolerance of unification algo.</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_bop_options_warn"></a>
Drawing warning shapes</h3>
<p><b>bdrawwarnshapes</b> command enables/disables drawing of warning shapes of BOP algorithms.</p>
<p>Syntax: </p><div class="fragment"><div class="line">bdrawwarnshapes 0 (do not draw) / 1 (draw warning shapes)</div></div><!-- fragment --><p>The command is applicable for all commands in the component.</p>
<h2><a class="anchor" id="occt_draw_bop_check"></a>
Check commands</h2>
<p>The following commands are analyzing the given shape on the validity of Boolean operation.</p>
<h3><a class="anchor" id="occt_draw_bop_check_1"></a>
bopcheck</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bopcheck shape [level of check: 0 - 9]</div></div><!-- fragment --><p>It checks the given shape for self-interference. The optional level of check allows limiting the check to certain intersection types. Here are the types of interferences that will be checked for given level of check:</p><ul>
<li>0 - only V/V;</li>
<li>1 - V/V and V/E;</li>
<li>2 - V/V, V/E and E/E;</li>
<li>3 - V/V, V/E, E/E and V/F;</li>
<li>4 - V/V, V/E, E/E, V/F and E/F;</li>
<li>5 - V/V, V/E, E/E, V/F, E/F and F/F;</li>
<li>6 - V/V, V/E, E/E, V/F, E/F, F/F and V/S;</li>
<li>7 - V/V, V/E, E/E, V/F, E/F, F/F, V/S and E/S;</li>
<li>8 - V/V, V/E, E/E, V/F, E/F, F/F, V/S, E/S and F/S;</li>
<li>9 - V/V, V/E, E/E, V/F, E/F, F/F, V/S, E/S, F/S and S/S - all interferences (Default value)</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">box b1 10 10 10</div><div class="line">box b2 3 3 3 4 4 4</div><div class="line">compound b1 b2 c</div><div class="line">bopcheck c</div></div><!-- fragment --><p>In this example one box is completely included into other box. So the output shows that all sub-shapes of b2 interfering with the solid b1. <b>bopcheck</b> command does not modifies the input shape, thus can be safely used.</p>
<h3><a class="anchor" id="occt_draw_bop_check_2"></a>
bopargcheck</h3>
<p><b>bopargcheck</b> syntax: </p><div class="fragment"><div class="line">bopargcheck Shape1 [[Shape2] [-F/O/C/T/S/U] [/R|F|T|V|E|I|P|C|S]] [#BF]</div><div class="line"></div><div class="line"> -&lt;Boolean Operation&gt;</div><div class="line"> F (fuse)</div><div class="line"> O (common)</div><div class="line"> C (cut)</div><div class="line"> T (cut21)</div><div class="line"> S (section)</div><div class="line"> U (unknown)</div><div class="line"> For example: &quot;bopargcheck s1 s2 -F&quot; enables checking for Fuse operation</div><div class="line"> default - section</div><div class="line"></div><div class="line"> /&lt;Test Options&gt;</div><div class="line"> R (disable small edges (shrank range) test)</div><div class="line"> F (disable faces verification test)</div><div class="line"> T (disable tangent faces searching test)</div><div class="line"> V (disable test possibility to merge vertices)</div><div class="line"> E (disable test possibility to merge edges)</div><div class="line"> I (disable self-interference test)</div><div class="line"> P (disable shape type test)</div><div class="line"> C (disable test for shape continuity)</div><div class="line"> S (disable curve on surface check)</div><div class="line"> For example: &quot;bopargcheck s1 s2 /RI&quot; disables small edge detection and self-intersection detection</div><div class="line"> default - all options are enabled</div><div class="line"></div><div class="line"> #&lt;Additional Test Options&gt;</div><div class="line"> B (stop test on first faulty found); default OFF</div><div class="line"> F (full output for faulty shapes); default - output in a short format</div><div class="line"></div><div class="line"> NOTE: &lt;Boolean Operation&gt; and &lt;Test Options&gt; are used only for couple of argument shapes, except I and P options that are always used for couple of shapes as well as for single shape test.</div></div><!-- fragment --><p>As you can see <em>bopargcheck</em> performs more extended check of the given shapes than <em>bopcheck</em>.</p>
<p><b>Example:</b> Let's make an edge with big vertices: </p><div class="fragment"><div class="line">vertex v1 0 0 0</div><div class="line">settolerance v1 0.5</div><div class="line">vertex v2 1 0 0</div><div class="line">settolerance v2 0.5</div><div class="line">edge e v1 v2</div><div class="line">top; don e; fit</div><div class="line">tolsphere e</div><div class="line"></div><div class="line">bopargcheck e</div></div><!-- fragment --><p> Here is the output of this command: </p><div class="fragment"><div class="line">Made faulty shape: s1si_1</div><div class="line">Made faulty shape: s1se_1</div><div class="line">Faulties for FIRST  shape found : 2</div><div class="line">---------------------------------</div><div class="line">Shapes are not suppotrted by BOP: NO</div><div class="line">Self-Intersections              : YES  Cases(1)  Total shapes(2)</div><div class="line">Check for SI has been aborted   : NO</div><div class="line">Too small edges                 : YES  Cases(1)  Total shapes(1)</div><div class="line">Bad faces                       : NO</div><div class="line">Too close vertices              : DISABLED</div><div class="line">Too close edges                 : DISABLED</div><div class="line">Shapes with Continuity C0       : NO</div><div class="line">Invalid Curve on Surface        : NO</div><div class="line"></div><div class="line">Faulties for SECOND  shape found : 0</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_bop_debug"></a>
Debug commands</h2>
<p>The following terms and definitions are used in this chapter:</p><ul>
<li><b>DS</b> &ndash; internal data structure used by the algorithm (<em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_o_p_d_s___d_s.html">BOPDS_DS</a></em> object).</li>
<li><b>PaveFiller</b> &ndash; intersection part of the algorithm (<em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_o_p_algo___pave_filler.html">BOPAlgo_PaveFiller</a></em> object).</li>
<li><b>Builder</b> &ndash; builder part of the algorithm (<em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_o_p_algo___builder.html">BOPAlgo_Builder</a></em> object).</li>
<li><b>IDS Index</b> &ndash; the index of the vector <em>myLines</em>.</li>
</ul>
<h3><a class="anchor" id="occt_draw_bop_debug_int"></a>
Intersection Part commands</h3>
<p>All commands listed below are available when the Intersection Part of the algorithm is done (i.e. after the command <em>bfillds</em>).</p>
<p><b>bopds</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopds -v [e, f] </div></div><!-- fragment --><p>Displays:</p><ul>
<li>all BRep shapes of arguments that are in the DS [default];</li>
<li><em>-v</em> : only vertices of arguments that are in the DS;</li>
<li><em>-e</em> : only edges of arguments that are in the DS;</li>
<li><em>-f</em> : only faces of arguments that are in the DS.</li>
</ul>
<p><b>bopdsdump</b></p>
<p>Prints contents of the DS.</p>
<p>Example: </p><div class="fragment"><div class="line">Draw[28]&gt; bopdsdump</div><div class="line">*** DS ***</div><div class="line">Ranges:2           number of ranges</div><div class="line">range: 0 33        indices for range 1</div><div class="line">range: 34 67       indices for range 2</div><div class="line">Shapes:68      total number of source shapes</div><div class="line">0 : SOLID { 1 }</div><div class="line">1 : SHELL { 2 12 22 26 30 32 }</div><div class="line">2 : FACE { 4 5 6 7 8 9 10 11 }</div><div class="line">3 : WIRE { 4 7 9 11 }</div><div class="line">4 : EDGE { 5 6 }</div><div class="line">5 : VERTEX { }</div><div class="line">6 : VERTEX { }</div><div class="line">7 : EDGE { 8 5 }</div><div class="line">8 : VERTEX { }</div></div><!-- fragment --><div class="fragment"><div class="line">0 : SOLID { 1 } </div></div><!-- fragment --><p> has the following meaning:</p><ul>
<li><em>0</em> &ndash; index in the DS;</li>
<li><em>SOLID</em> &ndash; type of the shape;</li>
<li><em>{ 1 }</em> &ndash; a DS index of the successors.</li>
</ul>
<p><b>bopindex</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopindex S</div></div><!-- fragment --><p> Prints DS index of shape <em>S</em>.</p>
<p><b>bopiterator</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopiterator [t1 t2]</div></div><!-- fragment --><p>Prints pairs of DS indices of source shapes that are intersected in terms of bounding boxes.</p>
<p><em>[t1 t2]</em> are types of the shapes:</p><ul>
<li><em>7</em> &ndash; vertex;</li>
<li><em>6</em> &ndash; edge;</li>
<li><em>4</em> &ndash; face.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">Draw[104]&gt; bopiterator 6 4</div><div class="line">EF: ( z58 z12 )</div><div class="line">EF: ( z17 z56 )</div><div class="line">EF: ( z19 z64 )</div><div class="line">EF: ( z45 z26 )</div><div class="line">EF: ( z29 z36 )</div><div class="line">EF: ( z38 z32 )</div></div><!-- fragment --><ul>
<li><em>bopiterator 6 4</em> prints pairs of indices for types: edge/face;</li>
<li><em>z58 z12</em> &ndash; DS indices of intersecting edge and face.</li>
</ul>
<p><b>bopinterf</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopinterf t</div></div><!-- fragment --><p>Prints contents of <em>myInterfTB</em> for the type of interference <em>t</em>:</p><ul>
<li><em>t=0</em> : vertex/vertex;</li>
<li><em>t=1</em> : vertex/edge;</li>
<li><em>t=2</em> : edge/edge;</li>
<li><em>t=3</em> : vertex/face;</li>
<li><em>t=4</em> : edge/face.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">Draw[108]&gt; bopinterf 4</div><div class="line">EF: (58, 12, 68), (17, 56, 69), (19, 64, 70), (45, 26, 71), (29, 36, 72), (38, 32, 73), 6 EF found.</div></div><!-- fragment --><p>Here, record <em>(58, 12, 68)</em> means:</p><ul>
<li><em>58</em> &ndash; a DS index of the edge;</li>
<li><em>12</em> &ndash; a DS index of the face;</li>
<li><em>68</em> &ndash; a DS index of the new vertex.</li>
</ul>
<p><b>bopsp</b></p>
<p>Displays split edges.</p>
<p>Example: </p><div class="fragment"><div class="line">Draw[33]&gt; bopsp</div><div class="line">edge 58 : z58_74 z58_75</div><div class="line">edge 17 : z17_76 z17_77</div><div class="line">edge 19 : z19_78 z19_79</div><div class="line">edge 45 : z45_80 z45_81</div><div class="line">edge 29 : z29_82 z29_83</div><div class="line">edge 38 : z38_84 z38_85</div></div><!-- fragment --><ul>
<li><em>edge 58</em> &ndash; 58 is a DS index of the original edge.</li>
<li><em>z58_74 z58_75</em> &ndash; split edges, where 74, 75 are DS indices of the split edges.</li>
</ul>
<p><b>bopcb</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopcb [nE]</div></div><!-- fragment --><p>Prints Common Blocks for:</p><ul>
<li>all source edges (by default);</li>
<li>the source edge with the specified index <em>nE</em>.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">Draw[43]&gt; bopcb 17</div><div class="line">-- CB:</div><div class="line">PB:{ E:71 orE:17 Pave1: { 68 3.000 } Pave2: { 18 10.000 } }</div><div class="line">Faces: 36</div></div><!-- fragment --><p>This command dumps common blocks for the source edge with index 17.</p><ul>
<li><em>PB</em> &ndash; information about the Pave Block;<ul>
<li><em>71</em> &ndash; a DS index of the split edge</li>
<li><em>17</em> &ndash; a DS index of the original edge</li>
</ul>
</li>
<li><em>Pave1 : { 68 3.000 }</em> &ndash; information about the Pave:<ul>
<li><em>68</em> &ndash; a DS index of the vertex of the pave</li>
<li><em>3.000</em> &ndash; a parameter of vertex 68 on edge 17</li>
</ul>
</li>
<li><em>Faces: 36</em> &ndash; 36 is a DS index of the face the common block belongs to.</li>
</ul>
<p><b>bopfin</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopfin nF   </div></div><!-- fragment --><p> Prints Face Info about IN-parts for the face with DS index <em>nF</em>.</p>
<p>Example: </p><div class="fragment"><div class="line">Draw[47]&gt; bopfin 36</div><div class="line">pave blocks In:</div><div class="line">PB:{ E:71 orE:17 Pave1: { 68 3.000 } Pave2: { 18 10.000 } }</div><div class="line">PB:{ E:75 orE:19 Pave1: { 69 3.000 } Pave2: { 18 10.000 } }</div><div class="line">vrts In:</div><div class="line">18</div></div><!-- fragment --><ul>
<li><em>PB:{ E:71 orE:17 Pave1: { 68 3.000 } Pave2: { 18 10.000 } }</em> &ndash; information about the Pave Block;</li>
<li><em>vrts In ... 18 </em> &ndash; a DS index of the vertex IN the face.</li>
</ul>
<p><b>bopfon</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopfon nF</div></div><!-- fragment --><p> Print Face Info about ON-parts for the face with DS index <em>nF</em>.</p>
<p>Example: </p><div class="fragment"><div class="line">Draw[58]&gt; bopfon 36</div><div class="line">pave blocks On:</div><div class="line">PB:{ E:72 orE:38 Pave1: { 69 0.000 } Pave2: { 68 10.000 } }</div><div class="line">PB:{ E:76 orE:45 Pave1: { 69 0.000 } Pave2: { 71 10.000 } }</div><div class="line">PB:{ E:78 orE:43 Pave1: { 71 0.000 } Pave2: { 70 10.000 } }</div><div class="line">PB:{ E:74 orE:41 Pave1: { 68 0.000 } Pave2: { 70 10.000 } }</div><div class="line">vrts On:</div><div class="line">68 69 70 71</div></div><!-- fragment --><ul>
<li><em>PB:{ E:72 orE:38 Pave1: { 69 0.000 } Pave2: { 68 10.000 } }</em> &ndash; information about the Pave Block;</li>
<li><em>vrts On: ... 68 69 70 71</em> &ndash; DS indices of the vertices ON the face.</li>
</ul>
<p><b>bopwho</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopwho nS</div></div><!-- fragment --><p>Prints the information about the shape with DS index <em>nF</em>.</p>
<p>Example: </p><div class="fragment"><div class="line">Draw[116]&gt; bopwho 5</div><div class="line">rank: 0</div></div><!-- fragment --><ul>
<li><em>rank: 0</em> &ndash; means that shape 5 results from the Argument with index 0.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">Draw[118]&gt; bopwho 68</div><div class="line">the shape is new</div><div class="line">EF: (58, 12),</div><div class="line">FF curves: (12, 56),</div><div class="line">FF curves: (12, 64),</div></div><!-- fragment --><p>This means that shape 68 is a result of the following interferences:</p><ul>
<li><em>EF: (58, 12)</em> &ndash; edge 58 / face 12</li>
<li><em>FF curves: (12, 56)</em> &ndash; edge from the intersection curve between faces 12 and 56</li>
<li><em>FF curves: (12, 64)</em> &ndash; edge from the intersection curve between faces 12 and 64</li>
</ul>
<p><b>bopnews</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopnews -v [-e]</div></div><!-- fragment --><ul>
<li><em>-v</em> &ndash; displays all new vertices produced during the operation;</li>
<li><em>-e</em> &ndash; displays all new edges produced during the operation.</li>
</ul>
<h3><a class="anchor" id="occt_draw_bop_debug_build"></a>
Building Part commands</h3>
<p>The commands listed below are available when the Building Part of the algorithm is done (i.e. after the command <em>bbuild</em>).</p>
<p><b>bopim</b></p>
<p>Syntax: </p><div class="fragment"><div class="line">bopim S</div></div><!-- fragment --><p> Shows the compound of shapes that are images of shape <em>S</em> from the argument.</p>
<h1><a class="anchor" id="occt_draw_8"></a>
Data Exchange commands</h1>
<p>This chapter presents some general information about Data Exchange (DE) operations.</p>
<p>DE commands are intended for translation files of various formats (IGES,STEP) into OCCT shapes with their attributes (colors, layers etc.)</p>
<p>This files include a number of entities. Each entity has its own number in the file which we call label and denote as # for a STEP file and D for an IGES file. Each file has entities called roots (one or more). A full description of such entities is contained in the Users' Guides</p><ul>
<li>for <a href="user_guides__step.html#occt_step_1">STEP format</a> and</li>
<li>for <a href="user_guides__iges.html#occt_iges_1">IGES format</a>.</li>
</ul>
<p>Each <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> session has an interface model, which is a structure for keeping various information.</p>
<p>The first step of translation is loading information from a file into a model. The second step is creation of an OpenCASCADE shape from this model.</p>
<p>Each entity from a file has its own number in the model (num). During the translation a map of correspondences between labels(from file) and numbers (from model) is created.</p>
<p>The model and the map are used for working with most of DE commands.</p>
<h2><a class="anchor" id="occt_draw_8_1"></a>
IGES commands</h2>
<h3><a class="anchor" id="occt_draw_8_1_1"></a>
igesread</h3>
<p>Syntax: </p><div class="fragment"><div class="line">igesread &lt;file_name&gt; &lt;result_shape_name&gt; [&lt;selection&gt;]</div></div><!-- fragment --><p>Reads an IGES file to an OCCT shape. This command will interactively ask the user to select a set of entities to be converted.</p>
<table class="doxtable">
<tr>
<th align="left">N </th><th align="left">Mode </th><th align="left">Description  </th></tr>
<tr>
<td align="left">0 </td><td align="left">End </td><td align="left">finish conversion and exit igesbrep </td></tr>
<tr>
<td align="left">1 </td><td align="left">Visible roots </td><td align="left">convert only visible roots </td></tr>
<tr>
<td align="left">2 </td><td align="left">All roots </td><td align="left">convert all roots </td></tr>
<tr>
<td align="left">3 </td><td align="left">One entity </td><td align="left">convert entity with number provided by the user </td></tr>
<tr>
<td align="left">4 </td><td align="left">Selection </td><td align="left">convert only entities contained in selection </td></tr>
</table>
<p>After the selected set of entities is loaded the user will be asked how loaded entities should be converted into OCCT shapes (e.g., one shape per root or one shape for all the entities). It is also possible to save loaded shapes in files, and to cancel loading.</p>
<p>The second parameter of this command defines the name of the loaded shape. If several shapes are created, they will get indexed names. For instance, if the last parameter was <em>s</em>, they will be <em>s_1, ... s_N</em>.</p>
<p><em>&lt;selection&gt;</em> specifies the scope of selected entities in the model, by default it is <em>xst-transferrable-roots</em>. If we use symbol <em>*</em> as <em>&lt;selection&gt;</em> all roots will be translated.</p>
<p>See also the detailed description of <a href="user_guides__iges.html#occt_iges_2_3_4">Selecting IGES entities</a>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># translation all roots from file </div><div class="line">igesread /disk01/files/model.igs a  * </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_1_2"></a>
tplosttrim</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tplosttrim [&lt;IGES_type&gt;] </div></div><!-- fragment --><p>Sometimes the trimming contours of IGES faces (i.e., entity 141 for 143, 142 for 144) can be lost during translation due to fails. This command gives us a number of lost trims and the number of corresponding IGES entities. It outputs the rank and numbers of faces that lost their trims and their numbers for each type (143, 144, 510) and their total number. If a face lost several of its trims it is output only once. Optional parameter <em>&lt;IGES_type&gt;</em> can be <em>0TrimmedSurface, BoundedSurface</em> or <em>Face</em> to specify the only type of IGES faces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">tplosttrim TrimmedSurface </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_1_3"></a>
brepiges</h3>
<p>Syntax: </p><div class="fragment"><div class="line">brepiges &lt;shape_name&gt; &lt;filename.igs&gt;</div></div><!-- fragment --><p>Writes an OCCT shape to an IGES file.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># write shape with name aa to IGES file </div><div class="line">brepiges aa /disk1/tmp/aaa.igs </div><div class="line">== unit (write) : MM </div><div class="line">== mode  write  : Faces </div><div class="line">==   To modifiy : command  param </div><div class="line">== 1 Shapes written, giving 345 Entities </div><div class="line">==  Now, to write a file, command : writeall filename </div><div class="line">==  Output on file : /disk1/tmp/aaa.igs </div><div class="line">==  Write OK </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_2"></a>
STEP commands</h2>
<p>These commands are used during the translation of STEP models.</p>
<h3><a class="anchor" id="occt_draw_8_2_1"></a>
stepread</h3>
<p>Syntax: </p><div class="fragment"><div class="line">stepread file_name result_shape_name [selection] </div></div><!-- fragment --><p>Read a STEP file to an OCCT shape. This command will interactively ask the user to select a set of entities to be converted:</p>
<table class="doxtable">
<tr>
<th align="left">N </th><th align="left">Mode </th><th align="left">Description  </th></tr>
<tr>
<td align="left">0 </td><td align="left">End </td><td align="left">Finish transfer and exit stepread </td></tr>
<tr>
<td align="left">1 </td><td align="left">root with rank 1 </td><td align="left">Transfer first root </td></tr>
<tr>
<td align="left">2 </td><td align="left">root by its rank </td><td align="left">Transfer root specified by its rank </td></tr>
<tr>
<td align="left">3 </td><td align="left">One entity </td><td align="left">Transfer entity with a number provided by the user </td></tr>
<tr>
<td align="left">4 </td><td align="left">Selection </td><td align="left">Transfer only entities contained in selection </td></tr>
</table>
<p>After the selected set of entities is loaded the user will be asked how loaded entities should be converted into OCCT shapes. The second parameter of this command defines the name of the loaded shape. If several shapes are created, they will get indexed names. For instance, if the last parameter was <em>s</em>, they will be <em>s_1, ... s_N</em>. <em>&lt;selection&gt;</em> specifies the scope of selected entities in the model. If we use symbol <em>*</em> as <em>&lt;selection&gt;</em> all roots will be translated.</p>
<p>See also the detailed description of <a href="user_guides__step.html#occt_step_2_3_6">Selecting STEP entities</a>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># translation all roots from file </div><div class="line">stepread /disk01/files/model.stp a  * </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_2_2"></a>
stepwrite</h3>
<p>Syntax: </p><div class="fragment"><div class="line">stepwrite mode shape_name file_name </div></div><!-- fragment --><p>Writes an OCCT shape to a STEP file.</p>
<p>The following modes are available :</p><ul>
<li><em>a</em> &ndash; as is &ndash; the mode is selected automatically depending on the type &amp; geometry of the shape;</li>
<li><em>m</em> &ndash; <em>manifold_solid_brep</em> or <em>brep_with_voids</em></li>
<li><em>f</em> &ndash; <em>faceted_brep</em></li>
<li><em>w</em> &ndash; <em>geometric_curve_set</em></li>
<li><em>s</em> &ndash; <em>shell_based_surface_model</em></li>
</ul>
<p>For further information see <a href="#user_guides__step.html#occt_step_6_5">Writing a STEP file</a>.</p>
<p><b>Example:</b></p>
<p>Let us write shape <em>a</em> to a STEP file in mode <em>0</em>.</p>
<div class="fragment"><div class="line">stepwrite 0 a /disk1/tmp/aaa.igs </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_3"></a>
General commands</h2>
<p>These are auxilary commands used for the analysis of result of translation of IGES and STEP files.</p>
<h3><a class="anchor" id="occt_draw_8_3_1"></a>
count</h3>
<p>Syntax: </p><div class="fragment"><div class="line">count &lt;counter&gt; [&lt;selection&gt;] </div></div><!-- fragment --><p>Calculates statistics on the entities in the model and outputs a count of entities.</p>
<p>The optional selection argument, if specified, defines a subset of entities, which are to be taken into account. The first argument should be one of the currently defined counters.</p>
<table class="doxtable">
<tr>
<th align="left">Counter </th><th align="left">Operation  </th></tr>
<tr>
<td align="left">xst-types </td><td align="left">Calculates how many entities of each OCCT type exist </td></tr>
<tr>
<td align="left">step214-types </td><td align="left">Calculates how many entities of each STEP type exist </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">count xst-types </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_2"></a>
data</h3>
<p>Syntax: </p><div class="fragment"><div class="line">data &lt;symbol&gt;</div></div><!-- fragment --><p>Obtains general statistics on the loaded data. The information printed by this command depends on the symbol specified.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># print full information about warnings and fails </div><div class="line">data c </div></div><!-- fragment --><table class="doxtable">
<tr>
<th align="left">Symbol </th><th align="left">Output  </th></tr>
<tr>
<td align="left">g </td><td align="left">Prints the information contained in the header of the file </td></tr>
<tr>
<td align="left">c or f </td><td align="left">Prints messages generated during the loading of the STEP file (when the procedure of the integrity of the loaded data check is performed) and the resulting statistics (f works only with fail messages while c with both fail and warning messages) </td></tr>
<tr>
<td align="left">t </td><td align="left">The same as c or f, with a list of failed or warned entities </td></tr>
<tr>
<td align="left">m or l </td><td align="left">The same as t but also prints a status for each entity </td></tr>
<tr>
<td align="left">e </td><td align="left">Lists all entities of the model with their numbers, types, validity status etc. </td></tr>
<tr>
<td align="left">R </td><td align="left">The same as e but lists only root entities </td></tr>
</table>
<h3><a class="anchor" id="occt_draw_8_3_3"></a>
elabel</h3>
<p>Syntax: </p><div class="fragment"><div class="line">elabel &lt;num&gt;</div></div><!-- fragment --><p>Entities in the IGES and STEP files are numbered in the succeeding order. An entity can be identified either by its number or by its label. Label is the letter ‘#'(for STEP, for IGES use ‘D’) followed by the rank. This command gives us a label for an entity with a known number.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">elabel 84 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_4"></a>
entity</h3>
<p>Syntax: </p><div class="fragment"><div class="line">entity &lt;#(D)&gt;_or_&lt;num&gt; &lt;level_of_information&gt;</div></div><!-- fragment --><p>The content of an IGES or STEP entity can be obtained by using this command. Entity can be determined by its number or label. <em>&lt;level_of_information&gt;</em> has range [0-6]. You can get more information about this level using this command without parameters.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># full information for STEP entity with label 84 </div><div class="line">entity #84 6 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_5"></a>
enum</h3>
<p>Syntax: </p><div class="fragment"><div class="line">enum &lt;#(D)&gt; </div></div><!-- fragment --><p>Prints a number for the entity with a given label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># give a number for IGES entity with label 21 </div><div class="line">enum D21 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_6"></a>
estatus</h3>
<p>Syntax: </p><div class="fragment"><div class="line">estatus &lt;#(D)&gt;_or_&lt;num&gt;</div></div><!-- fragment --><p>The list of entities referenced by a given entity and the list of entities referencing to it can be obtained by this command.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">estatus #315 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_7"></a>
fromshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">fromshape &lt;shape_name&gt;</div></div><!-- fragment --><p>Gives the number of an IGES or STEP entity corresponding to an OCCT shape. If no corresponding entity can be found and if OCCT shape is a compound the command explodes it to subshapes and try to find corresponding entities for them.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">fromshape a_1_23 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_8"></a>
givecount</h3>
<p>Syntax: </p><div class="fragment"><div class="line">givecount &lt;selection_name&gt; [&lt;selection_name&gt;]</div></div><!-- fragment --><p>Prints a number of loaded entities defined by the selection argument. Possible values of &lt;selection_name&gt; you can find in the “IGES FORMAT Users’s Guide”.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">givecount xst-model-roots </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_9"></a>
givelist</h3>
<p>Syntax: </p><div class="fragment"><div class="line">givelist &lt;selection_name&gt;</div></div><!-- fragment --><p>Prints a list of a subset of loaded entities defined by the selection argument: </p><table class="doxtable">
<tr>
<th align="left">Selection </th><th align="left">Description  </th></tr>
<tr>
<td align="left">xst-model-all </td><td align="left">all entities of the model </td></tr>
<tr>
<td align="left">xst-model-roots </td><td align="left">all roots </td></tr>
<tr>
<td align="left">xst-pointed </td><td align="left">(Interactively) pointed entities (not used in DRAW) </td></tr>
<tr>
<td align="left">xst-transferrable-all </td><td align="left">all transferable (recognized) entities </td></tr>
<tr>
<td align="left">xst-transferrable-roots </td><td align="left">Transferable roots </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># give a list of all entities of the model </div><div class="line">givelist xst-model-all </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_10"></a>
listcount</h3>
<p>Syntax: listcount &lt;counter&gt; [&lt;selection&gt; ...]</p>
<p>Prints a list of entities per each type matching the criteria defined by arguments. Optional <em>&lt;selection&gt;</em> argument, if specified, defines a subset of entities, which are to be taken into account. Argument <em>&lt;counter&gt;</em> should be one of the currently defined counters:</p>
<table class="doxtable">
<tr>
<th align="left">Counter </th><th align="left">Operation  </th></tr>
<tr>
<td align="left">xst-types </td><td align="left">Calculates how many entities of each OCCT type exist </td></tr>
<tr>
<td align="left">iges-types </td><td align="left">Calculates how many entities of each IGES type and form exist </td></tr>
<tr>
<td align="left">iges-levels </td><td align="left">Calculates how many entities lie in different IGES levels </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">listcount xst-types </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_11"></a>
listitems</h3>
<p>Syntax: </p><div class="fragment"><div class="line">listitems </div></div><!-- fragment --><p>This command prints a list of objects (counters, selections etc.) defined in the current session.</p>
<h3><a class="anchor" id="occt_draw_8_3_12"></a>
listtypes</h3>
<p>Syntax: </p><div class="fragment"><div class="line">listtypes [&lt;selection_name&gt; ...]</div></div><!-- fragment --><p>Gives a list of entity types which were encountered in the last loaded file (with a number of entities of each type). The list can be shown not for all entities but for a subset of them. This subset is defined by an optional selection argument.</p>
<h3><a class="anchor" id="occt_draw_8_3_13"></a>
newmodel</h3>
<p>Syntax: </p><div class="fragment"><div class="line">newmodel </div></div><!-- fragment --><p>Clears the current model.</p>
<h3><a class="anchor" id="occt_draw_8_3_14"></a>
param</h3>
<p>Syntax: </p><div class="fragment"><div class="line">param [&lt;parameter&gt;] [&lt;value&gt;]</div></div><!-- fragment --><p>This command is used to manage translation parameters. Command without arguments gives a full list of parameters with current values. Command with <em>&lt;parameter&gt;</em> (without <em></em></p>
<p><em></em>) gives us the current value of this parameter and all possible values for it. Command with <em></em></p>
<p><em></em> sets this new value to <em>&lt;parameter&gt;</em>.</p>
<p><b>Example:</b></p>
<p>Let us get the information about possible schemes for writing STEP file :</p>
<div class="fragment"><div class="line">param write.step.schema </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_15"></a>
sumcount</h3>
<p>Syntax: </p><div class="fragment"><div class="line">sumcount &lt;counter&gt; [&lt;selection&gt; ...]</div></div><!-- fragment --><p>Prints only a number of entities per each type matching the criteria defined by arguments.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">sumcount xst-types </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_16"></a>
tpclear</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tpclear  </div></div><!-- fragment --><p>Clears the map of correspondences between IGES or STEP entities and OCCT shapes.</p>
<h3><a class="anchor" id="occt_draw_8_3_17"></a>
tpdraw</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tpdraw &lt;#(D)&gt;_or_&lt;num&gt;</div></div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">tpdraw 57 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_18"></a>
tpent</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tpent &lt;#(D)&gt;_or_&lt;num&gt;</div></div><!-- fragment --><p>Get information about the result of translation of the given IGES or STEP entity.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">tpent \#23 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_19"></a>
tpstat</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tpstat [*|?]&lt;symbol&gt; [&lt;selection&gt;]</div></div><!-- fragment --><p>Provides all statistics on the last transfer, including a list of transferred entities with mapping from IGES or STEP to OCCT types, as well as fail and warning messages. The parameter <em>&lt;symbol&gt;</em> defines what information will be printed:</p>
<ul>
<li><em>g</em> &ndash; General statistics (a list of results and messages)</li>
<li><em>c</em> &ndash; Count of all warning and fail messages</li>
<li><em>C</em> &ndash; List of all warning and fail messages</li>
<li><em>f</em> &ndash; Count of all fail messages</li>
<li><em>F</em> &ndash; List of all fail messages</li>
<li><em>n</em> &ndash; List of all transferred roots</li>
<li><em>s</em> &ndash; The same, with types of source entity and the type of result</li>
<li><em>b</em> &ndash; The same, with messages</li>
<li><em>t</em> &ndash; Count of roots for geometrical types</li>
<li><em>r</em> &ndash; Count of roots for topological types</li>
<li><em>l</em> &ndash; The same, with the type of the source entity</li>
</ul>
<p>The sign * before parameters <em>n, s, b, t, r</em> makes it work on all entities (not only on roots).</p>
<p>The sign ? before <em>n, s, b, t</em> limits the scope of information to invalid entities.</p>
<p>Optional argument &lt;selection&gt; can limit the action of the command to the selection, not to all entities.</p>
<p>To get help, run this command without arguments.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># translation ratio on IGES faces </div><div class="line">tpstat *l iges-faces </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_3_20"></a>
xload</h3>
<p>Syntax: </p><div class="fragment"><div class="line">xload &lt;file_name&gt;</div></div><!-- fragment --><p>This command loads an IGES or STEP file into memory (i.e. to fill the model with data from the file) without creation of an OCCT shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">xload /disk1/tmp/aaa.stp </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_4"></a>
Overview of XDE commands</h2>
<p>These commands are used for translation of IGES and STEP files into an XCAF document (special document is inherited from CAF document and is intended for Extended Data Exchange (XDE) ) and working with it. XDE translation allows reading and writing of shapes with additional attributes &ndash; colors, layers etc. All commands can be divided into the following groups:</p><ul>
<li>XDE translation commands</li>
<li>XDE general commands</li>
<li>XDE shape’s commands</li>
<li>XDE color’s commands</li>
<li>XDE layer’s commands</li>
<li>XDE property’s commands</li>
</ul>
<p>Reminding: All operations of translation are performed with parameters managed by command <a class="el" href="occt_user_guides__test_harness.html#occt_draw_8_3_14">param</a>.</p>
<h3><a class="anchor" id="occt_draw_8_4_1"></a>
ReadIges</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ReadIges document file_name </div></div><!-- fragment --><p>Reads information from an IGES file to an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ReadIges D /disk1/tmp/aaa.igs </div><div class="line">==&gt; Document saved with name D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_2"></a>
ReadStep</h3>
<p>Syntax: </p><div class="fragment"><div class="line">ReadStep &lt;document&gt; &lt;file_name&gt;</div></div><!-- fragment --><p>Reads information from a STEP file to an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">ReadStep D /disk1/tmp/aaa.stp </div><div class="line">== Document saved with name D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_3"></a>
WriteIges</h3>
<p>Syntax: </p><div class="fragment"><div class="line">WriteIges &lt;document&gt; &lt;file_name&gt;</div></div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">WriteIges D /disk1/tmp/aaa.igs </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_4"></a>
WriteStep</h3>
<p>Syntax: </p><div class="fragment"><div class="line">WriteStep &lt;document&gt; &lt;file_name&gt;</div></div><!-- fragment --><p>Writes information from an XCAF document to a STEP file.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">WriteStep D /disk1/tmp/aaa.stp </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_5"></a>
XFileCur</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFileCur  </div></div><!-- fragment --><p>Returns the name of file which is set as the current one in the <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> session.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFileCur </div><div class="line">== *as1-ct-203.stp* </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_6"></a>
XFileList</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFileList  </div></div><!-- fragment --><p>Returns a list all files that were transferred by the last transfer. This command is meant (assigned) for the assemble step file.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFileList </div><div class="line">==&gt; *as1-ct-Bolt.stp* </div><div class="line">==&gt; *as1-ct-L-Bracktet.stp* </div><div class="line">==&gt; *as1-ct-LBA.stp* </div><div class="line">==&gt; *as1-ct-NBA.stp* </div><div class="line">==&gt; … </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_7"></a>
XFileSet</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFileSet &lt;filename&gt; </div></div><!-- fragment --><p>Sets the current file taking it from the components list of the assemble file.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFileSet as1-ct-NBA.stp </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_4_8"></a>
XFromShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFromShape &lt;shape&gt;</div></div><!-- fragment --><p>This command is similar to the command <a class="el" href="occt_user_guides__test_harness.html#occt_draw_8_3_7">fromshape</a>, but gives additional information about the file name. It is useful if a shape was translated from several files.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFromShape a </div><div class="line">==&gt; Shape a: imported from entity 217:#26 in file as1-ct-Nut.stp </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_5"></a>
XDE general commands</h2>
<h3><a class="anchor" id="occt_draw_8_5_1"></a>
XNewDoc</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XNewDoc &lt;document&gt;</div></div><!-- fragment --><p>Creates a new XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XNewDoc D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_5_2"></a>
XShow</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XShow &lt;document&gt; [ &lt;label1&gt; … ]</div></div><!-- fragment --><p>Shows a shape from a given label in the 3D viewer. If the label is not given &ndash; shows all shapes from the document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># show shape from label 0:1:1:4 from document D </div><div class="line">XShow D 0:1:1:4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_5_3"></a>
XStat</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XStat &lt;document&gt;</div></div><!-- fragment --><p>Prints common information from an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XStat D </div><div class="line">==&gt;Statistis of shapes in the document: </div><div class="line">==&gt;level N 0 : 9 </div><div class="line">==&gt;level N 1 : 18 </div><div class="line">==&gt;level N 2 : 5 </div><div class="line">==&gt;Total number of labels for shapes in the document = 32 </div><div class="line">==&gt;Number of labels with name = 27 </div><div class="line">==&gt;Number of labels with color link = 3 </div><div class="line">==Number of labels with layer link = 0 </div><div class="line">==&gt;Statistis of Props in the document: </div><div class="line">==&gt;Number of Centroid Props = 5 </div><div class="line">==&gt;Number of Volume Props = 5 </div><div class="line">==&gt;Number of Area Props = 5 </div><div class="line">==&gt;Number of colors = 4 </div><div class="line">==&gt;BLUE1 RED YELLOW BLUE2 </div><div class="line">==&gt;Number of layers = 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_5_4"></a>
XWdump</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XWdump &lt;document&gt; &lt;filename&gt;</div></div><!-- fragment --><p>Saves the contents of the viewer window as an image (XWD, png or BMP file). <em>&lt;filename&gt;</em> must have a corresponding extention.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XWdump D /disk1/tmp/image.png </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_5_5"></a>
Xdump</h3>
<p>Syntax: </p><div class="fragment"><div class="line">Xdump &lt;document&gt; [int deep {0|1}]</div></div><!-- fragment --><p>Prints information about the tree structure of the document. If parameter 1 is given, then the tree is printed with a link to shapes.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Xdump D 1 </div><div class="line">==&gt; ASSEMBLY 0:1:1:1 L-BRACKET(0xe8180448) </div><div class="line">==&gt; ASSEMBLY 0:1:1:2 NUT(0xe82151e8) </div><div class="line">==&gt; ASSEMBLY 0:1:1:3 BOLT(0xe829b000) </div><div class="line">==&gt; ASSEMBLY 0:1:1:4 PLATE(0xe8387780) </div><div class="line">==&gt; ASSEMBLY 0:1:1:5 ROD(0xe8475418) </div><div class="line">==&gt; ASSEMBLY 0:1:1:6 AS1(0xe8476968) </div><div class="line">==&gt;    ASSEMBLY 0:1:1:7 L-BRACKET-ASSEMBLY(0xe8476230) </div><div class="line">==&gt;       ASSEMBLY 0:1:1:1 L-BRACKET(0xe8180448) </div><div class="line">==&gt;       ASSEMBLY 0:1:1:8 NUT-BOLT-ASSEMBLY(0xe8475ec0) </div><div class="line">==&gt;               ASSEMBLY 0:1:1:2 NUT(0xe82151e8) </div><div class="line">==&gt;               ASSEMBLY 0:1:1:3 BOLT(0xe829b000) </div><div class="line">etc. </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_6"></a>
XDE shape commands</h2>
<h3><a class="anchor" id="occt_draw_8_6_1"></a>
XAddComponent</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XAddComponent &lt;document&gt; &lt;label&gt; &lt;shape&gt; </div></div><!-- fragment --><p>Adds a component shape to assembly.</p>
<p><b>Example:</b></p>
<p>Let us add shape b as component shape to assembly shape from label <em>0:1:1:1</em></p>
<div class="fragment"><div class="line">XAddComponent D 0:1:1:1 b </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_2"></a>
XAddShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XAddShape &lt;document&gt; &lt;shape&gt; [makeassembly=1]</div></div><!-- fragment --><p>Adds a shape (or an assembly) to a document. If this shape already exists in the document, then prints the label which points to it. By default, a new shape is added as an assembly (i.e. last parameter 1), otherwise it is necessary to pass 0 as the last parameter.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># add shape b to document D </div><div class="line">XAddShape D b 0 </div><div class="line">== 0:1:1:10 </div><div class="line"># if pointed shape is compound and last parameter in </div><div class="line"># XAddShape command is used by default (1), then for </div><div class="line"># each subshapes new label is created </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_3"></a>
XFindComponent</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFindComponent &lt;document&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Prints a sequence of labels of the assembly path.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFindComponent D b </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_4"></a>
XFindShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFindShape &lt;document&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Finds and prints a label with an indicated top-level shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFindShape D a </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_5"></a>
XGetFreeShapes</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetFreeShapes &lt;document&gt; [shape_prefix]</div></div><!-- fragment --><p>Print labels or create DRAW shapes for all free shapes in the document. If <em>shape_prefix</em> is absent &ndash; prints labels, else &ndash; creates DRAW shapes with names <em>shape_prefix</em>_num (i.e. for example: there are 3 free shapes and <em>shape_prefix</em> = a therefore shapes will be created with names a_1, a_2 and a_3).</p>
<p><b>Note</b>: a free shape is a shape to which no other shape refers to.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetFreeShapes D </div><div class="line">== 0:1:1:6 0:1:1:10 0:1:1:12 0:1:1:13 </div><div class="line"></div><div class="line">XGetFreeShapes D sh </div><div class="line">== sh_1 sh_2 sh_3 sh_4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_6"></a>
XGetOneShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetOneShape &lt;shape&gt; &lt;document&gt;</div></div><!-- fragment --><p>Creates one DRAW shape for all free shapes from a document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetOneShape a D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_7"></a>
XGetReferredShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetReferredShape &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Prints a label that contains a top-level shape that corresponds to a shape at a given label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetReferredShape D 0:1:1:1:1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_8"></a>
XGetShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetShape &lt;result&gt; &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Puts a shape from the indicated label in document to result.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetShape b D 0:1:1:3 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_9"></a>
XGetTopLevelShapes</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetTopLevelShapes &lt;document&gt;</div></div><!-- fragment --><p>Prints labels that contain top-level shapes.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetTopLevelShapes D </div><div class="line">== 0:1:1:1 0:1:1:2 0:1:1:3 0:1:1:4 0:1:1:5 0:1:1:6 0:1:1:7 </div><div class="line">0:1:1:8 0:1:1:9 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_10"></a>
XLabelInfo</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XLabelInfo &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Prints information about a shape, stored at an indicated label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XLabelInfo D 0:1:1:6 </div><div class="line">==&gt; There are TopLevel shapes. There is an Assembly. This Shape is not used. </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_11"></a>
XNewShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XNewShape &lt;document&gt;</div></div><!-- fragment --><p>Creates a new empty top-level shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XNewShape D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_12"></a>
XRemoveComponent</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XRemoveComponent &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Removes a component from the components label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XRemoveComponent D 0:1:1:1:1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_13"></a>
XRemoveShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XRemoveShape &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Removes a shape from a document (by it’s label).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XRemoveShape D 0:1:1:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_14"></a>
XSetShape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetShape &lt;document&gt; &lt;label&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Sets a shape at the indicated label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XSetShape D 0:1:1:3 b </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_6_15"></a>
XUpdateAssemblies</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XUpdateAssemblies &lt;document&gt;</div></div><!-- fragment --><p>Updates all assembly compounds in the XDE document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XUpdateAssemblies D</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_7_"></a>
XDE color commands</h2>
<h3><a class="anchor" id="occt_draw_8_7_1"></a>
XAddColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XAddColor &lt;document&gt; &lt;R&gt; &lt;G&gt; &lt;B&gt;</div></div><!-- fragment --><p>Adds color in document to the color table. Parameters R,G,B are real.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XAddColor D 0.5 0.25 0.25 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_2"></a>
XFindColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFindColor &lt;document&gt; &lt;R&gt; &lt;G&gt; &lt;B&gt;</div></div><!-- fragment --><p>Finds a label where the indicated color is situated.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFindColor D 0.25 0.25 0.5 </div><div class="line">==&gt; 0:1:2:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_3"></a>
XGetAllColors</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetAllColors &lt;document&gt; </div></div><!-- fragment --><p>Prints all colors that are defined in the document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetAllColors D </div><div class="line">==&gt; RED DARKORANGE BLUE1 GREEN YELLOW3 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_4"></a>
XGetColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetColor &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Returns a color defined at the indicated label from the color table.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetColor D 0:1:2:3 </div><div class="line">== BLUE1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_5"></a>
XGetObjVisibility</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetObjVisibility &lt;document&gt; {&lt;label&gt;|&lt;shape&gt;}</div></div><!-- fragment --><p>Returns the visibility of a shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetObjVisibility D 0:1:1:4 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_6"></a>
XGetShapeColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetShapeColor &lt;document&gt; &lt;label&gt; &lt;colortype(s|c)&gt;</div></div><!-- fragment --><p>Returns the color defined by label. If <em>colortype</em>=’s’ &ndash; returns surface color, else &ndash; returns curve color.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetShapeColor D 0:1:1:4 c </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_7"></a>
XRemoveColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XRemoveColor &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Removes a color from the color table in a document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XRemoveColor D 0:1:2:1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_8"></a>
XSetColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetColor &lt;document&gt; {&lt;label&gt;|&lt;shape&gt;} &lt;R&gt; &lt;G&gt; &lt;B&gt;</div></div><!-- fragment --><p>Sets an RGB color to a shape given by label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XsetColor D 0:1:1:4 0.5 0.5 0. </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_9"></a>
XSetObjVisibility</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetObjVisibility &lt;document&gt; {&lt;label&gt;|&lt;shape&gt;} {0|1}</div></div><!-- fragment --><p>Sets the visibility of a shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># set shape from label 0:1:1:4 as invisible </div><div class="line">XSetObjVisibility D 0:1:1:4 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_7_10"></a>
XUnsetColor</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XUnsetColor &lt;document&gt; {&lt;label&gt;|&lt;shape&gt;} &lt;colortype&gt;</div></div><!-- fragment --><p>Unset a color given type (‘s’ or ‘c’) for the indicated shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XUnsetColor D 0:1:1:4 s </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_8_"></a>
XDE layer commands</h2>
<h3><a class="anchor" id="occt_draw_8_8_1"></a>
XAddLayer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XAddLayer &lt;document&gt; &lt;layer&gt;</div></div><!-- fragment --><p>Adds a new layer in an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XAddLayer D layer2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_2"></a>
XFindLayer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XFindLayer &lt;document&gt; &lt;layer&gt;</div></div><!-- fragment --><p>Prints a label where a layer is situated.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XFindLayer D Bolt </div><div class="line">== 0:1:3:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_3"></a>
XGetAllLayers</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetAllLayers &lt;document&gt; </div></div><!-- fragment --><p>Prints all layers in an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetAllLayers D </div><div class="line">== *0:1:1:3* *Bolt* *0:1:1:9* </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_4"></a>
XGetLayers</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetLayers &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;}</div></div><!-- fragment --><p>Returns names of layers, which are pointed to by links of an indicated shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetLayers D 0:1:1:3 </div><div class="line">== *bolt* *123* </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_5"></a>
XGetOneLayer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetOneLayer &lt;document&gt; &lt;label&gt;</div></div><!-- fragment --><p>Prints the name of a layer at a given label.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetOneLayer D 0:1:3:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_6"></a>
XIsVisible</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XIsVisible &lt;document&gt; {&lt;label&gt;|&lt;layer&gt;}</div></div><!-- fragment --><p>Returns 1 if the indicated layer is visible, else returns 0.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XIsVisible D 0:1:3:1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_7"></a>
XRemoveAllLayers</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XRemoveAllLayers &lt;document&gt; </div></div><!-- fragment --><p>Removes all layers from an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XRemoveAllLayers D </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_8"></a>
XRemoveLayer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XRemoveLayer &lt;document&gt; {&lt;label&gt;|&lt;layer&gt;}</div></div><!-- fragment --><p>Removes the indicated layer from an XCAF document.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XRemoveLayer D layer2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_9"></a>
XSetLayer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetLayer XSetLayer &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;} &lt;layer&gt; [shape_in_one_layer {0|1}]</div></div><!-- fragment --><p>Sets a reference between a shape and a layer (adds a layer if it is necessary). Parameter <em>&lt;shape_in_one_layer&gt;</em> shows whether a shape could be in a number of layers or only in one (0 by default).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XSetLayer D 0:1:1:2 layer2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_10"></a>
XSetVisibility</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetVisibility &lt;document&gt; {&lt;label&gt;|&lt;layer&gt;} &lt;isvisible {0|1}&gt;</div></div><!-- fragment --><p>Sets the visibility of a layer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># set layer at label 0:1:3:2 as invisible </div><div class="line">XSetVisibility D 0:1:3:2 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_11"></a>
XUnSetAllLayers</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XUnSetAllLayers &lt;document&gt; {&lt;label&gt;|&lt;shape&gt;}</div></div><!-- fragment --><p>Unsets a shape from all layers.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XUnSetAllLayers D 0:1:1:2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_8_12"></a>
XUnSetLayer</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XUnSetLayer &lt;document&gt; {&lt;label&gt;|&lt;shape&gt;} &lt;layer&gt;</div></div><!-- fragment --><p>Unsets a shape from the indicated layer.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XUnSetLayer D 0:1:1:2 layer1 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_8_9"></a>
XDE property commands</h2>
<h3><a class="anchor" id="occt_draw_8_9_1"></a>
XCheckProps</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XCheckProps &lt;document&gt; [ {0|deflection} [&lt;shape&gt;|&lt;label&gt;] ]</div></div><!-- fragment --><p>Gets properties for a given shape (<em>volume</em>, <em>area</em> and <em>centroid</em>) and compares them with the results after internal calculations. If the second parameter is 0, the standard OCCT tool is used for the computation of properties. If the second parameter is not 0, it is processed as a deflection. If the deflection is positive the computation is done by triangulations, if it is negative &ndash; meshing is forced.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># check properties for shapes at label 0:1:1:1 from </div><div class="line"># document using standard Open CASCADE Technology tools </div><div class="line">XCheckProps D 0 0:1:1:1 </div><div class="line">== Label 0:1:1:1      ;L-BRACKET* </div><div class="line">==  Area defect:        -0.0 (  0%) </div><div class="line">==  Volume defect:       0.0 (  0%) </div><div class="line">==  CG defect: dX=-0.000, dY=0.000, dZ=0.000 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_2"></a>
XGetArea</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetArea &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;}</div></div><!-- fragment --><p>Returns the area of a given shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetArea D 0:1:1:1 </div><div class="line">== 24628.31815094999 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_3"></a>
XGetCentroid</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetCentroid &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;}</div></div><!-- fragment --><p>Returns the center of gravity coordinates of a given shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetCentroid D 0:1:1:1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_4"></a>
XGetVolume</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XGetVolume &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;}</div></div><!-- fragment --><p>Returns the volume of a given shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XGetVolume D 0:1:1:1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_5"></a>
XSetArea</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetArea &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;} &lt;area&gt;</div></div><!-- fragment --><p>Sets new area to attribute list ??? given shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XSetArea D 0:1:1:1 2233.99 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_6"></a>
XSetCentroid</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetCentroid &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;} &lt;x&gt; &lt;y&gt; &lt;z&gt;</div></div><!-- fragment --><p>Sets new center of gravity to the attribute list given shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XSetCentroid D 0:1:1:1 0. 0. 100. </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_7"></a>
XSetMaterial</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetMaterial &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;} &lt;name&gt; &lt;density(g/cu sm)&gt;</div></div><!-- fragment --><p>Adds a new label with material into the material table in a document, and adds a link to this material to the attribute list of a given shape or a given label. The last parameter sets the density of a pointed material.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XSetMaterial D 0:1:1:1 Titanium 8899.77 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_8"></a>
XSetVolume</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XSetVolume &lt;document&gt; {&lt;shape&gt;|&lt;label&gt;} &lt;volume&gt;</div></div><!-- fragment --><p>Sets new volume to the attribute list ??? given shape.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XSetVolume D 0:1:1:1 444555.33 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_9"></a>
XShapeMassProps</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XShapeMassProps &lt;document&gt; [ &lt;deflection&gt; [{&lt;shape&gt;|&lt;label&gt;}] ]</div></div><!-- fragment --><p>Computes and returns real mass and real center of gravity for a given shape or for all shapes in a document. The second parameter is used for calculation of the volume and CG(center of gravity). If it is 0, then the standard CASCADE tool (geometry) is used for computation, otherwise &ndash; by triangulations with a given deflection.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XShapeMassProps D </div><div class="line">== Shape from label : 0:1:1:1 </div><div class="line">== Mass = 193.71681469282299 </div><div class="line">== CenterOfGravity X = 14.594564763807696,Y = </div><div class="line">    20.20271885211281,Z = 49.999999385313245 </div><div class="line">== Shape from label : 0:1:1:2 not have a mass </div><div class="line">etc. </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_8_9_10"></a>
XShapeVolume</h3>
<p>Syntax: </p><div class="fragment"><div class="line">XShapeVolume &lt;shape&gt; &lt;deflection&gt;</div></div><!-- fragment --><p>Calculates the real volume of a pointed shape with a given deflection.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">XShapeVolume a 0 </div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_9"></a>
Shape Healing commands</h1>
<h2><a class="anchor" id="occt_draw_9_1"></a>
General commands</h2>
<h3><a class="anchor" id="occt_draw_9_1_1"></a>
bsplres</h3>
<p>Syntax: </p><div class="fragment"><div class="line">bsplres &lt;result&gt; &lt;shape&gt; &lt;tol3d&gt; &lt;tol2d&lt; &lt;reqdegree&gt; &lt;reqnbsegments&gt; &lt;continuity3d&gt; &lt;continuity2d&gt; &lt;PriorDeg&gt; &lt;RationalConvert&gt;</div></div><!-- fragment --><p>Performs approximations of a given shape (BSpline curves and surfaces or other surfaces) to BSpline with given required parameters. The specified continuity can be reduced if the approximation with a specified continuity was not done successfully. Results are put into the shape, which is given as a parameter result. For a more detailed description see the ShapeHealing User’s Guide (operator: <b>BSplineRestriction</b>).</p>
<h3><a class="anchor" id="occt_draw_9_1_2"></a>
checkfclass2d</h3>
<p>Syntax: </p><div class="fragment"><div class="line">checkfclass2d &lt;face&gt; &lt;ucoord&gt; &lt;vcoord&gt;</div></div><!-- fragment --><p>Shows where a point which is given by coordinates is located in relation to a given face &ndash; outbound, inside or at the bounds.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">checkfclass2d f 10.5 1.1 </div><div class="line">== Point is OUT </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_3"></a>
checkoverlapedges</h3>
<p>Syntax: </p><div class="fragment"><div class="line">checkoverlapedges &lt;edge1&gt; &lt;edge2&gt; [&lt;toler&gt; &lt;domaindist&gt;]</div></div><!-- fragment --><p>Checks the overlapping of two given edges. If the distance between two edges is less than the given value of tolerance then edges are overlapped. Parameter &lt;domaindist&gt; sets length of part of edges on which edges are overlapped.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">checkoverlapedges e1 e2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_4"></a>
comtol</h3>
<p>Syntax: </p><div class="fragment"><div class="line">comptol &lt;shape&gt; [nbpoints] [prefix]</div></div><!-- fragment --><p>Compares the real value of tolerance on curves with the value calculated by standard (using 23 points). The maximal value of deviation of 3d curve from pcurve at given simple points is taken as a real value (371 is by default). Command returns the maximal, minimal and average value of tolerance for all edges and difference between real values and set values. Edges with the maximal value of tolerance and relation will be saved if the ‘prefix’ parameter is given.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">comptol h 871 t </div><div class="line"></div><div class="line">==&gt; Edges tolerance computed by 871 points: </div><div class="line">==&gt; MAX=8.0001130696523449e-008 AVG=6.349346868091096e-009 MIN=0 </div><div class="line">==&gt; Relation real tolerance / tolerance set in edge </div><div class="line">==&gt; MAX=0.80001130696523448 AVG=0.06349345591805905 MIN=0 </div><div class="line">==&gt; Edge with max tolerance saved to t_edge_tol </div><div class="line">==&gt; Concerned faces saved to shapes t_1, t_2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_5"></a>
convtorevol</h3>
<p>Syntax: </p><div class="fragment"><div class="line">convtorevol &lt;result&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Converts all elementary surfaces of a given shape into surfaces of revolution. Results are put into the shape, which is given as the <em>&lt;result&gt;</em> parameter.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">convtorevol r a </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_6"></a>
directfaces</h3>
<p>Syntax: </p><div class="fragment"><div class="line">directfaces &lt;result&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Converts indirect surfaces and returns the results into the shape, which is given as the result parameter.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">directfaces r a </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_7"></a>
expshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">expshape &lt;shape&gt; &lt;maxdegree&gt; &lt;maxseg&gt;</div></div><!-- fragment --><p>Gives statistics for a given shape. This test command is working with Bezier and BSpline entities.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">expshape a 10 10 </div><div class="line">==&gt; Number of Rational Bspline curves 128 </div><div class="line">==&gt; Number of Rational Bspline pcurves 48 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_8"></a>
fixsmall</h3>
<p>Syntax: </p><div class="fragment"><div class="line">fixsmall &lt;result&gt; &lt;shape&gt; [&lt;toler&gt;=1.]</div></div><!-- fragment --><p>Fixes small edges in given shape by merging adjacent edges with agiven tolerance. Results are put into the shape, which is given as the result parameter.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">fixsmall r a 0.1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_9"></a>
fixsmalledges</h3>
<p>Syntax: </p><div class="fragment"><div class="line">fixsmalledges &lt;result&gt; &lt;shape&gt; [&lt;toler&gt; &lt;mode&gt; &lt;maxangle&gt;]</div></div><!-- fragment --><p>Searches at least one small edge at a given shape. If such edges have been found, then small edges are merged with a given tolerance. If parameter <em>&lt;mode&gt;</em> is equal to <em>Standard_True</em> (can be given any values, except 2), then small edges, which can not be merged, are removed, otherwise they are to be kept (<em>Standard_False</em> is used by default). Parameter <em>&lt;maxangle&gt;</em> sets a maximum possible angle for merging two adjacent edges, by default no limit angle is applied (-1). Results are put into the shape, which is given as parameter result.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">fixsmalledges r a 0.1 1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_10"></a>
fixshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">fixshape &lt;result&gt; &lt;shape&gt; [&lt;preci&gt; [&lt;maxpreci&gt;]] [{switches}]</div></div><!-- fragment --><p>Performs fixes of all sub-shapes (such as <em>Solids</em>, <em>Shells</em>, <em>Faces</em>, <em>Wires</em> and <em>Edges</em>) of a given shape. Parameter <em>&lt;preci&gt;</em> sets a basic precision value, <em>&lt;maxpreci&gt;</em> sets the maximal allowed tolerance. Results are put into the shape, which is given as parameter result. <b>{switches}</b> allows to tune parameters of <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix.html">ShapeFix</a></p>
<p>The following syntax is used:</p><ul>
<li><em>&lt;symbol&gt;</em> may be<ul>
<li>"-" to set parameter off,</li>
<li>"+" to set on or</li>
<li>"*" to set default</li>
</ul>
</li>
<li><em>&lt;parameter&gt;</em> is identified by letters:<ul>
<li>l &ndash; FixLackingMode</li>
<li>o &ndash; FixOrientationMode</li>
<li>h &ndash; FixShiftedMode</li>
<li>m &ndash; FixMissingSeamMode</li>
<li>d &ndash; FixDegeneratedMode</li>
<li>s &ndash; FixSmallMode</li>
<li>i &ndash; FixSelfIntersectionMode</li>
<li>n &ndash; FixNotchedEdgesMode For enhanced message output, use switch '+?'</li>
</ul>
</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">fixshape r a 0.001 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_11"></a>
fixwgaps</h3>
<p>Syntax: </p><div class="fragment"><div class="line">fixwgaps &lt;result&gt; &lt;shape&gt; [&lt;toler&gt;=0]</div></div><!-- fragment --><p>Fixes gaps between ends of curves of adjacent edges (both 3d and pcurves) in wires in a given shape with a given tolerance. Results are put into the shape, which is given as parameter result.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">fixwgaps r a </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_12"></a>
offsetcurve, offset2dcurve</h3>
<p>Syntax: </p><div class="fragment"><div class="line">offsetcurve &lt;result&gt; &lt;curve&gt; &lt;offset&gt; &lt;direction(as point)&gt;</div><div class="line">offset2dcurve &lt;result&gt; &lt;curve&gt; &lt;offset&gt;</div></div><!-- fragment --><p><b>offsetcurve</b> works with the curve in 3d space, <b>offset2dcurve</b> in 2d space.</p>
<p>Both commands are intended to create a new offset curve by copying the given curve to distance, given by parameter <em>&lt;offset&gt;</em>. Parameter <em>&lt;direction&gt;</em> defines direction of the offset curve. It is created as a point. For correct work of these commands the direction of normal of the offset curve must be perpendicular to the plane, the basis curve is located there. Results are put into the curve, which is given as parameter <em>&lt;result&gt;</em>.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">point pp 10 10 10 </div><div class="line">offsetcurve r c 20 pp </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_13"></a>
projcurve</h3>
<p>Syntax: </p><div class="fragment"><div class="line">projcurve &lt;edge&gt;|&lt;curve3d&gt;|&lt;curve3d first last&gt;  &lt;X&gt; &lt;Y&gt; &lt;Z&gt;</div></div><!-- fragment --><p><b>projcurve</b> returns the projection of a given point on a given curve. The curve may be defined by three ways: by giving the edge name, giving the 3D curve and by giving the unlimited curve and limiting it by pointing its start and finish values.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">projcurve k_1 0 1 5 </div><div class="line">==Edge k_1 Params from 0 to 1.3 </div><div class="line">==Precision (BRepBuilderAPI) : 9.9999999999999995e-008  ==Projection : 0  1  5 </div><div class="line">==Result : 0  1.1000000000000001  0 </div><div class="line">==Param = -0.20000000000000001  Gap = 5.0009999000199947 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_14"></a>
projpcurve</h3>
<p>Syntax: </p><div class="fragment"><div class="line">projpcurve &lt;edge&gt; &lt;face&gt;  &lt;Tol&gt; &lt;X&gt; &lt;Y&gt; &lt;Z&gt; [&lt;start_param&gt;]</div></div><!-- fragment --><p><b>projpcurve</b> returns the projection of a given point on a given curve on surface. The curve on surface is defined by giving the edge and face names. Edge must have curve 2D repesentation on the face. Optional parameter <em>&lt;start_param&gt;</em> is any parameter of pcurve, which is used by algoritm as start point for searching projection of given point with help of local Extrema algorithm. If this parameter is not set, algorithm uses whole parametric interval of pcurve for searching projection.</p>
<p><b>Example:</b></p>
<div class="fragment"><div class="line"># Using global searching   </div><div class="line">projpcurve f_1 f 1.e-7 0.877 0 0.479</div><div class="line">==Point: 0.87762772831890712 0 0.47934285275342808</div><div class="line">==Param: 0.49990578239977856</div><div class="line">==Dist: 0.0007152557954264938</div></div><!-- fragment --><div class="fragment"><div class="line"># Using starting parameter on edge</div><div class="line">projpcurve f_1 f 1.e-7 0.877 0 0.479 .6</div><div class="line">==Point: 0.87762772831890712 0 0.47934285275342808</div><div class="line">==Param: 0.49990578239977856</div><div class="line">==Dist: 0.0007152557954264938</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_15"></a>
projface</h3>
<p>Syntax: </p><div class="fragment"><div class="line">projface &lt;face&gt; &lt;X&gt; &lt;Y&gt; [&lt;Z&gt;]</div></div><!-- fragment --><p>Returns the projection of a given point to a given face in 2d or 3d space. If two coordinates (2d space) are given then returns coordinates projection of this point in 3d space and vice versa.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">projface a_1 10.0 0.0 </div><div class="line">==  Point UV  U = 10  V = 0 </div><div class="line">==   =   proj  X = -116  Y = -45  Z = 0 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_16"></a>
scaleshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">scaleshape &lt;result&gt; &lt;shape&gt; &lt;scale&gt;</div></div><!-- fragment --><p>Returns a new shape, which is the result of scaling of a given shape with a coefficient equal to the parameter <em>&lt;scale&gt;</em>. Tolerance is calculated for the new shape as well.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">scaleshape r a_1 0.8 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_17"></a>
settolerance</h3>
<p>Syntax: </p><div class="fragment"><div class="line">settolerance &lt;shape&gt; [&lt;mode&gt;=v-e-w-f-a] &lt;val&gt;(fix value) or</div><div class="line">                   &lt;tolmin&gt; &lt;tolmax&gt;</div></div><!-- fragment --><p>Sets new values of tolerance for a given shape. If the second parameter <em>mode</em> is given, then the tolerance value is set only for these sub shapes.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">settolerance a 0.001 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_18"></a>
splitface</h3>
<p>Syntax: </p><div class="fragment"><div class="line">splitface &lt;result&gt; &lt;face&gt; [u usplit1 usplit2...] [v vsplit1 vsplit2 ...]</div></div><!-- fragment --><p>Splits a given face in parametric space and puts the result into the given parameter <em>&lt;result&gt;</em>. Returns the status of split face.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"># split face f by parameter u = 5 </div><div class="line">splitface r f u 5 </div><div class="line">==&gt; Splitting by   U:   ,5 </div><div class="line">==&gt; Status:  DONE1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_19"></a>
statshape</h3>
<p>Syntax: </p><div class="fragment"><div class="line">statshape &lt;shape&gt; [particul]</div></div><!-- fragment --><p>Returns the number of sub-shapes, which compose the given shape. For example, the number of solids, number of faces etc. It also returns the number of geometrical objects or sub-shapes with a specified type, example, number of free faces, number of C0 surfaces. The last parameter becomes out of date.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">statshape a </div><div class="line">==&gt; Count     Item </div><div class="line">==&gt; -----     ---- </div><div class="line">==&gt; 402     Edge (oriented) </div><div class="line">==&gt; 402     Edge (Shared) </div><div class="line">==&gt; 74      Face </div><div class="line">==&gt; 74      Face (Free) </div><div class="line">==&gt; 804     Vertex (Oriented) </div><div class="line">==&gt; 402     Vertex (Shared) </div><div class="line">==&gt; 78      Wire </div><div class="line">==&gt; 4      Face with more than one wire </div><div class="line">==&gt; 34     bspsur: BSplineSurface </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_1_20"></a>
tolerance</h3>
<p>Syntax: </p><div class="fragment"><div class="line">tolerance &lt;shape&gt; [&lt;mode&gt;:D v e f c] [&lt;tolmin&gt; &lt;tolmax&gt;:real]</div></div><!-- fragment --><p>Returns tolerance (maximal, avg and minimal values) of all given shapes and tolerance of their <em>Faces</em>, <em>Edges</em> and <em>Vertices</em>. If parameter <em>&lt;tolmin&gt;</em> or <em>&lt;tolmax&gt;</em> or both of them are given, then sub-shapes are returned as a result of analys of this shape, which satisfy the given tolerances. If a particular value of entity ((<b>D</b>)all shapes (<b>v</b>) <em>vertices</em> (<b>e</b>) <em>edges</em> (<b>f</b>) <em>faces</em> (<b>c</b>) <em>combined</em> (<em>faces</em>)) is given as the second parameter then only this group will be analyzed for tolerance.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">tolerance a </div><div class="line">==&gt; Tolerance MAX=0.31512672416608001 AVG=0.14901359484722074 MIN=9.9999999999999995e-08 </div><div class="line">==&gt; FACE    : MAX=9.9999999999999995e-08 AVG=9.9999999999999995e-08 MIN=9.9999999999999995e-08 </div><div class="line">==&gt; EDGE    : MAX=0.31512672416608001 AVG=0.098691334511810405 MIN=9.9999999999999995e-08 </div><div class="line">==&gt; VERTEX  : MAX=0.31512672416608001 AVG=0.189076074499648 MIN=9.9999999999999995e-08 </div><div class="line"></div><div class="line">tolerance a v 0.1 0.001 </div><div class="line">==&gt;  Analysing Vertices gives 6 Shapes between tol1=0.10000000000000001 and tol2=0.001 , named tol_1 to tol_6 </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_9_2"></a>
Conversion commands</h2>
<h3><a class="anchor" id="occt_draw_9_2_1"></a>
DT_ClosedSplit</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_ClosedSplit &lt;result&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Divides all closed faces in the shape (for example cone) and returns result of given shape into shape, which is given as parameter result. Number of faces in resulting shapes will be increased. Note: A closed face is a face with one or more seam.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_ClosetSplit r a </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_2"></a>
DT_ShapeConvert, DT_ShapeConvertRev</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_ShapeConvert &lt;result&gt; &lt;shape&gt; &lt;convert2d&gt; &lt;convert3d&gt;</div><div class="line">DT_ShapeConvertRev &lt;result&gt; &lt;shape&gt; &lt;convert2d&gt; &lt;convert3d&gt;</div></div><!-- fragment --><p>Both commands are intended for the conversion of 3D, 2D curves to Bezier curves and surfaces to Bezier based surfaces. Parameters convert2d and convert3d take on a value 0 or 1. If the given value is 1, then the conversion will be performed, otherwise it will not be performed. The results are put into the shape, which is given as parameter Result. Command <em>DT_ShapeConvertRev</em> differs from <em>DT_ShapeConvert</em> by converting all elementary surfaces into surfaces of revolution first.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_ShapeConvert r a 1 1 </div><div class="line">== Status: DONE1 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_3"></a>
DT_ShapeDivide</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_ShapeDivide &lt;result&gt; &lt;shape&gt; &lt;tol&gt;</div></div><!-- fragment --><p>Divides the shape with C1 criterion and returns the result of geometry conversion of a given shape into the shape, which is given as parameter result. This command illustrates how class <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_upgrade___shape_divide_continuity.html">ShapeUpgrade_ShapeDivideContinuity</a></em> works. This class allows to convert geometry with a continuity less than the specified continuity to geometry with target continuity. If conversion is not possible then the geometrical object is split into several ones, which satisfy the given tolerance. It also returns the status shape splitting:</p><ul>
<li>OK : no splitting was done</li>
<li>Done1 : Some edges were split</li>
<li>Done2 : Surface was split</li>
<li>Fail1 : Some errors occurred</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_ShapeDivide r a 0.001 </div><div class="line">== Status: OK </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_4"></a>
DT_SplitAngle</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_SplitAngle &lt;result&gt; &lt;shape&gt; [MaxAngle=95]</div></div><!-- fragment --><p>Works with all revolved surfaces, like cylinders, surfaces of revolution, etc. This command divides given revolved surfaces into segments so that each resulting segment covers not more than the given <em>MaxAngle</em> degrees and puts the result of splitting into the shape, which is given as parameter result. Values of returned status are given above. This command illustrates how class <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_upgrade___shape_divide_angle.html">ShapeUpgrade_ShapeDivideAngle</a></em> works.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_SplitAngle r a </div><div class="line">== Status: DONE2 </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_5"></a>
DT_SplitCurve</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_SplitCurve &lt;curve&gt; &lt;tol&gt; &lt;split(0|1)&gt;</div></div><!-- fragment --><p>Divides the 3d curve with C1 criterion and returns the result of splitting of the given curve into a new curve. If the curve had been divided by segments, then each segment is put to an individual result. This command can correct a given curve at a knot with the given tolerance, if it is impossible, then the given surface is split at that knot. If the last parameter is 1, then 5 knots are added at the given curve, and its surface is split by segments, but this will be performed not for all parametric spaces.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_SplitCurve r c </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_6"></a>
DT_SplitCurve2d</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_SplitCurve2d Curve Tol Split(0/1) </div></div><!-- fragment --><p>Works just as <b>DT_SplitCurve</b> (see above), only with 2d curve.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_SplitCurve2d r c </div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_7"></a>
DT_SplitSurface</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_SplitSurface &lt;result&gt; &lt;Surface|GridSurf&gt; &lt;tol&gt; &lt;split(0|1)&gt;</div></div><!-- fragment --><p>Divides surface with C1 criterion and returns the result of splitting of a given surface into surface, which is given as parameter result. If the surface has been divided into segments, then each segment is put to an individual result. This command can correct a given C0 surface at a knot with a given tolerance, if it is impossible, then the given surface is split at that knot. If the last parameter is 1, then 5 knots are added to the given surface, and its surface is split by segments, but this will be performed not for all parametric spaces.</p>
<p><b>Example:</b> </p><div class="fragment"></div><!-- fragment --> <h1>split surface with name "su"</h1>
<p>DT_SplitSurface res su 0.1 1 ==&gt; single surf ==&gt; appel a SplitSurface::Init ==&gt; appel a SplitSurface::Build ==&gt; appel a SplitSurface::GlobalU/VKnots ==&gt; nb GlobalU;nb GlobalV=7 2 0 1 2 3 4 5 6.2831853072 0 1 ==&gt; appel a Surfaces ==&gt; transfert resultat ==&gt; res1_1_1 res1_2_1 res1_3_1 res1_4_1 res1_5_1 res1_6_1 </p><div class="fragment"></div><!-- fragment --><h3><a class="anchor" id="occt_draw_9_2_8"></a>
DT_ToBspl</h3>
<p>Syntax: </p><div class="fragment"><div class="line">DT_ToBspl &lt;result&gt; &lt;shape&gt;</div></div><!-- fragment --><p>Converts a surface of linear extrusion, revolution and offset surfaces into BSpline surfaces. Returns the result into the shape, which is given as parameter result.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">DT_ToBspl res sh </div><div class="line">== error = 5.20375663162094e-08   spans = 10 </div><div class="line">==  Surface is aproximated with continuity 2 </div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_10"></a>
Performance evaluation commands</h1>
<h2><a class="anchor" id="occt_draw_10_1"></a>
VDrawSphere</h2>
<p>Syntax: </p><div class="fragment"><div class="line">vdrawsphere shapeName Fineness [X=0.0 Y=0.0 Z=0.0] [Radius=100.0] [ToEnableVBO=1] [NumberOfViewerUpdate=1] [ToShowEdges=0] </div></div><!-- fragment --><p>Calculates and displays in a given number of steps a sphere with given coordinates, radius and fineness. Returns the information about the properties of the sphere, the time and the amount of memory required to build it.</p>
<p>This command can be used for visualization performance evaluation instead of the outdated Visualization Performance Meter.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">vdrawsphere s 200 1 1 1 500 1 </div><div class="line">== Compute Triangulation... </div><div class="line">== NumberOfPoints: 39602 </div><div class="line">== NumberOfTriangles: 79200 </div><div class="line">== Amount of memory required for PolyTriangulation without Normals: 2 Mb </div><div class="line">== Amount of memory for colors: 0 Mb </div><div class="line">== Amount of memory for PolyConnect: 1 Mb </div><div class="line">== Amount of graphic card memory required: 2 Mb </div><div class="line">== Number of scene redrawings: 1 </div><div class="line">== CPU user time: 15.6000999999998950 msec </div><div class="line">== CPU system time: 0.0000000000000000 msec </div><div class="line">== CPU average time of scene redrawing: 15.6000999999998950 msec </div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_12"></a>
Simple vector algebra and measurements</h1>
<p>This section contains description of auxiliary commands that can be useful for simple calculations and manipulations needed when analyzing complex models.</p>
<h2><a class="anchor" id="occt_draw_12_1"></a>
Vector algebra commands</h2>
<p>This section describes commands providing simple calculations with 2D and 3D vectors. The vector is represented by a TCL list of double values (coordinates). The commands get input vector coordinates from the command line as distinct values. So, if you have a vector stored in a variable you need to use <em>eval</em> command as a prefix, for example, to compute the magnitude of cross products of two vectors given by 3 points the following commands can be used: </p><div class="fragment"><div class="line"><a class="codeRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>[10]&gt; <span class="keyword">set</span> vec1 [vec 12 28 99 12 58 99]</div><div class="line">0 30 0</div><div class="line"><a class="codeRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>[13]&gt; <span class="keyword">set</span> vec2 [vec 12 28 99 16 21 89]</div><div class="line">4 -7 -10</div><div class="line"><a class="codeRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>[14]&gt; <span class="keyword">set</span> cross [eval cross $vec1 $vec2]</div><div class="line">-300 0 -120</div><div class="line"><a class="codeRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>[15]&gt; eval module $cross</div><div class="line">323.10988842807024</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_1"></a>
vec</h3>
<p>Syntax: </p><div class="fragment"><div class="line">vec &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt;</div></div><!-- fragment --><p>Returns coordinates of vector between two 3D points.</p>
<p>Example: </p><div class="fragment"><div class="line">vec 1 2 3 6 5 4</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_2"></a>
2dvec</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dvec &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;</div></div><!-- fragment --><p>Returns coordinates of vector between two 2D points.</p>
<p>Example: </p><div class="fragment"><div class="line">2dvec 1 2 4 3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_3"></a>
pln</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pln &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt; &lt;x3&gt; &lt;y3&gt; &lt;z3&gt;</div></div><!-- fragment --><p>Returns plane built on three points. A plane is represented by 6 double values: coordinates of the origin point and the normal directoin.</p>
<p>Example: </p><div class="fragment"><div class="line">pln 1 2 3 6 5 4 9 8 7</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_4"></a>
module</h3>
<p>Syntax: </p><div class="fragment"><div class="line">module &lt;x&gt; &lt;y&gt; &lt;z&gt;</div></div><!-- fragment --><p>Returns module of a vector.</p>
<p>Example: </p><div class="fragment"><div class="line">module 1 2 3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_5"></a>
2dmodule</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dmodule &lt;x&gt; &lt;y&gt;</div></div><!-- fragment --><p>Returns module of a 2D vector.</p>
<p>Example: </p><div class="fragment"><div class="line">2dmodule 1 2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_6"></a>
norm</h3>
<p>Syntax: </p><div class="fragment"><div class="line">norm &lt;x&gt; &lt;y&gt; &lt;z&gt;</div></div><!-- fragment --><p>Returns unified vector from a given 3D vector.</p>
<p>Example: </p><div class="fragment"><div class="line">norm 1 2 3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_7"></a>
2dnorm</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dnorm &lt;x&gt; &lt;y&gt;</div></div><!-- fragment --><p>Returns unified vector from a given 2D vector.</p>
<p>Example: </p><div class="fragment"><div class="line">2dnorm 1 2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_8"></a>
inverse</h3>
<p>Syntax: </p><div class="fragment"><div class="line">inverse &lt;x&gt; &lt;y&gt; &lt;z&gt;</div></div><!-- fragment --><p>Returns inversed 3D vector.</p>
<p>Example: </p><div class="fragment"><div class="line">inverse 1 2 3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_9"></a>
2dinverse</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dinverse &lt;x&gt; &lt;y&gt;</div></div><!-- fragment --><p>Returns inversed 2D vector.</p>
<p>Example: </p><div class="fragment"><div class="line">2dinverse 1 2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_10"></a>
2dort</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dort &lt;x&gt; &lt;y&gt;</div></div><!-- fragment --><p>Returns 2D vector rotated on 90 degrees.</p>
<p>Example: </p><div class="fragment"><div class="line">2dort 1 2</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_11"></a>
distpp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">distpp &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt;</div></div><!-- fragment --><p>Returns distance between two 3D points.</p>
<p>Example: </p><div class="fragment"><div class="line">distpp 1 2 3 4 5 6</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_12"></a>
2ddistpp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2ddistpp &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;</div></div><!-- fragment --><p>Returns distance between two 2D points.</p>
<p>Example: </p><div class="fragment"><div class="line">2ddistpp 1 2 3 4</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_13"></a>
distplp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">distplp &lt;x0&gt; &lt;y0&gt; &lt;z0&gt; &lt;nx&gt; &lt;ny&gt; &lt;nz&gt; &lt;xp&gt; &lt;yp&gt; &lt;zp&gt;</div></div><!-- fragment --><p>Returns distance between plane defined by point and normal direction and another point.</p>
<p>Example: </p><div class="fragment"><div class="line">distplp 0 0 0 0 0 1 5 6 7</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_14"></a>
distlp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">distlp &lt;x0&gt; &lt;y0&gt; &lt;z0&gt; &lt;dx&gt; &lt;dy&gt; &lt;dz&gt; &lt;xp&gt; &lt;yp&gt; &lt;zp&gt;</div></div><!-- fragment --><p>Returns distance between 3D line defined by point and direction and another point.</p>
<p>Example: </p><div class="fragment"><div class="line">distlp 0 0 0 1 0 0 5 6 7</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_15"></a>
2ddistlp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2ddistlp &lt;x0&gt; &lt;y0&gt; &lt;dx&gt; &lt;dy&gt; &lt;xp&gt; &lt;yp&gt;</div></div><!-- fragment --><p>Returns distance between 2D line defined by point and direction and another point.</p>
<p>Example: </p><div class="fragment"><div class="line">2ddistlp 0 0 1 0 5 6</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_16"></a>
distppp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">distppp &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt; &lt;x3&gt; &lt;y3&gt; &lt;z3&gt;</div></div><!-- fragment --><p>Returns deviation of point (x2,y2,z2) from segment defined by points (x1,y1,z1) and (x3,y3,z3).</p>
<p>Example: </p><div class="fragment"><div class="line">distppp 0 0 0 1 1 0 2 0 0</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_17"></a>
2ddistppp</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2ddistppp &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;x3&gt; &lt;y3&gt;</div></div><!-- fragment --><p>Returns deviation of point (x2,y2) from segment defined by points (x1,y1) and (x3,y3). The result is a signed value. It is positive if the point (x2,y2) is on the left side of the segment, and negative otherwise.</p>
<p>Example: </p><div class="fragment"><div class="line">2ddistppp 0 0 1 -1 2 0</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_18"></a>
barycen</h3>
<p>Syntax: </p><div class="fragment"><div class="line">barycen &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt; &lt;par&gt;</div></div><!-- fragment --><p>Returns point of a given parameter between two 3D points.</p>
<p>Example: </p><div class="fragment"><div class="line">barycen 0 0 0 1 1 1 0.3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_19"></a>
2dbarycen</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dbarycen &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;par&gt;</div></div><!-- fragment --><p>Returns point of a given parameter between two 2D points.</p>
<p>Example: </p><div class="fragment"><div class="line">2dbarycen 0 0 1 1 0.3</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_20"></a>
cross</h3>
<p>Syntax: </p><div class="fragment"><div class="line">cross &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt;</div></div><!-- fragment --><p>Returns cross product of two 3D vectors.</p>
<p>Example: </p><div class="fragment"><div class="line">cross 1 0 0 0 1 0</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_21"></a>
2dcross</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dcross &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;</div></div><!-- fragment --><p>Returns cross product of two 2D vectors.</p>
<p>Example: </p><div class="fragment"><div class="line">2dcross 1 0 0 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_22"></a>
dot</h3>
<p>Syntax: </p><div class="fragment"><div class="line">dot &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt;</div></div><!-- fragment --><p>Returns scalar product of two 3D vectors.</p>
<p>Example: </p><div class="fragment"><div class="line">dot 1 0 0 0 1 0</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_23"></a>
2ddot</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2ddot &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;</div></div><!-- fragment --><p>Returns scalar product of two 2D vectors.</p>
<p>Example: </p><div class="fragment"><div class="line">2ddot 1 0 0 1</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_24"></a>
scale</h3>
<p>Syntax: </p><div class="fragment"><div class="line">scale &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;factor&gt;</div></div><!-- fragment --><p>Returns 3D vector multiplied by scalar.</p>
<p>Example: </p><div class="fragment"><div class="line">scale 1 0 0 5</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_1_25"></a>
2dscale</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dscale &lt;x&gt; &lt;y&gt; &lt;factor&gt;</div></div><!-- fragment --><p>Returns 2D vector multiplied by scalar.</p>
<p>Example: </p><div class="fragment"><div class="line">2dscale 1 0 5</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_12_2"></a>
Measurements commands</h2>
<p>This section describes commands that make possible to provide measurements on a model.</p>
<h3><a class="anchor" id="occt_draw_12_2_1"></a>
pnt</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pnt &lt;object&gt;</div></div><!-- fragment --><p>Returns coordinates of point in the given <a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> variable. Object can be of type point or vertex. Actually this command is built up from the commands <a class="el" href="occt_user_guides__test_harness.html#occt_draw_7_2_1a">mkpoint</a> and <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_1">coord</a>.</p>
<p>Example: </p><div class="fragment"><div class="line">vertex v 0 1 0</div><div class="line">pnt v</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_2"></a>
pntc</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pntc &lt;curv&gt; &lt;par&gt;</div></div><!-- fragment --><p>Returns coordinates of point on 3D curve with given parameter. Actually this command is based on the command <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_2">cvalue</a>.</p>
<p>Example: </p><div class="fragment"><div class="line">circle c 0 0 0 10</div><div class="line">pntc c [dval pi/2]</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_3"></a>
2dpntc</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2dpntc &lt;curv2d&gt; &lt;par&gt;</div></div><!-- fragment --><p>Returns coordinates of point on 2D curve with given parameter. Actually this command is based on the command <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_2">2dcvalue</a>.</p>
<p>Example: </p><div class="fragment"><div class="line">circle c 0 0 10</div><div class="line">2dpntc c [dval pi/2]</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_4"></a>
pntsu</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pntsu &lt;surf&gt; &lt;u&gt; &lt;v&gt;</div></div><!-- fragment --><p>Returns coordinates of point on surface with given parameters. Actually this command is based on the command <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_3">svalue</a>.</p>
<p>Example: </p><div class="fragment"><div class="line">cylinder s 10</div><div class="line">pntsu s [dval pi/2] 5</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_5"></a>
pntcons</h3>
<p>Syntax: </p><div class="fragment"><div class="line">pntcons &lt;curv2d&gt; &lt;surf&gt; &lt;par&gt;</div></div><!-- fragment --><p>Returns coordinates of point on surface defined by point on 2D curve with given parameter. Actually this command is based on the commands <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_2">2dcvalue</a> and <a class="el" href="occt_user_guides__test_harness.html#occt_draw_6_6_3">svalue</a>.</p>
<p>Example: </p><div class="fragment"><div class="line">line c 0 0 1 0</div><div class="line">cylinder s 10</div><div class="line">pntcons c s [dval pi/2]</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_6"></a>
drseg</h3>
<p>Syntax: </p><div class="fragment"><div class="line">drseg &lt;name&gt; &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt;</div></div><!-- fragment --><p>Creates a linear segment between two 3D points. The new object is given the <em>name</em>. The object is drawn in the axonometric view.</p>
<p>Example: </p><div class="fragment"><div class="line">drseg s 0 0 0 1 0 0</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_7"></a>
2ddrseg</h3>
<p>Syntax: </p><div class="fragment"><div class="line">2ddrseg &lt;name&gt; &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;</div></div><!-- fragment --><p>Creates a linear segment between two 2D points. The new object is given the <em>name</em>. The object is drawn in the 2D view.</p>
<p>Example: </p><div class="fragment"><div class="line">2ddrseg s 0 0 1 0</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_8"></a>
mpick</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mpick</div></div><!-- fragment --><p>Prints in the console the coordinates of a point clicked by mouse in a view (axonometric or 2D). This command will wait for mouse click event in a view.</p>
<p>Example: </p><div class="fragment"><div class="line">mpick</div></div><!-- fragment --><h3><a class="anchor" id="occt_draw_12_2_9"></a>
mdist</h3>
<p>Syntax: </p><div class="fragment"><div class="line">mdist</div></div><!-- fragment --><p>Prints in the console the distance between two points clicked by mouse in a view (axonometric or 2D). This command will wait for two mouse click events in a view.</p>
<p>Example: </p><div class="fragment"><div class="line">mdist</div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_13"></a>
Inspector commands</h1>
<p>This section describes commands that make possible to use Inspector.</p>
<h2><a class="anchor" id="occt_draw_13_1"></a>
tinspector</h2>
<p>Syntax: </p><div class="fragment"><div class="line">tinspector [-plugins {name1 ... [nameN] | all}]</div><div class="line">           [-activate name]</div><div class="line">           [-shape object [name1] ... [nameN]]</div><div class="line">           [-open file_name [name1] ... [nameN]]</div><div class="line">           [-update]</div><div class="line">           [-select {object | name1 ... [nameN]}]</div><div class="line">           [-show {0|1} = 1]</div></div><!-- fragment --><p> Starts inspection tool. Options:</p><ul>
<li><em>plugins</em> enters plugins that should be added in the inspector. Available names are: <em>dfbrowser</em>, <em>vinspector</em> and <em>shapeview</em>. Plugins order will be the same as defined in the arguments. 'all' adds all available plugins in the order: DFBrowser, VInspector and ShapeView. If at the first call this option is not used, 'all' option is applied;</li>
<li><em>activate</em> activates the plugin in the tool view. If at the first call this option is not used, the first plugin is activated;</li>
<li><em>shape</em> initializes plugin(s) by the shape object. If 'name' is empty, initializes all plugins;</li>
<li><em>open</em> gives the file to the plugin(s). If the plugin is active after open, the content will be updated;</li>
<li><em>update</em> updates content of the active plugin;</li>
<li><em>select</em> sets the parameter that should be selected in an active tool view. Depending on the active tool the parameter is: ShapeView: 'object' is an instance of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html">TopoDS_Shape</a> TShape</em>, DFBrowser: 'name' is an entry of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___label.html">TDF_Label</a></em> and 'name2' (optionally) for <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___attribute.html">TDF_Attribute</a></em> type name, VInspector: 'object' is an instance of <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_a_i_s___interactive_object.html">AIS_InteractiveObject</a></em>;</li>
<li><em>show</em> sets Inspector view visible or hidden. The first call of this command will show it.</li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">pload DCAF INSPECTOR</div><div class="line"></div><div class="line">NewDocument Doc BinOcaf</div><div class="line"></div><div class="line">set aSetAttr1 100</div><div class="line">set aLabel 0:2</div><div class="line">SetInteger Doc ${aLabel} ${aSetAttr1}</div><div class="line"></div><div class="line">tinspector -plugins dfbrowser -select 0:2 TDataStd_Integer</div></div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">pload ALL INSPECTOR</div><div class="line"></div><div class="line">box b1 200 100 120</div><div class="line">box b2 100 200 220 100 120 100</div><div class="line"></div><div class="line">tinspector -plugins shapeview -shape b1 -shape b2 -select b1</div></div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">pload ALL INSPECTOR</div><div class="line"></div><div class="line">tinspector -plugins vinspector</div><div class="line"></div><div class="line">vinit</div><div class="line">box box_1 100 100 100</div><div class="line">vdisplay box_1</div><div class="line"></div><div class="line">box box_2 180 120 200 150 150 150</div><div class="line">vdisplay box_2</div><div class="line"></div><div class="line">vfit</div><div class="line">vselmode box_1 1 1</div><div class="line">vselmode box_1 3 1</div><div class="line"></div><div class="line">tinspector -update -select box_1</div></div><!-- fragment --><h1><a class="anchor" id="occt_draw_11"></a>
Extending Test Harness with custom commands</h1>
<p>The following chapters explain how to extend Test Harness with custom commands and how to activate them using a plug-in mechanism.</p>
<h2><a class="anchor" id="occt_draw_11_1"></a>
Custom command implementation</h2>
<p>Custom command implementation has not undergone any changes since the introduction of the plug-in mechanism. The syntax of every command should still be like in the following example.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">static Standard_Integer myadvcurve(Draw_Interpretor&amp; di, Standard_Integer n, char** a) </div><div class="line">{ </div><div class="line">... </div><div class="line">} </div></div><!-- fragment --><p>For examples of existing commands refer to Open CASCADE Technology (e.g. GeomliteTest.cxx).</p>
<h2><a class="anchor" id="occt_draw_11_2"></a>
Registration of commands in Test Harness</h2>
<p>To become available in the Test Harness the custom command must be registered in it. This should be done as follows.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">void MyPack::CurveCommands(Draw_Interpretor&amp; theCommands) </div><div class="line">{ </div><div class="line">... </div><div class="line">char* g = &quot;Advanced curves creation&quot;; </div><div class="line"></div><div class="line">theCommands.Add ( &quot;myadvcurve&quot;, &quot;myadvcurve name p1 p2 p3 - Creates my advanced curve from points&quot;, </div><div class="line">                  __FILE__, myadvcurve, g ); </div><div class="line">... </div><div class="line">} </div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_11_3"></a>
Creating a toolkit (library) as a plug-in</h2>
<p>All custom commands are compiled and linked into a dynamic library (.dll on Windows, or .so on Unix/Linux). To make Test Harness recognize it as a plug-in it must respect certain conventions. Namely, it must export function <em>PLUGINFACTORY()</em> accepting the Test Harness interpreter object (<em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw___interpretor.html">Draw_Interpretor</a></em>). This function will be called when the library is dynamically loaded during the Test Harness session.</p>
<p>This exported function <em>PLUGINFACTORY()</em> must be implemented only once per library.</p>
<p>For convenience the <em>DPLUGIN</em> macro (defined in the <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_draw___plugin_macro_8hxx.html">Draw_PluginMacro.hxx</a></em> file) has been provided. It implements the <em>PLUGINFACTORY()</em> function as a call to the <em>Package::Factory()</em> method and accepts <em>Package</em> as an argument. Respectively, this <em>Package::Factory()</em> method must be implemented in the library and activate all implemented commands.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">#include &lt;Draw_PluginMacro.hxx&gt;</div><div class="line"></div><div class="line">void MyPack::Factory(Draw_Interpretor&amp; theDI)</div><div class="line">{</div><div class="line">...</div><div class="line">// </div><div class="line">MyPack::CurveCommands(theDI);</div><div class="line">...</div><div class="line">}</div><div class="line"></div><div class="line">// Declare entry point PLUGINFACTORY</div><div class="line">DPLUGIN(MyPack)</div></div><!-- fragment --><h2><a class="anchor" id="occt_draw_11_4"></a>
Creation of the plug-in resource file</h2>
<p>As mentioned above, the plug-in resource file must be compliant with Open CASCADE Technology requirements (see <em><a class="elRef" doxygen="C:/builds/OCCT-740_OCCT-740/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_resource___manager_8hxx.html">Resource_Manager.hxx</a></em> file for details). In particular, it should contain keys separated from their values by a colon (;:;). For every created plug-in there must be a key. For better readability and comprehension it is recommended to have some meaningful name. Thus, the resource file must contain a line mapping this name (key) to the library name. The latter should be without file extension (.dll on Windows, .so on Unix/Linux) and without the ;lib; prefix on Unix/Linux. For several plug-ins one resource file can be created. In such case, keys denoting plug-ins can be combined into groups, these groups &ndash; into their groups and so on (thereby creating some hierarchy). Any new parent key must have its value as a sequence of child keys separated by spaces, tabs or commas. Keys should form a tree without cyclic dependencies.</p>
<p><b>Examples</b> (file MyDrawPlugin): </p><div class="fragment"><div class="line">! Hierarchy of plug-ins </div><div class="line">ALL                : ADVMODELING, MESHING </div><div class="line">DEFAULT            : MESHING </div><div class="line">ADVMODELING        : ADVSURF, ADVCURV </div><div class="line"></div><div class="line">! Mapping from naming to toolkits (libraries) </div><div class="line">ADVSURF            : TKMyAdvSurf </div><div class="line">ADVCURV            : TKMyAdvCurv </div><div class="line">MESHING            : TKMyMesh </div></div><!-- fragment --><p>For other examples of the plug-in resource file refer to the <a class="el" href="occt_user_guides__test_harness.html#occt_draw_1_3_2">Plug-in resource file</a> chapter above or to the <em>$CASROOT/src/DrawPlugin</em> file shipped with Open CASCADE Technology.</p>
<h2><a class="anchor" id="occt_draw_11_5"></a>
Dynamic loading and activation</h2>
<p>Loading a plug-in and activating its commands is described in the <a class="el" href="occt_user_guides__test_harness.html#occt_draw_1_3_3">Activation of the commands implemented in the plug-in</a> chapter.</p>
<p>The procedure consists in defining the system variables and using the <em>pload</em> commands in the Test Harness session.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">Draw[]&gt; set env(CSF_MyDrawPluginDefaults) /users/test</div><div class="line">Draw[]&gt; pload -MyDrawPlugin ALL</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 26 2019 18:39:16 for Open CASCADE Technology by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
