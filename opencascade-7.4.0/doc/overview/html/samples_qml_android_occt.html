<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open CASCADE Technology: OCCT AndroidQt sample for Android</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="occ_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.4.0.beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('samples_qml_android_occt.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">OCCT AndroidQt sample for Android </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This sample demonstrates a simple way of using OCCT libraries in Android application written using Qt/Qml.</p>
<p>The connection between Qt/Qml and OCCT (C++) level is provided by proxy library, libAndroidQt.so, written in C++. The proxy library contains single C++ class AndroidQt encapsulating OCCT viewer and providing functionality to manipulate this viewer and to import OCCT shapes from supported format of CAD file (BREP).</p>
<p>Requirements for building sample:</p><ul>
<li>Java Development Kit 1.7 or higher</li>
<li>Qt 5.3 or higher</li>
<li>Android SDK from 2014.07.02 or newer</li>
<li>Android NDK r9d or newer</li>
<li>Apache Ant 1.9.4 or higher</li>
<li>OCCT compiled under Android platform and placed in directories:<ul>
<li>occt/libs/armeabi-v7a/*.so and occt/inc/*.hxx (libraries and include files of OCCT install)</li>
<li>android/assets/opencascade/shared/Shaders/* (Shaders folder of OCCT install: /share/opencascade/resources/Shaders)</li>
<li>3rdparty/include/freetype2/*, 3rdparty/include/FreeImage.h and 3rdparty/libs/armeabi-v7a/libFreeImage.so and 3rdparty/libs/armeabi-v7a/libfreetype.so</li>
</ul>
</li>
</ul>
<p>It is also possible to to correct OCCT.pri file an get resources from another tree of directories.</p>
<p>When AndroidQt will be started, it may be helpful to have some default data files(BRep) on Device for opening in AndroidQt. Copy these files into "android\assets\opencascade\shared" and it will be installed to device during compilation procedure.</p>
<p>Having prepared all these products, configure AndroidQt project for building sample:</p>
<p>In QtCreator, open AndroidQt.pro project-file: </p><div class="fragment"><div class="line">File -&gt; Open file or Project... </div></div><!-- fragment --><p>Specify Android configurations: </p><div class="fragment"><div class="line">Tools-&gt;Options-&gt;Android</div></div><!-- fragment --><ul>
<li>In JDK location specify path to Java Development Kit</li>
<li>In Android SDK location specify path to Android SDK</li>
<li>In Android NDK location specify path to Android NDK (During this location definition, warning is possible and OK: "Qt version for architecture mips is missing. To add the Qt version, select Options &gt; Build &amp; Run &gt; Qt Versins.")</li>
<li>In Ant executable specify path to ant.bat file located in Apache Ant bin directory</li>
</ul>
<p>Make sure that "Android for armeabi-v7a" kit has been detected (present in the list). </p><div class="fragment"><div class="line">Tools-&gt;Options-&gt;Build &amp; Run</div></div><!-- fragment --><p>also or it can be checked or corrected in: </p><div class="fragment"><div class="line">Projects-&gt;Android for armeabi-v7a option should be checked</div></div><!-- fragment --><p>Switch On device, connect it to PC and define it in Qt Creator: </p><div class="fragment"><div class="line">Projects-&gt;Manage Kits...-&gt;Devices-&gt;Device: Run on Android</div></div><!-- fragment --><p> Check that "Current state" is "Ready to use" on this page.</p>
<div class="fragment"><div class="line">Projects-&gt;Build Settings-&gt;General: Shadow build is switched OFF</div></div><!-- fragment --><p>Start configuration:</p>
<div class="fragment"><div class="line">Call Build -&gt; Run qmake</div></div><!-- fragment --><p> Check content of "Compile Output" view.</p>
<p>In order to perform qmake correctly, for example if you have the following error: </p><div class="fragment"><div class="line">Running steps for project AndroidQt...</div><div class="line">Could not start process &quot;&lt;qt_dir&gt;\android_armv7\bin\qmake.exe&quot; &lt;occt_dir&gt;\samples\qt\AndroidQt\AndroidQt.pro -r -spec android-g++ &quot;CONFIG+=debug&quot; &quot;CONFIG+=declarative_debug&quot; &quot;CONFIG+=qml_debug&quot;</div><div class="line">Error while building/deploying project AndroidQt (kit: Android for armeabi-v7a (GCC 4.9, Qt 5.3.2))</div><div class="line">When executing step &quot;qmake&quot;</div></div><!-- fragment --><div class="fragment"><div class="line">Projects-&gt;Build Settings-&gt;General: switch OFF Shadow build</div><div class="line">Build-&gt;Build Project &quot;Android Qt&quot;</div><div class="line">Build-&gt;Run</div></div><!-- fragment --><p>Dialog to "Select Android Device" is shown. Select Compatible Device, Ok. In case of any error, see log in "Application Output" view.</p>
<p>After successful build the application can be deployed to device or emulator. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 26 2019 18:39:14 for Open CASCADE Technology by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
