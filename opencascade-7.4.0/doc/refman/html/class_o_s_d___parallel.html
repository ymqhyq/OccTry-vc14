<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open CASCADE Technology: OSD_Parallel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.4.0.beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Open CASCADE Technology</a></li><li class="navelem"><a class="el" href="module_foundationclasses.html">Module FoundationClasses</a></li><li class="navelem"><a class="el" href="toolkit_tkernel.html">Toolkit TKernel</a></li>    <li class="navelem"><a class="el" href="package_osd.html">Package OSD </a>      </li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">OSD_Parallel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple tool for code parallelization.  
 <a href="class_o_s_d___parallel.html#details">More...</a></p>

<p><code>#include &lt;OSD_Parallel.hxx&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel_1_1_functor_interface.html">FunctorInterface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface class representing functor object. Intended to add polymorphic behavour to For and ForEach functionality enabling execution of arbitrary function in parallel mode.  <a href="class_o_s_d___parallel_1_1_functor_interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel_1_1_universal_iterator.html">UniversalIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixed-type iterator, implementing STL forward iterator interface, used for iteration over objects subject to parallel processing. It stores pointer to instance of polymorphic iterator inheriting from IteratorInterface, which contains actual type-specific iterator.  <a href="class_o_s_d___parallel_1_1_universal_iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">public methods</div></td></tr>
<tr class="memitem:a0ce98bbbb129296b3eb9a2e871c54365"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel.html#a0ce98bbbb129296b3eb9a2e871c54365">ToUseOcctThreads</a> ()</td></tr>
<tr class="memdesc:a0ce98bbbb129296b3eb9a2e871c54365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns TRUE if OCCT threads should be used instead of auxiliary threads library; default value is FALSE if alternative library has been enabled while OCCT building and TRUE otherwise.  <a href="#a0ce98bbbb129296b3eb9a2e871c54365">More...</a><br /></td></tr>
<tr class="separator:a0ce98bbbb129296b3eb9a2e871c54365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fd57f6b0b5dc317962581b427f9767"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel.html#a16fd57f6b0b5dc317962581b427f9767">SetUseOcctThreads</a> (<a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a> theToUseOcct)</td></tr>
<tr class="memdesc:a16fd57f6b0b5dc317962581b427f9767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets if OCCT threads should be used instead of auxiliary threads library. Has no effect if OCCT has been built with no auxiliary threads library.  <a href="#a16fd57f6b0b5dc317962581b427f9767">More...</a><br /></td></tr>
<tr class="separator:a16fd57f6b0b5dc317962581b427f9767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9a175bedf6519278465e634a1ee672"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel.html#aae9a175bedf6519278465e634a1ee672">NbLogicalProcessors</a> ()</td></tr>
<tr class="memdesc:aae9a175bedf6519278465e634a1ee672"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of logical processors.  <a href="#aae9a175bedf6519278465e634a1ee672">More...</a><br /></td></tr>
<tr class="separator:aae9a175bedf6519278465e634a1ee672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac36427cb8638f6b5b92e5c39c5d5d4d"><td class="memTemplParams" colspan="2">template&lt;typename InputIterator , typename Functor &gt; </td></tr>
<tr class="memitem:aac36427cb8638f6b5b92e5c39c5d5d4d"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel.html#aac36427cb8638f6b5b92e5c39c5d5d4d">ForEach</a> (InputIterator theBegin, InputIterator theEnd, const Functor &amp;theFunctor, const <a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a> isForceSingleThreadExecution=<a class="el" href="_standard___type_def_8hxx.html#a7b6e608c3535f709d07e1ad1c933ae20">Standard_False</a>, <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a> theNbItems=-1)</td></tr>
<tr class="memdesc:aac36427cb8638f6b5b92e5c39c5d5d4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple primitive for parallelization of "foreach" loops, equivalent to:  <a href="#aac36427cb8638f6b5b92e5c39c5d5d4d">More...</a><br /></td></tr>
<tr class="separator:aac36427cb8638f6b5b92e5c39c5d5d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28388a5c3de7e40cff17bf73a6d65d3"><td class="memTemplParams" colspan="2">template&lt;typename Functor &gt; </td></tr>
<tr class="memitem:af28388a5c3de7e40cff17bf73a6d65d3"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_o_s_d___parallel.html#af28388a5c3de7e40cff17bf73a6d65d3">For</a> (const <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a> theBegin, const <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a> theEnd, const Functor &amp;theFunctor, const <a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a> isForceSingleThreadExecution=<a class="el" href="_standard___type_def_8hxx.html#a7b6e608c3535f709d07e1ad1c933ae20">Standard_False</a>)</td></tr>
<tr class="memdesc:af28388a5c3de7e40cff17bf73a6d65d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple primitive for parallelization of "for" loops, equivalent to:  <a href="#af28388a5c3de7e40cff17bf73a6d65d3">More...</a><br /></td></tr>
<tr class="separator:af28388a5c3de7e40cff17bf73a6d65d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple tool for code parallelization. </p>
<p><a class="el" href="class_o_s_d___parallel.html" title="Simple tool for code parallelization. ">OSD_Parallel</a> class provides simple interface for parallel processing of tasks that can be formulated in terms of "for" or "foreach" loops.</p>
<p>To use this tool it is necessary to:</p><ul>
<li>organize the data to be processed in a collection accessible by iteration (usually array or vector);</li>
<li>implement a functor class providing operator () accepting iterator (or index in array) that does the job;</li>
<li>call either <a class="el" href="class_o_s_d___parallel.html#af28388a5c3de7e40cff17bf73a6d65d3" title="Simple primitive for parallelization of &quot;for&quot; loops, equivalent to: ">For()</a> or <a class="el" href="class_o_s_d___parallel.html#aac36427cb8638f6b5b92e5c39c5d5d4d" title="Simple primitive for parallelization of &quot;foreach&quot; loops, equivalent to: ">ForEach()</a> providing begin and end iterators and a functor object.</li>
</ul>
<p>Iterators should satisfy requirements of STL forward iterator. Functor</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Functor</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="keywordtype">void</span> operator() ([proccesing instance])<span class="keyword"> const</span></div><div class="line"><span class="keyword">  </span>{</div><div class="line">    <span class="comment">//...</span></div><div class="line">  }</div><div class="line">};</div></div><!-- fragment --><p>The operator () should be implemented in a thread-safe way so that the same functor object can process different data items in parallel threads.</p>
<p>Iteration by index (For) is expected to be more efficient than using iterators (ForEach).</p>
<p>Implementation uses TBB if OCCT is built with support of TBB; otherwise it uses ad-hoc parallelization tool. In general, if TBB is available, it is more efficient to use it directly instead of using <a class="el" href="class_o_s_d___parallel.html" title="Simple tool for code parallelization. ">OSD_Parallel</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af28388a5c3de7e40cff17bf73a6d65d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28388a5c3de7e40cff17bf73a6d65d3">&#9670;&nbsp;</a></span>For()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSD_Parallel::For </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a>&#160;</td>
          <td class="paramname"><em>theBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a>&#160;</td>
          <td class="paramname"><em>theEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Functor &amp;&#160;</td>
          <td class="paramname"><em>theFunctor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a>&#160;</td>
          <td class="paramname"><em>isForceSingleThreadExecution</em> = <code><a class="el" href="_standard___type_def_8hxx.html#a7b6e608c3535f709d07e1ad1c933ae20">Standard_False</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simple primitive for parallelization of "for" loops, equivalent to: </p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> anIter = theBegin; anIter != theEnd; ++anIter) {</div><div class="line">  theFunctor(anIter);</div><div class="line">}</div></div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theBegin</td><td>the first index (inclusive) </td></tr>
    <tr><td class="paramname">theEnd</td><td>the last index (exclusive) </td></tr>
    <tr><td class="paramname">theFunctor</td><td>functor providing an interface "void operator(int theIndex){}" performing task for specified index </td></tr>
    <tr><td class="paramname">isForceSingleThreadExecution</td><td>if true, then no threads will be created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac36427cb8638f6b5b92e5c39c5d5d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac36427cb8638f6b5b92e5c39c5d5d4d">&#9670;&nbsp;</a></span>ForEach()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputIterator , typename Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSD_Parallel::ForEach </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>theBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>theEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Functor &amp;&#160;</td>
          <td class="paramname"><em>theFunctor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a>&#160;</td>
          <td class="paramname"><em>isForceSingleThreadExecution</em> = <code><a class="el" href="_standard___type_def_8hxx.html#a7b6e608c3535f709d07e1ad1c933ae20">Standard_False</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a>&#160;</td>
          <td class="paramname"><em>theNbItems</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simple primitive for parallelization of "foreach" loops, equivalent to: </p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> anIter = theBegin; anIter != theEnd; ++anIter) {</div><div class="line">  theFunctor(*anIter);</div><div class="line">}</div></div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theBegin</td><td>the first index (inclusive) </td></tr>
    <tr><td class="paramname">theEnd</td><td>the last index (exclusive) </td></tr>
    <tr><td class="paramname">theFunctor</td><td>functor providing an interface "void operator(InputIterator theIter){}" performing task for specified iterator position </td></tr>
    <tr><td class="paramname">isForceSingleThreadExecution</td><td>if true, then no threads will be created </td></tr>
    <tr><td class="paramname">theNbItems</td><td>number of items passed by iterator, -1 if unknown </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae9a175bedf6519278465e634a1ee672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9a175bedf6519278465e634a1ee672">&#9670;&nbsp;</a></span>NbLogicalProcessors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_standard___type_def_8hxx.html#a844729aed1c6f9f5aadd6d4e9ddd5984">Standard_Integer</a> OSD_Parallel::NbLogicalProcessors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns number of logical processors. </p>

</div>
</div>
<a id="a16fd57f6b0b5dc317962581b427f9767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16fd57f6b0b5dc317962581b427f9767">&#9670;&nbsp;</a></span>SetUseOcctThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSD_Parallel::SetUseOcctThreads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a>&#160;</td>
          <td class="paramname"><em>theToUseOcct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets if OCCT threads should be used instead of auxiliary threads library. Has no effect if OCCT has been built with no auxiliary threads library. </p>

</div>
</div>
<a id="a0ce98bbbb129296b3eb9a2e871c54365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce98bbbb129296b3eb9a2e871c54365">&#9670;&nbsp;</a></span>ToUseOcctThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_standard___type_def_8hxx.html#a03b92feca37cfb9c80cb41a5f6df6cef">Standard_Boolean</a> OSD_Parallel::ToUseOcctThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns TRUE if OCCT threads should be used instead of auxiliary threads library; default value is FALSE if alternative library has been enabled while OCCT building and TRUE otherwise. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_o_s_d___parallel_8hxx.html">OSD_Parallel.hxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

